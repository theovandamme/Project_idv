function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function c(t,e,n,o){if(t){const i=u(t,e,n,o);return t[0](i)}}function u(t,n,o,i){return t[1]&&i?e(o.ctx.slice(),t[1](i(n))):o.ctx}function l(t,e,n,o,i,r,s){const a=function(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|i[o];return t}return e.dirty|i}return e.dirty}(e,o,i,r);if(a){const i=u(e,n,o,s);t.p(i,a)}}function h(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function m(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function k(){return y(" ")}function v(){return y("")}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){for(const n in e)M(t,n,e[n])}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let $;function T(t){$=t}function _(){if(!$)throw new Error("Function called outside component initialization");return $}function w(t){_().$$.on_mount.push(t)}function S(t){_().$$.on_destroy.push(t)}function C(t,e){_().$$.context.set(t,e)}function O(t){return _().$$.context.get(t)}const A=[],L=[],P=[],E=[],I=Promise.resolve();let X=!1;function R(){X||(X=!0,I.then(H))}function N(t){P.push(t)}let Y=!1;const W=new Set;function H(){if(!Y){Y=!0;do{for(let t=0;t<A.length;t+=1){const e=A[t];T(e),D(e.$$)}for(T(null),A.length=0;L.length;)L.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];W.has(e)||(W.add(e),e())}P.length=0}while(A.length);for(;E.length;)E.pop()();X=!1,Y=!1,W.clear()}}function D(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const B=new Set;let F;function z(){F={r:0,c:[],p:F}}function j(){F.r||i(F.c),F=F.p}function G(t,e){t&&t.i&&(B.delete(t),t.i(e))}function J(t,e,n,o){if(t&&t.o){if(B.has(t))return;B.add(t),F.c.push((()=>{B.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function q(t,e){t.d(1),e.delete(t.key)}function V(t,e,n,o,i,r,s,a,c,u,l,h){let d=t.length,f=r.length,p=d;const g={};for(;p--;)g[t[p].key]=p;const m=[],y=new Map,k=new Map;for(p=f;p--;){const t=h(i,r,p),a=n(t);let c=s.get(a);c?o&&c.p(t,e):(c=u(a,t),c.c()),y.set(a,m[p]=c),a in g&&k.set(a,Math.abs(p-g[a]))}const v=new Set,M=new Set;function x(t){G(t,1),t.m(a,l),s.set(t.key,t),l=t.first,f--}for(;d&&f;){const e=m[f-1],n=t[d-1],o=e.key,i=n.key;e===n?(l=e.first,d--,f--):y.has(i)?!s.has(o)||v.has(o)?x(e):M.has(i)?d--:k.get(o)>k.get(i)?(M.add(o),x(e)):(v.add(i),d--):(c(n,s),d--)}for(;d--;){const e=t[d];y.has(e.key)||c(e,s)}for(;f;)x(m[f-1]);return m}function K(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const s=t[r],a=e[r];if(a){for(const t in s)t in a||(o[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[r]=a}else for(const t in s)i[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function U(t){return"object"==typeof t&&null!==t?t:{}}function Z(t){t&&t.c()}function Q(t,e,o){const{fragment:s,on_mount:a,on_destroy:c,after_update:u}=t.$$;s&&s.m(e,o),N((()=>{const e=a.map(n).filter(r);c?c.push(...e):i(e),t.$$.on_mount=[]})),u.forEach(N)}function tt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(e,n,r,s,a,c,u=[-1]){const l=$;T(e);const h=n.props||{},d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:o(),dirty:u,skip_bound:!1};let p=!1;if(d.ctx=r?r(e,h,((t,n,...o)=>{const i=o.length?o[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),p&&function(t,e){-1===t.$$.dirty[0]&&(A.push(t),R(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),p=!0,i(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(f)}else d.fragment&&d.fragment.c();n.intro&&G(e.$$.fragment),Q(e,n.target,n.anchor),H()}T(l)}class nt{$destroy(){tt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ot=[];function it(e,n=t){let o;const i=[];function r(t){if(s(e,t)&&(e=t,o)){const t=!ot.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),ot.push(n,e)}if(t){for(let t=0;t<ot.length;t+=2)ot[t][0](ot[t+1]);ot.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,a=t){const c=[s,a];return i.push(c),1===i.length&&(o=n(r)||t),s(e),()=>{const t=i.indexOf(c);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}const rt=Math.PI,st=2*rt,at=st-1e-6;function ct(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ut(){return new ct}function lt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ht(t){let e=t,n=t,o=t;function i(t,e,i=0,r=t.length){if(i<r){if(0!==n(e,e))return r;do{const n=i+r>>>1;o(t[n],e)<0?i=n+1:r=n}while(i<r)}return i}return 2!==t.length&&(e=(e,n)=>t(e)-n,n=lt,o=(e,n)=>lt(t(e),n)),{left:i,center:function(t,n,o=0,r=t.length){const s=i(t,n,o,r-1);return s>o&&e(t[s-1],n)>-e(t[s],n)?s-1:s},right:function(t,e,i=0,r=t.length){if(i<r){if(0!==n(e,e))return r;do{const n=i+r>>>1;o(t[n],e)<=0?i=n+1:r=n}while(i<r)}return i}}}ct.prototype=ut.prototype={constructor:ct,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,o){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+o)},bezierCurveTo:function(t,e,n,o,i,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +o+","+(this._x1=+i)+","+(this._y1=+r)},arcTo:function(t,e,n,o,i){t=+t,e=+e,n=+n,o=+o,i=+i;var r=this._x1,s=this._y1,a=n-t,c=o-e,u=r-t,l=s-e,h=u*u+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(l*a-c*u)>1e-6&&i){var d=n-r,f=o-s,p=a*a+c*c,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(h),k=i*Math.tan((rt-Math.acos((p+h-g)/(2*m*y)))/2),v=k/y,M=k/m;Math.abs(v-1)>1e-6&&(this._+="L"+(t+v*u)+","+(e+v*l)),this._+="A"+i+","+i+",0,0,"+ +(l*d>u*f)+","+(this._x1=t+M*a)+","+(this._y1=e+M*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,o,i,r){t=+t,e=+e,r=!!r;var s=(n=+n)*Math.cos(o),a=n*Math.sin(o),c=t+s,u=e+a,l=1^r,h=r?o-i:i-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+u:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+c+","+u),n&&(h<0&&(h=h%st+st),h>at?this._+="A"+n+","+n+",0,1,"+l+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=u):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=rt)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,o){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +o+"h"+-n+"Z"},toString:function(){return this._}};const dt=ht(lt).right;ht((function(t){return null===t?NaN:+t})).center;var ft=Math.sqrt(50),pt=Math.sqrt(10),gt=Math.sqrt(2);function mt(t,e,n){var o=(e-t)/Math.max(0,n),i=Math.floor(Math.log(o)/Math.LN10),r=o/Math.pow(10,i);return i>=0?(r>=ft?10:r>=pt?5:r>=gt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(r>=ft?10:r>=pt?5:r>=gt?2:1)}function yt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function kt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vt(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function Mt(){}var xt=1/.7,bt="\\s*([+-]?\\d+)\\s*",$t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_t=/^#([0-9a-f]{3,8})$/,wt=new RegExp("^rgb\\("+[bt,bt,bt]+"\\)$"),St=new RegExp("^rgb\\("+[Tt,Tt,Tt]+"\\)$"),Ct=new RegExp("^rgba\\("+[bt,bt,bt,$t]+"\\)$"),Ot=new RegExp("^rgba\\("+[Tt,Tt,Tt,$t]+"\\)$"),At=new RegExp("^hsl\\("+[$t,Tt,Tt]+"\\)$"),Lt=new RegExp("^hsla\\("+[$t,Tt,Tt,$t]+"\\)$"),Pt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Et(){return this.rgb().formatHex()}function It(){return this.rgb().formatRgb()}function Xt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_t.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Rt(e):3===n?new Ht(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Nt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Nt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=wt.exec(t))?new Ht(e[1],e[2],e[3],1):(e=St.exec(t))?new Ht(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ct.exec(t))?Nt(e[1],e[2],e[3],e[4]):(e=Ot.exec(t))?Nt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=At.exec(t))?zt(e[1],e[2]/100,e[3]/100,1):(e=Lt.exec(t))?zt(e[1],e[2]/100,e[3]/100,e[4]):Pt.hasOwnProperty(t)?Rt(Pt[t]):"transparent"===t?new Ht(NaN,NaN,NaN,0):null}function Rt(t){return new Ht(t>>16&255,t>>8&255,255&t,1)}function Nt(t,e,n,o){return o<=0&&(t=e=n=NaN),new Ht(t,e,n,o)}function Yt(t){return t instanceof Mt||(t=Xt(t)),t?new Ht((t=t.rgb()).r,t.g,t.b,t.opacity):new Ht}function Wt(t,e,n,o){return 1===arguments.length?Yt(t):new Ht(t,e,n,null==o?1:o)}function Ht(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}function Dt(){return"#"+Ft(this.r)+Ft(this.g)+Ft(this.b)}function Bt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ft(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function zt(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gt(t,e,n,o)}function jt(t){if(t instanceof Gt)return new Gt(t.h,t.s,t.l,t.opacity);if(t instanceof Mt||(t=Xt(t)),!t)return new Gt;if(t instanceof Gt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),s=NaN,a=r-i,c=(r+i)/2;return a?(s=e===r?(n-o)/a+6*(n<o):n===r?(o-e)/a+2:(e-n)/a+4,a/=c<.5?r+i:2-r-i,s*=60):a=c>0&&c<1?0:s,new Gt(s,a,c,t.opacity)}function Gt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}function Jt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}kt(Mt,Xt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Et,formatHex:Et,formatHsl:function(){return jt(this).formatHsl()},formatRgb:It,toString:It}),kt(Ht,Wt,vt(Mt,{brighter:function(t){return t=null==t?xt:Math.pow(xt,t),new Ht(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ht(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dt,formatHex:Dt,formatRgb:Bt,toString:Bt})),kt(Gt,(function(t,e,n,o){return 1===arguments.length?jt(t):new Gt(t,e,n,null==o?1:o)}),vt(Mt,{brighter:function(t){return t=null==t?xt:Math.pow(xt,t),new Gt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Gt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new Ht(Jt(t>=240?t-240:t+120,i,o),Jt(t,i,o),Jt(t<120?t+240:t-120,i,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var qt=t=>()=>t;function Vt(t){return 1==(t=+t)?Kt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}(e,n,t):qt(isNaN(e)?n:e)}}function Kt(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):qt(isNaN(t)?e:t)}var Ut=function t(e){var n=Vt(e);function o(t,e){var o=n((t=Wt(t)).r,(e=Wt(e)).r),i=n(t.g,e.g),r=n(t.b,e.b),s=Kt(t.opacity,e.opacity);return function(e){return t.r=o(e),t.g=i(e),t.b=r(e),t.opacity=s(e),t+""}}return o.gamma=t,o}(1);function Zt(t,e){e||(e=[]);var n,o=t?Math.min(e.length,t.length):0,i=e.slice();return function(r){for(n=0;n<o;++n)i[n]=t[n]*(1-r)+e[n]*r;return i}}function Qt(t,e){var n,o=e?e.length:0,i=t?Math.min(o,t.length):0,r=new Array(i),s=new Array(o);for(n=0;n<i;++n)r[n]=se(t[n],e[n]);for(;n<o;++n)s[n]=e[n];return function(t){for(n=0;n<i;++n)s[n]=r[n](t);return s}}function te(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function ee(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ne(t,e){var n,o={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?o[n]=se(t[n],e[n]):i[n]=e[n];return function(t){for(n in o)i[n]=o[n](t);return i}}var oe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ie=new RegExp(oe.source,"g");function re(t,e){var n,o,i,r=oe.lastIndex=ie.lastIndex=0,s=-1,a=[],c=[];for(t+="",e+="";(n=oe.exec(t))&&(o=ie.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,c.push({i:s,x:ee(n,o)})),r=ie.lastIndex;return r<e.length&&(i=e.slice(r),a[s]?a[s]+=i:a[++s]=i),a.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,o=0;o<e;++o)a[(n=c[o]).i]=n.x(t);return a.join("")})}function se(t,e){var n,o=typeof e;return null==e||"boolean"===o?qt(e):("number"===o?ee:"string"===o?(n=Xt(e))?(e=n,Ut):re:e instanceof Xt?Ut:e instanceof Date?te:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Zt:Array.isArray(e)?Qt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ne:ee)(t,e)}function ae(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ce(t){return+t}var ue=[0,1];function le(t){return t}function he(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function de(t,e,n){var o=t[0],i=t[1],r=e[0],s=e[1];return i<o?(o=he(i,o),r=n(s,r)):(o=he(o,i),r=n(r,s)),function(t){return r(o(t))}}function fe(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<o;)i[s]=he(t[s],t[s+1]),r[s]=n(e[s],e[s+1]);return function(e){var n=dt(t,e,1,o)-1;return r[n](i[n](e))}}function pe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ge(){var t,e,n,o,i,r,s=ue,a=ue,c=se,u=le;function l(){var t=Math.min(s.length,a.length);return u!==le&&(u=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(s[0],s[t-1])),o=t>2?fe:de,i=r=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=o(s.map(t),a,c)))(t(u(e)))}return h.invert=function(n){return u(e((r||(r=o(a,s.map(t),ee)))(n)))},h.domain=function(t){return arguments.length?(s=Array.from(t,ce),l()):s.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),l()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),c=ae,l()},h.clamp=function(t){return arguments.length?(u=!!t||le,l()):u!==le},h.interpolate=function(t){return arguments.length?(c=t,l()):c},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,o){return t=n,e=o,l()}}function me(){return ge()(le,le)}function ye(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function ke(t){return(t=ye(Math.abs(t)))?t[1]:NaN}var ve,Me=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xe(t){if(!(e=Me.exec(t)))throw new Error("invalid format: "+t);var e;return new be({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function be(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function $e(t,e){var n=ye(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}xe.prototype=be.prototype,be.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Te={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$e(100*t,e),r:$e,s:function(t,e){var n=ye(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(ve=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=o.length;return r===s?o:r>s?o+new Array(r-s+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+ye(t,Math.max(0,e+r-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _e(t){return t}var we,Se,Ce,Oe=Array.prototype.map,Ae=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Le(t){var e,n,o=void 0===t.grouping||void 0===t.thousands?_e:(e=Oe.call(t.grouping,Number),n=t.thousands+"",function(t,o){for(var i=t.length,r=[],s=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>o&&(a=Math.max(1,o-c)),r.push(t.substring(i-=a,i+a)),!((c+=a+1)>o));)a=e[s=(s+1)%e.length];return r.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?_e:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Oe.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=xe(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,k=t.type;"n"===k?(g=!0,k="g"):Te[k]||(void 0===m&&(m=12),y=!0,k="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",M="$"===d?r:/[%p]/.test(k)?c:"",x=Te[k],b=/[defgprs%]/.test(k);function $(t){var i,r,c,d=v,$=M;if("c"===k)$=x(t)+$,t="";else{var T=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,o=1,i=-1;o<n;++o)switch(t[o]){case".":i=e=o;break;case"0":0===i&&(i=o),e=o;break;default:if(!+t[o])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),T&&0==+t&&"+"!==h&&(T=!1),d=(T?"("===h?h:u:"-"===h||"("===h?"":h)+d,$=("s"===k?Ae[8+ve/3]:"")+$+(T&&"("===h?")":""),b)for(i=-1,r=t.length;++i<r;)if(48>(c=t.charCodeAt(i))||c>57){$=(46===c?s+t.slice(i+1):t.slice(i))+$,t=t.slice(0,i);break}}g&&!f&&(t=o(t,1/0));var _=d.length+t.length+$.length,w=_<p?new Array(p-_+1).join(e):"";switch(g&&f&&(t=o(w+t,w.length?p-$.length:1/0),w=""),n){case"<":t=d+t+$+w;break;case"=":t=d+w+t+$;break;case"^":t=w.slice(0,_=w.length>>1)+d+t+$+w.slice(_);break;default:t=w+d+t+$}return a(t)}return m=void 0===m?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),$.toString=function(){return t+""},$}return{format:h,formatPrefix:function(t,e){var n=h(((t=xe(t)).type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(ke(e)/3))),i=Math.pow(10,-o),r=Ae[8+o/3];return function(t){return n(i*t)+r}}}}function Pe(t,e,n,o){var i,r=function(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),r=o/i;return r>=ft?i*=10:r>=pt?i*=5:r>=gt&&(i*=2),e<t?-i:i}(t,e,n);switch((o=xe(null==o?",f":o)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=o.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ke(e)/3)))-ke(Math.abs(t)))}(r,s))||(o.precision=i),Ce(o,s);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ke(e)-ke(t))+1}(r,Math.max(Math.abs(t),Math.abs(e))))||(o.precision=i-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(i=function(t){return Math.max(0,-ke(Math.abs(t)))}(r))||(o.precision=i-2*("%"===o.type))}return Se(o)}function Ee(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var o,i,r,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((o=e<t)&&(i=t,t=e,e=i),0===(s=mt(t,e,n))||!isFinite(s))return[];if(s>0){let n=Math.round(t/s),o=Math.round(e/s);for(n*s<t&&++n,o*s>e&&--o,r=new Array(i=o-n+1);++a<i;)r[a]=(n+a)*s}else{s=-s;let n=Math.round(t*s),o=Math.round(e*s);for(n/s<t&&++n,o/s>e&&--o,r=new Array(i=o-n+1);++a<i;)r[a]=(n+a)/s}return o&&r.reverse(),r}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var o=e();return Pe(o[0],o[o.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var o,i,r=e(),s=0,a=r.length-1,c=r[s],u=r[a],l=10;for(u<c&&(i=c,c=u,u=i,i=s,s=a,a=i);l-- >0;){if((i=mt(c,u,n))===o)return r[s]=c,r[a]=u,e(r);if(i>0)c=Math.floor(c/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,u=Math.floor(u*i)/i}o=i}return t},t}function Ie(){var t=me();return t.copy=function(){return pe(t,Ie())},yt.apply(t,arguments),Ee(t)}function Xe(t,e,n,o,i){Re(t,e,n||0,o||t.length-1,i||Ye)}function Re(t,e,n,o,i){for(;o>n;){if(o-n>600){var r=o-n+1,s=e-n+1,a=Math.log(r),c=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*c*(r-c)/r)*(s-r/2<0?-1:1);Re(t,e,Math.max(n,Math.floor(e-s*c/r+u)),Math.min(o,Math.floor(e+(r-s)*c/r+u)),i)}var l=t[e],h=n,d=o;for(Ne(t,n,e),i(t[o],l)>0&&Ne(t,n,o);h<d;){for(Ne(t,h,d),h++,d--;i(t[h],l)<0;)h++;for(;i(t[d],l)>0;)d--}0===i(t[n],l)?Ne(t,n,d):Ne(t,++d,o),d<=e&&(n=d+1),e<=d&&(o=d-1)}}function Ne(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function Ye(t,e){return t<e?-1:t>e?1:0}we=Le({thousands:",",grouping:[3],currency:["$",""]}),Se=we.format,Ce=we.formatPrefix;class We{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const n=[];if(!Ue(t,e))return n;const o=this.toBBox,i=[];for(;e;){for(let r=0;r<e.children.length;r++){const s=e.children[r],a=e.leaf?o(s):s;Ue(t,a)&&(e.leaf?n.push(s):Ke(t,a)?this._all(s,n):i.push(s))}e=i.pop()}return n}collides(t){let e=this.data;if(!Ue(t,e))return!1;const n=[];for(;e;){for(let o=0;o<e.children.length;o++){const i=e.children[o],r=e.leaf?this.toBBox(i):i;if(Ue(t,r)){if(e.leaf||Ke(t,r))return!0;n.push(i)}}e=n.pop()}return!1}load(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(let e=0;e<t.length;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Ze([]),this}remove(t,e){if(!t)return this;let n=this.data;const o=this.toBBox(t),i=[],r=[];let s,a,c;for(;n||i.length;){if(n||(n=i.pop(),a=i[i.length-1],s=r.pop(),c=!0),n.leaf){const o=He(t,n.children,e);if(-1!==o)return n.children.splice(o,1),i.push(n),this._condense(i),this}c||n.leaf||!Ke(n,o)?a?(s++,n=a.children[s],c=!1):n=null:(i.push(n),r.push(s),s=0,a=n,n=n.children[0])}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const n=[];for(;t;)t.leaf?e.push(...t.children):n.push(...t.children),t=n.pop();return e}_build(t,e,n,o){const i=n-e+1;let r,s=this._maxEntries;if(i<=s)return r=Ze(t.slice(e,n+1)),De(r,this.toBBox),r;o||(o=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,o-1))),r=Ze([]),r.leaf=!1,r.height=o;const a=Math.ceil(i/s),c=a*Math.ceil(Math.sqrt(s));Qe(t,e,n,c,this.compareMinX);for(let i=e;i<=n;i+=c){const e=Math.min(i+c-1,n);Qe(t,i,e,a,this.compareMinY);for(let n=i;n<=e;n+=a){const i=Math.min(n+a-1,e);r.children.push(this._build(t,n,i,o-1))}}return De(r,this.toBBox),r}_chooseSubtree(t,e,n,o){for(;o.push(e),!e.leaf&&o.length-1!==n;){let n,o=1/0,i=1/0;for(let r=0;r<e.children.length;r++){const s=e.children[r],a=Ge(s),c=qe(t,s)-a;c<i?(i=c,o=a<o?a:o,n=s):c===i&&a<o&&(o=a,n=s)}e=n||e.children[0]}return e}_insert(t,e,n){const o=n?t:this.toBBox(t),i=[],r=this._chooseSubtree(o,this.data,e,i);for(r.children.push(t),Fe(r,o);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(o,i,e)}_split(t,e){const n=t[e],o=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,o);const r=this._chooseSplitIndex(n,i,o),s=Ze(n.children.splice(r,n.children.length-r));s.height=n.height,s.leaf=n.leaf,De(n,this.toBBox),De(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)}_splitRoot(t,e){this.data=Ze([t,e]),this.data.height=t.height+1,this.data.leaf=!1,De(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let o,i=1/0,r=1/0;for(let s=e;s<=n-e;s++){const e=Be(t,0,s,this.toBBox),a=Be(t,s,n,this.toBBox),c=Ve(e,a),u=Ge(e)+Ge(a);c<i?(i=c,o=s,r=u<r?u:r):c===i&&u<r&&(r=u,o=s)}return o||n-e}_chooseSplitAxis(t,e,n){const o=t.leaf?this.compareMinX:ze,i=t.leaf?this.compareMinY:je;this._allDistMargin(t,e,n,o)<this._allDistMargin(t,e,n,i)&&t.children.sort(o)}_allDistMargin(t,e,n,o){t.children.sort(o);const i=this.toBBox,r=Be(t,0,e,i),s=Be(t,n-e,n,i);let a=Je(r)+Je(s);for(let o=e;o<n-e;o++){const e=t.children[o];Fe(r,t.leaf?i(e):e),a+=Je(r)}for(let o=n-e-1;o>=e;o--){const e=t.children[o];Fe(s,t.leaf?i(e):e),a+=Je(s)}return a}_adjustParentBBoxes(t,e,n){for(let o=n;o>=0;o--)Fe(e[o],t)}_condense(t){for(let e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():De(t[n],this.toBBox)}}function He(t,e,n){if(!n)return e.indexOf(t);for(let o=0;o<e.length;o++)if(n(t,e[o]))return o;return-1}function De(t,e){Be(t,0,t.children.length,e,t)}function Be(t,e,n,o,i){i||(i=Ze(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let r=e;r<n;r++){const e=t.children[r];Fe(i,t.leaf?o(e):e)}return i}function Fe(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ze(t,e){return t.minX-e.minX}function je(t,e){return t.minY-e.minY}function Ge(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Je(t){return t.maxX-t.minX+(t.maxY-t.minY)}function qe(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Ve(t,e){const n=Math.max(t.minX,e.minX),o=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),r=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,r-o)}function Ke(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Ue(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Ze(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Qe(t,e,n,o,i){const r=[e,n];for(;r.length;){if((n=r.pop())-(e=r.pop())<=o)continue;const s=e+Math.ceil((n-e)/o/2)*o;Xe(t,s,e,n,i),r.push(e,s,s,n)}}function tn(t){this._context=t}function en(t){return new tn(t)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */tn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var nn,on,rn,sn,an=function(){return(an=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function cn(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}!function(t){t.HEX="HEX",t.RGB="RGB",t.RGBA="RGBA",t.HSL="HSL",t.HSLA="HSLA",t.CMYK="CMYK"}(on||(on={})),function(t){t.ANALOGOUS="ANALOGOUS",t.COMPLEMENTARY="COMPLEMENTARY",t.SPLIT_COMPLEMENTARY="SPLIT_COMPLEMENTARY",t.TRIADIC="TRIADIC",t.TETRADIC="TETRADIC",t.SQUARE="SQUARE"}(rn||(rn={})),function(t){t.ADDITIVE="ADDITIVE",t.SUBTRACTIVE="SUBTRACTIVE"}(sn||(sn={}));var un,ln,hn,dn,fn,pn,gn=((nn={})[on.HEX]=/^#(?:([a-f\d])([a-f\d])([a-f\d])([a-f\d])?|([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?)$/i,nn[on.RGB]=/^rgb\s*\(\s*(?:(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)|(\d+)\s*,\s*(\d+)\s*,\s*(\d+))\s*\)$/,nn[on.RGBA]=/^rgba\s*\(\s*(?:(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)|(\d+)\s*,\s*(\d+)\s*,\s*(\d+))\s*,\s*(\d\.?\d*)\s*\)$/,nn[on.HSL]=/^hsl\s*\(\s*(-?\d+\.?\d*)\s*,\s*(\d+\.?\d*)%\s*,\s*(\d+\.?\d*)%s*\)$/,nn[on.HSLA]=/^hsla\s*\(\s*(-?\d+\.?\d*)\s*,\s*(\d+\.?\d*)%\s*,\s*(\d+\.?\d*)%\s*,\s*(\d\.?\d*)\s*\)$/,nn[on.CMYK]=/^(?:device-cmyk|cmyk)\s*\(\s*(?:(\d+\.?\d*%)\s*,\s*(\d+\.?\d*%)\s*,\s*(\d+\.?\d*%)\s*,\s*(\d+\.?\d*%)|(\d\.?\d*)\s*,\s*(\d\.?\d*)\s*,\s*(\d\.?\d*)\s*,\s*(\d\.?\d*))\s*\)$/,nn),mn=/^(\d+(?:\.\d+)?|\.\d+)%$/,yn=/^0x([a-f\d]{1,2})$/i,kn=function(t,e,n){return n<0&&(n+=6),n>=6&&(n-=6),n<1?Math.round(255*((e-t)*n+t)):n<3?Math.round(255*e):n<4?Math.round(255*((e-t)*(4-n)+t)):Math.round(255*t)},vn=function(t,e,n){e/=100;var o=(n/=100)<=.5?n*(e+1):n+e-n*e,i=2*n-o;return{r:kn(i,o,2+(t/=60)),g:kn(i,o,t),b:kn(i,o,t-2)}},Mn=function(t,e,n,o){return o=1-o,{r:Math.round(255*(1-t)*o),g:Math.round(255*(1-e)*o),b:Math.round(255*(1-n)*o)}},xn=function(t,e,n){t/=255,e/=255,n/=255;var o=1-Math.max(t,e,n),i=1-o,r=(i-t)/i,s=(i-e)/i,a=(i-n)/i;return{c:Math.round(100*r),m:Math.round(100*s),y:Math.round(100*a),k:Math.round(100*o)}},bn=function(t,e,n,o){void 0===o&&(o=1),t/=255,e/=255,n/=255,o=Math.min(o,1);var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,a=0,c=0,u=(i+r)/2;if(0===s)a=0,c=0;else{switch(i){case t:a=(e-n)/s%6;break;case e:a=(n-t)/s+2;break;case n:a=(t-e)/s+4}(a=Math.round(60*a))<0&&(a+=360),c=s/(1-Math.abs(2*u-1))}return{h:a,s:Math.round(100*c),l:Math.round(100*u),a:o}},$n=function(t,e){if(t<0&&(t+=360),t>360&&(t-=360),360===t||0===t)return t;var n=[[0,120],[120,180],[180,240],[240,360]],o=[[0,60],[60,120],[120,240],[240,360]],i=e?o:n,r=0,s=0,a=0,c=0;return(e?n:o).find((function(e,n){return t>=e[0]&&t<e[1]&&(r=e[0],s=e[1],a=i[n][0],c=i[n][1],!0)})),a+(c-a)/(s-r)*(t-r)},Tn=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},_n=function(t){return mn.test(""+t)?+(""+t).replace(mn,"$1"):Math.min(+t,100)},wn=function(t){return 1===t.length&&(t+=t),parseInt(t,16)},Sn=function(t){var e=parseInt(""+t).toString(16).toUpperCase();return 1===e.length?"0x0"+e:"0x"+e},Cn=function(t){var e=parseInt(""+t).toString(16).toUpperCase();return 1===e.length&&(e="0"+e),e},On=function(t,e){return void 0===e&&(e=!1),!e&&mn.test(t)?Math.min(255*+t.replace(mn,"$1")/100,255):yn.test(t)?3===t.length?e?parseInt(t+t.slice(-1))/255:parseInt(t+t.slice(-1)):e?parseInt(t)/255:parseInt(t):Math.min(+t,e?1:255)},An=function(t){return Math.min(mn.test(t)?+t.replace(mn,"$1")/100:+t,1)},Ln=function(t){return t.sort().join().toUpperCase()},Pn=function(t,e){void 0===e&&(e=0);var n=Math.pow(10,e);return Math.round(+t*n)/n},En=function(t,e,n){return Math.max(e,Math.min(t,n))},In=((un={})[on.HEX]=function(t){return"#"+Cn(t.r)+Cn(t.g)+Cn(t.b)+(Tn(t,"a")&&Cn(t.a)||"")},un[on.RGB]=function(t){return"rgb"+(Tn(t,"a")?"a":"")+"("+Pn(t.r)+","+Pn(t.g)+","+Pn(t.b)+(Tn(t,"a")&&","+Pn(t.a,2)||"")+")"},un[on.HSL]=function(t){return"hsl"+(Tn(t,"a")?"a":"")+"("+Pn(t.h)+","+Pn(t.s)+"%,"+Pn(t.l)+"%"+(Tn(t,"a")&&","+Pn(t.a,2)||"")+")"},un[on.CMYK]=function(t){return"cmyk("+Pn(t.c)+"%,"+Pn(t.m)+"%,"+Pn(t.y)+"%,"+Pn(t.k)+"%)"},un),Xn=function(t){return(t>360||t<0)&&(t-=360*Math.floor(t/360)),t},Rn=function(t){return isNaN(+t)||t>1?1:Pn(t,2)},Nn=function(t,e,n){return e.reduce((function(e,o){return cn(cn([],e,!0),[an(an({},t),{h:n===sn.ADDITIVE?Xn(t.h+o):Xn($n($n(t.h,!1)+o,!0))})],!1)}),[an({},t)])},Yn=function(t,e){return Nn(t,[30,-30],e)},Wn=function(t,e){return Nn(t,[180],e)},Hn=function(t,e){return Nn(t,[150,-150],e)},Dn=function(t,e){return Nn(t,[120,-120],e)},Bn=function(t,e){return Nn(t,[60,-120,180],e)},Fn=function(t,e){return Nn(t,[90,-90,180],e)},zn=function(t){return"string"==typeof t?function(t){var e;if(Object.keys(on).some((function(n){if(gn[n].test(t))return e=n,!0})),!e)throw new Error("The provided string color doesn't have a correct format");return e}(t):function(t){var e,n=!1,o=Ln(Object.keys(t));if(Object.keys(on).filter((function(t){return t!==on.HEX})).some((function(t){if(Ln(t.split(""))===o)return e=t,!0})),e&&e===on.RGB||e===on.RGBA){var i=Object.entries(t).map((function(t){return yn.test(""+t[1])})),r=Object.entries(t).map((function(t){return mn.test(""+t[1])||!yn.test(""+t[1])&&!isNaN(+t[1])&&+t[1]<=255})),s=i.some((function(t,e){return e>0&&t!==i[e-1]})),a=r.some((function(t,e){return e>0&&t!==r[e-1]}));!(n=s||a||!i[0]&&!r[0])&&i[0]&&(e=on.HEX)}if(!e||n)throw new Error("The provided color object doesn't have the proper keys or format");return e}(t)},jn=((ln={})[on.HEX]=function(t){var e=t.match(gn.HEX),n={r:wn(e[1]||e[5]),g:wn(e[2]||e[6]),b:wn(e[3]||e[7])},o=e[4]||e[8];return void 0!==o&&(n.a=wn(o)/255),n},ln[on.RGB]=function(t){var e=t.match(gn.RGB),n=On(e[1]||e[4]),o=On(e[2]||e[5]),i=On(e[3]||e[6]);return{r:Math.min(n,255),g:Math.min(o,255),b:Math.min(i,255)}},ln[on.RGBA]=function(t){var e=t.match(gn.RGBA),n=On(e[1]||e[4]),o=On(e[2]||e[5]),i=On(e[3]||e[6]),r=+e[7];return{r:Math.min(n,255),g:Math.min(o,255),b:Math.min(i,255),a:Rn(r)}},ln[on.HSL]=function(t){var e=t.match(gn.HSL),n=Xn(+e[1]),o=_n(e[2]),i=_n(e[3]);return vn(n,o,i)},ln[on.HSLA]=function(t){var e=t.match(gn.HSLA),n=Xn(+e[1]),o=_n(e[2]),i=_n(e[3]),r=+e[4],s=vn(n,o,i);return s.a=Rn(r),s},ln[on.CMYK]=function(t){var e=t.match(gn.CMYK),n=An(e[1]||e[5]),o=An(e[2]||e[6]),i=An(e[3]||e[7]),r=An(e[4]||e[8]);return Mn(n,o,i,r)},ln),Gn=((hn={})[on.HEX]=function(t){var e={r:On(""+t.r),g:On(""+t.g),b:On(""+t.b)};return e.a=Tn(t,"a")?Math.min(On(""+t.a,!0),1):1,e},hn[on.RGB]=function(t){var e=this.HEX(t);return delete e.a,e},hn[on.RGBA]=function(t){return this.HEX(t)},hn[on.HSL]=function(t){var e=_n(""+t.s),n=_n(""+t.l);return vn(Xn(t.h),e,n)},hn[on.HSLA]=function(t){var e=this.HSL(t);return e.a=Rn(t.a),e},hn[on.CMYK]=function(t){var e=An(""+t.c),n=An(""+t.m),o=An(""+t.y),i=An(""+t.k);return Mn(e,n,o,i)},hn),Jn=function(t,e){return void 0===e&&(e=zn(t)),"string"==typeof t?jn[e](t):Gn[e](t)},qn=((dn={})[on.HEX]=function(t){return{r:Sn(t.r),g:Sn(t.g),b:Sn(t.b)}},dn.HEXA=function(t){var e=qn.HEX(t);return e.a=Tn(t,"a")?Sn(255*t.a):"0xFF",e},dn[on.RGB]=function(t){return Tn(t,"a")&&delete t.a,t},dn[on.RGBA]=function(t){return t.a=Tn(t,"a")?Pn(t.a,2):1,t},dn[on.HSL]=function(t){var e=bn(t.r,t.g,t.b);return delete e.a,e},dn[on.HSLA]=function(t){var e=qn.HSL(t);return e.a=Tn(t,"a")?Pn(t.a,2):1,e},dn[on.CMYK]=function(t){return xn(t.r,t.g,t.b)},dn),Vn=function(t,e,n){var o=zn(t),i="string"==typeof t,r=Jn(t,o),s="string"==typeof t&&Tn(r,"a")||"string"!=typeof t&&Tn(t,"a"),a=bn(r.r,r.g,r.b,r.a);s||delete a.a;var c=n?a.l/(e+1):(100-a.l)/(e+1),u=Array(e).fill(null).map((function(t,e){return an(an({},a),{l:a.l+c*(e+1)*(1-2*+n)})}));switch(o){case on.HEX:default:return u.map((function(t){var e=vn(t.h,t.s,t.l);return s&&(e.a=t.a),i?s?In.HEX(an(an({},e),{a:Pn(255*e.a,2)})):In.HEX(e):s?qn.HEXA(e):qn.HEX(e)}));case on.RGB:case on.RGBA:return u.map((function(t){var e=vn(t.h,t.s,t.l);return s&&(e.a=t.a),i?In.RGB(e):s?qn.RGBA(e):qn.RGB(e)}));case on.HSL:case on.HSLA:return u.map((function(t){return i?In.HSL(t):s?qn.HSLA(an(an({},vn(t.h,t.s,t.l)),{a:t.a})):qn.HSL(vn(t.h,t.s,t.l))}))}},Kn=((fn={buildHarmony:function(t,e,n){var o=zn(t),i=Jn(t,o),r=bn(i.r,i.g,i.b,i.a),s="string"==typeof t&&Tn(i,"a")||"string"!=typeof t&&Tn(t,"a"),a="string"==typeof t;switch(o){case on.HEX:default:return s?this.HEXA(r,e,n,a):this.HEX(r,e,n,a);case on.HSL:return this.HSL(r,e,n,a);case on.HSLA:return this.HSLA(r,e,n,a);case on.RGB:return this.RGB(r,e,n,a);case on.RGBA:return this.RGBA(r,e,n,a)}}})[on.HEX]=function(t,e,n,o){return e(t,n).map((function(t){return o?In.HEX(vn(t.h,t.s,t.l)):qn.HEX(vn(t.h,t.s,t.l))}))},fn.HEXA=function(t,e,n,o){return e(t,n).map((function(t){return o?In.HEX(an(an({},vn(t.h,t.s,t.l)),{a:255*Rn(t.a)})):qn.HEXA(an(an({},vn(t.h,t.s,t.l)),{a:Rn(t.a)}))}))},fn[on.RGB]=function(t,e,n,o){return e(t,n).map((function(t){return o?In.RGB(vn(t.h,t.s,t.l)):qn.RGB(vn(t.h,t.s,t.l))}))},fn[on.RGBA]=function(t,e,n,o){return e(t,n).map((function(t){return o?In.RGB(an(an({},vn(t.h,t.s,t.l)),{a:Rn(t.a)})):qn.RGBA(an(an({},vn(t.h,t.s,t.l)),{a:Rn(t.a)}))}))},fn[on.HSL]=function(t,e,n,o){return e(t,n).map((function(t){return o?In.HSL({h:t.h,s:t.s,l:t.l}):qn.HSL(vn(t.h,t.s,t.l))}))},fn[on.HSLA]=function(t,e,n,o){return e(t,n).map((function(t){return o?In.HSL(an(an({},t),{a:Rn(t.a)})):qn.HSLA(an(an({},vn(t.h,t.s,t.l)),{a:Rn(t.a)}))}))},fn),Un=((pn={mix:function(t,e){var n,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y=t.map((function(t){var e=zn(t);return Jn(t,e)})),k=e===sn.SUBTRACTIVE?y.map((function(t){var e,n,o,i,r,s,a,c,u,l,h,d,f,p,g=(e=t.r,n=t.g,o=t.b,i=Math.min(e,n,o),r=Math.min(255-e,255-n,255-o),a=n-i,c=o-i,l=(s=e-i)-(u=Math.min(s,a)),h=(a+u)/2,d=(c+a-u)/2,f=Math.max(l,h,d)/Math.max(s,a,c),{r:l/(p=isNaN(f)||f===1/0||f<=0?1:f)+r,y:h/p+r,b:d/p+r});return Tn(t,"a")&&(g.a=t.a),g})):null;function v(t){var n=e===sn.ADDITIVE?{r:0,g:0,b:0,a:0}:{r:0,y:0,b:0,a:0};return t.reduce((function(t,n){var o=Tn(n,"a")?n.a:1,i={r:Math.min(t.r+n.r*o,255),b:Math.min(t.b+n.b*o,255),a:1-(1-o)*(1-t.a)},r="g"in t?t.g:t.y,s="g"in n?n.g:n.y;return an(an({},i),e===sn.ADDITIVE?{g:Math.min(r+s*o,255)}:{y:Math.min(r+s*o,255)})}),n)}if(e===sn.ADDITIVE)n=v(y);else{var M=v(k);o=M.r,i=M.y,r=M.b,s=Math.min(o,i,r),a=Math.min(255-o,255-i,255-r),l=r-s,d=(c=o-s)+(u=i-s)-(h=Math.min(u,l)),f=u+2*h,p=2*(l-h),g=Math.max(d,f,p)/Math.max(c,u,l),(n={r:d/(m=isNaN(g)||g===1/0||g<=0?1:g)+a,g:f/m+a,b:p/m+a}).a=M.a}return{r:Pn(n.r,2),g:Pn(n.g,2),b:Pn(n.b,2),a:En(n.a,0,1)}}})[on.HEX]=function(t,e,n){var o=this.mix(t,e);return delete o.a,n?In.HEX(o):qn.HEX(o)},pn.HEXA=function(t,e,n){var o=this.mix(t,e);return o.a=n?255*Rn(o.a):Rn(o.a),n?In.HEX(o):qn.HEXA(o)},pn[on.RGB]=function(t,e,n){var o=this.mix(t,e);return delete o.a,n?In.RGB(o):qn.RGB(o)},pn[on.RGBA]=function(t,e,n){var o=this.mix(t,e);return n?In.RGB(o):qn.RGBA(o)},pn[on.HSL]=function(t,e,n){var o=this.mix(t,e),i=bn(o.r,o.g,o.b);return delete o.a,delete i.a,n?In.HSL(i):qn.HSL(o)},pn[on.HSLA]=function(t,e,n){var o=this.mix(t,e),i=bn(o.r,o.g,o.b,o.a);return n?In.HSL(i):qn.HSLA(o)},pn),Zn=function(t,e){return"string"==typeof t&&e||"object"==typeof t&&!e},Qn=function(t,e,n,o,i){var r=o(Jn(t,e));return n?i(r):r},to=function(t,e,n,o,i,r){return n<1&&(n=5),function(t,e,n){var o=n-1,i=(e.r-t.r)/o,r=(e.g-t.g)/o,s=(e.b-t.b)/o,a=Rn(t.a),c=(Rn(e.a)-a)/o;return Array(n).fill(null).map((function(n,u){return 0===u?t:u===o?e:{r:Pn(t.r+i*u),g:Pn(t.g+r*u),b:Pn(t.b+s*u),a:Pn(a+c*u,2)}}))}(Jn(t),Jn(e),n).map((function(t){var e=i(t);return o?r(e):e}))},eo=function(){function t(t){this.rgb=Jn(t),this.updateHSL(),this.updateCMYK()}return t.prototype.updateRGB=function(){this.rgb=an(an({},vn(this.hsl.h,this.hsl.s,this.hsl.l)),{a:this.hsl.a})},t.prototype.updateRGBFromCMYK=function(){this.rgb=an(an({},Mn(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k)),{a:this.rgb.a})},t.prototype.updateHSL=function(){this.hsl=bn(this.rgb.r,this.rgb.g,this.rgb.b,this.rgb.a)},t.prototype.updateCMYK=function(){this.cmyk=xn(this.rgb.r,this.rgb.g,this.rgb.b)},t.prototype.updateRGBAndCMYK=function(){return this.updateRGB(),this.updateCMYK(),this},t.prototype.updateHSLAndCMYK=function(){return this.updateHSL(),this.updateCMYK(),this},t.prototype.updateRGBAndHSL=function(){return this.updateRGBFromCMYK(),this.updateHSL(),this},t.prototype.setH=function(t){return this.hsl.h=Xn(t),this.updateRGBAndCMYK()},t.prototype.setS=function(t){return this.hsl.s=En(t,0,100),this.updateRGBAndCMYK()},t.prototype.setL=function(t){return this.hsl.l=En(t,0,100),this.updateRGBAndCMYK()},t.prototype.setR=function(t){return this.rgb.r=En(t,0,255),this.updateHSLAndCMYK()},t.prototype.setG=function(t){return this.rgb.g=En(t,0,255),this.updateHSLAndCMYK()},t.prototype.setB=function(t){return this.rgb.b=En(t,0,255),this.updateHSLAndCMYK()},t.prototype.setA=function(t){return this.hsl.a=this.rgb.a=En(t,0,1),this},t.prototype.setC=function(t){return this.cmyk.c=En(t,0,100),this.updateRGBAndHSL()},t.prototype.setM=function(t){return this.cmyk.m=En(t,0,100),this.updateRGBAndHSL()},t.prototype.setY=function(t){return this.cmyk.y=En(t,0,100),this.updateRGBAndHSL()},t.prototype.setK=function(t){return this.cmyk.k=En(t,0,100),this.updateRGBAndHSL()},Object.defineProperty(t.prototype,"H",{get:function(){return Pn(this.hsl.h)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"S",{get:function(){return Pn(this.hsl.s)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"L",{get:function(){return Pn(this.hsl.l)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R",{get:function(){return Pn(this.rgb.r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"G",{get:function(){return Pn(this.rgb.g)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return Pn(this.rgb.b)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"A",{get:function(){return Pn(this.hsl.a,2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"C",{get:function(){return Pn(this.cmyk.c)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"M",{get:function(){return Pn(this.cmyk.m)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Y",{get:function(){return Pn(this.cmyk.y)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"K",{get:function(){return Pn(this.cmyk.k)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HEXObject",{get:function(){return qn.HEX(this.rgb)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HEXAObject",{get:function(){return qn.HEXA(this.rgb)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RGBObject",{get:function(){return{r:this.R,g:this.G,b:this.B}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RGBAObject",{get:function(){return an(an({},this.RGBObject),{a:this.A})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HSLObject",{get:function(){return{h:this.H,s:this.S,l:this.L}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HSLAObject",{get:function(){return an(an({},this.HSLObject),{a:this.A})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CMYKObject",{get:function(){return{c:this.C,m:this.M,y:this.Y,k:this.K}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HEX",{get:function(){var t=this.rgb,e={r:t.r,g:t.g,b:t.b};return In.HEX(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HEXA",{get:function(){var t=this.rgb,e={r:t.r,g:t.g,b:t.b,a:255*this.A};return In.HEX(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RGB",{get:function(){var t=this.rgb,e={r:t.r,g:t.g,b:t.b};return In.RGB(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RGBA",{get:function(){var t=this.rgb,e={r:t.r,g:t.g,b:t.b,a:this.A};return In.RGB(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HSL",{get:function(){var t=this.hsl,e={h:t.h,s:t.s,l:t.l};return In.HSL(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HSLA",{get:function(){return In.HSL(this.hsl)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CMYK",{get:function(){return In.CMYK(this.cmyk)},enumerable:!1,configurable:!0}),t.toHEX=function(t,e){void 0===e&&(e=!0);var n=zn(t);return Qn(t,n,e,qn.HEX,In.HEX)},t.toHEXA=function(t,e){void 0===e&&(e=!0);var n=zn(t);return Qn(t,n,e,qn.HEXA,In.HEX)},t.toRGB=function(t,e){void 0===e&&(e=!0);var n=zn(t);return Qn(t,n,e,qn.RGB,In.RGB)},t.toRGBA=function(t,e){void 0===e&&(e=!0);var n=zn(t);return Qn(t,n,e,qn.RGBA,In.RGB)},t.toHSL=function(t,e){void 0===e&&(e=!0);var n=zn(t);return n===on.HSL&&Zn(t,e)?t:Qn(t,n,e,qn.HSL,In.HSL)},t.toHSLA=function(t,e){void 0===e&&(e=!0);var n=zn(t);return n===on.HSLA&&Zn(t,e)?t:Qn(t,n,e,qn.HSLA,In.HSL)},t.toCMYK=function(t,e){void 0===e&&(e=!0);var n=zn(t);return n===on.CMYK&&Zn(t,e)?t:Qn(t,n,e,qn.CMYK,In.CMYK)},t.getBlendHEX=function(t,e,n,o){return void 0===n&&(n=5),void 0===o&&(o=!0),to(t,e,n,o,qn.HEX,In.HEX)},t.getBlendHEXA=function(t,e,n,o){return void 0===n&&(n=5),void 0===o&&(o=!0),to(t,e,n,o,qn.HEXA,In.HEX)},t.getBlendRGB=function(t,e,n,o){return void 0===n&&(n=5),void 0===o&&(o=!0),to(t,e,n,o,qn.RGB,In.RGB)},t.getBlendRGBA=function(t,e,n,o){return void 0===n&&(n=5),void 0===o&&(o=!0),to(t,e,n,o,qn.RGBA,In.RGB)},t.getBlendHSL=function(t,e,n,o){return void 0===n&&(n=5),void 0===o&&(o=!0),to(t,e,n,o,qn.HSL,In.HSL)},t.getBlendHSLA=function(t,e,n,o){return void 0===n&&(n=5),void 0===o&&(o=!0),to(t,e,n,o,qn.HSLA,In.HSL)},t.getMixHEX=function(t,e,n){return void 0===e&&(e=sn.ADDITIVE),void 0===n&&(n=!0),Un.HEX(t,e,n)},t.getMixHEXA=function(t,e,n){return void 0===e&&(e=sn.ADDITIVE),void 0===n&&(n=!0),Un.HEXA(t,e,n)},t.getMixRGB=function(t,e,n){return void 0===e&&(e=sn.ADDITIVE),void 0===n&&(n=!0),Un.RGB(t,e,n)},t.getMixRGBA=function(t,e,n){return void 0===e&&(e=sn.ADDITIVE),void 0===n&&(n=!0),Un.RGBA(t,e,n)},t.getMixHSL=function(t,e,n){return void 0===e&&(e=sn.ADDITIVE),void 0===n&&(n=!0),Un.HSL(t,e,n)},t.getMixHSLA=function(t,e,n){return void 0===e&&(e=sn.ADDITIVE),void 0===n&&(n=!0),Un.HSLA(t,e,n)},t.getShades=function(t,e){return Vn(t,e,!0)},t.getTints=function(t,e){return Vn(t,e,!1)},t.getHarmony=function(t,e,n){switch(void 0===e&&(e=rn.COMPLEMENTARY),void 0===n&&(n=sn.ADDITIVE),e){case rn.ANALOGOUS:return Kn.buildHarmony(t,Yn,n);case rn.SPLIT_COMPLEMENTARY:return Kn.buildHarmony(t,Hn,n);case rn.TRIADIC:return Kn.buildHarmony(t,Dn,n);case rn.TETRADIC:return Kn.buildHarmony(t,Bn,n);case rn.SQUARE:return Kn.buildHarmony(t,Fn,n);default:return Kn.buildHarmony(t,Wn,n)}},t}();function no(t,e,n,o){return e||n?e&&!n?{nrows:e,ncolumns:Math.ceil(t/e)}:!e&&n?{nrows:Math.ceil(t/n),ncolumns:n}:{nrows:e,ncolumns:n}:function(t,e){let n=1,o=1;for(;n*o<t;){const t=(n+1)/o,i=n/(o+1);Math.abs(e-t)<Math.abs(e-i)?n++:o++}return{nrows:o,ncolumns:n}}(t,o)}function oo({numberOfCells:t,rows:e,columns:n},o){if(0===t)return[];const i=function(t){const{rangeX:e,rangeY:n}=t.ranges;return Math.abs(e[0]-e[1])/Math.abs(n[0]-n[1])}(o),{nrows:r,ncolumns:s}=no(t,e,n,i);if(r*s<t)throw new Error("numberOfCells lower than rows * columns");return function(t,e,n){const o=1/n,i=1/e,r=[];for(let s=0;s<e;s++){for(let e=0;e<n&&(r.push({x1:o*e,x2:o*(e+1),y1:i*s,y2:i*(s+1)}),r.length!==t);e++);if(r.length===t)break}return r}(t,r,s)}class io{constructor(){this._resetCalls()}_resetCalls(){this._positioningCalls={call:[],args:[],submarks:[]}}closePath(){ro(this._positioningCalls,"closePath",arguments)}moveTo(){ro(this._positioningCalls,"moveTo",arguments)}lineTo(){ro(this._positioningCalls,"lineTo",arguments)}quadraticCurveTo(){ro(this._positioningCalls,"quadraticCurveTo",arguments)}bezierCurveTo(){ro(this._positioningCalls,"bezierCurveTo",arguments)}arcTo(){ro(this._positioningCalls,"arcTo",arguments)}arc(){ro(this._positioningCalls,"arc",arguments)}ellipse(){ro(this._positioningCalls,"ellipse",arguments)}translate(){ro(this._positioningCalls,"translate",arguments)}rotate(){ro(this._positioningCalls,"rotate",arguments)}submarkStart(){this._positioningCalls.submarks.push(this._positioningCalls.call.length)}}function ro(t,e,n){t.call.push(e),t.args.push(n)}class so extends io{result(){return this._positioningCalls}}class ao extends io{constructor(){super(),this._marks=[]}markEnd(){this._marks.push(this._positioningCalls),this._resetCalls()}result(){return this._marks}}class co extends so{_resetCalls(){this._positioningCalls={call:[],args:[],submarks:[]}}}class uo extends ao{_resetCalls(){this._positioningCalls={call:[],args:[],submarks:[]}}}function lo(){return new so}function ho(){return new ao}class fo{beginPath(){}closePath(){}moveTo(){}lineTo(){}quadraticCurveTo(){}bezierCurveTo(){}arcTo(){}arc(){}ellipse(){}fill(){}stroke(){}setLineDash(){}fillText(){}strokeText(){}translate(){}rotate(){}save(){}restore(){}rect(){}clip(){}setTransform(){}markStart(){}markEnd(){}layerStart(){}layerEnd(){}submarkStart(){}}const po=Math.PI,go=2*po,mo=go-1e-6;class yo extends fo{constructor(){super(),this._reset()}_reset(){this._currentStyle={}}beginPath(){}arc(t,e,n,o,i,r){this._currentStyle.cx=t,this._currentStyle.cy=e}}class ko extends yo{result(){const t=function(t){return t._currentStyle}(this);return this._reset(),t}}class vo extends yo{constructor(){super(),this.marks=[]}markEnd(){this.marks.push(this._currentStyle),this._reset()}result(){const t=this.marks;return this.marks=[],t}}class Mo extends fo{constructor(){super(),this._pathContext=ut()}_reset(){this._pathContext._x0=null,this._pathContext._y0=null,this._pathContext._x1=null,this._pathContext._y1=null,this._pathContext._="",So(this,To)}closePath(){this._pathContext.closePath()}moveTo(t,e){this._pathContext.moveTo(t,e)}lineTo(t,e){this._pathContext.lineTo(t,e)}quadraticCurveTo(){this._pathContext.quadraticCurveTo.apply(this._pathContext,arguments)}bezierCurveTo(){this._pathContext.bezierCurveTo.apply(this._pathContext,arguments)}arcTo(){this._pathContext.arcTo.apply(this._pathContext,arguments)}arc(){this._pathContext.arc.apply(this._pathContext,arguments)}ellipse(t,e,n,o,i,r,s,a){!function(t,e,n,o,i,r,s,a,c){e=+e,n=+n,i=+i,c=!!c;const u=(o=+o)*Math.cos(s),l=i*Math.sin(s),h=e+u,d=n+l,f=1^c;let p=c?s-a:a-s;if(o<0)throw new Error("negative radius x: "+o);if(i<0)throw new Error("negative radius: "+i);null===t._x1?t._+="M"+h+","+d:(Math.abs(t._x1-h)>1e-6||Math.abs(t._y1-d)>1e-6)&&(t._+="L"+h+","+d),o&&i&&(p<0&&(p=p%go+go),p>mo?t._+="A"+o+","+i+",0,1,"+f+","+(e-u)+","+(n-l)+"A"+o+","+i+",0,1,"+f+","+(t._x1=h)+","+(t._y1=d):p>1e-6&&(t._+="A"+o+","+i+",0,"+ +(p>=po)+","+f+","+(t._x1=e+o*Math.cos(a))+","+(t._y1=n+i*Math.sin(a))))}(this._pathContext,t,e,n,o,0,r,s,a)}setLineDash(t){this._strokeDashArray=t.join(" ")}}class xo extends Mo{result(){const t=$o(this);return this._reset(),t}}class bo extends Mo{constructor(){super(),this.marks=[]}markEnd(){this.marks.push($o(this)),this._reset()}layerEnd(){if(wo(this,To))for(let t=0;t<this.marks.length;t++)_o(this.marks[t],this,To)}result(){const t=this.marks;return this.marks=[],t}}function $o(t){const e={d:t._pathContext.toString()};return _o(e,t,To),e}const To={fillStyle:"fill",strokeStyle:"stroke",lineWidth:"stroke-width",_strokeDashArray:"stroke-dasharray",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",miterLimit:"stroke-miterlimit",lineDashOffset:"stroke-dashoffset"};function _o(t,e,n){for(const o in n)e[o]&&(t[n[o]]=e[o])}function wo(t,e){for(const n in e)if(t[n])return!0;return!1}function So(t,e){for(const n in e)t[n]=void 0}class Co extends fo{constructor(){super(),this._reset()}_reset(){this._currentStyle={},this._currentRotation=null}fillText(t,e,n){this._currentStyle.text=t,this._currentStyle.fill=this.fillStyle}strokeText(t,e,n){this._currentStyle.text=t,this._currentStyle.stroke=this.strokeStyle,this._currentStyle["stroke-width"]=this.lineWidth}translate(t,e){this._currentStyle.x=t,this._currentStyle.y=e}rotate(t){this._currentRotation=t}}class Oo extends Co{result(){const t=Lo(this);return this._reset(),t}}class Ao extends Co{constructor(){super(),this.marks=[]}markEnd(){const t=Lo(this);this._reset(),this.marks.push(t)}result(){const t=this.marks;return this.marks=[],t}}function Lo(t){const e=t._currentStyle;return e.style=`font:${t.font};`,e["dominant-baseline"]=t.textBaseline,e["text-anchor"]="center"===t.textAlign?"middle":t.textAlign,t._currentRotation&&(e.transform=function(t,e,n){return`rotate(${t*(180/Math.PI)},${e},${n})`}(t._currentRotation,e.x,e.y)),e}class Po extends fo{constructor(){super(),this._currentStyle={}}beginPath(){}arc(t,e,n,o,i,r){this._currentStyle.cx=t,this._currentStyle.cy=e,this._currentStyle.r=n}setLineDash(t){this._strokeDashArray=t.join(" ")}}class Eo extends Po{result(){const t=Xo(this);return this._currentStyle={},So(this,Ro),t}}class Io extends Po{constructor(){super(),this.marks=[]}markEnd(){const t=Xo(this);this.marks.push(t),this._currentStyle={},So(this,Ro)}layerEnd(){if(wo(this,Ro))for(let t=0;t<this.marks.length;t++)_o(this.marks[t],this,Ro)}result(){const t=this.marks;return this.marks=[],t}}function Xo(t){const e=t._currentStyle;return _o(e,t,Ro),e}const Ro={fillStyle:"fill",strokeStyle:"stroke",lineWidth:"stroke-width",_strokeDashArray:"stroke-dasharray",lineDashOffset:"stroke-dashoffset"};var No=Object.freeze({__proto__:null,path:function(){return new xo},pathLayer:function(){return new bo},text:function(){return new Oo},textLayer:function(){return new Ao},circle:function(){return new Eo},circleLayer:function(){return new Io}});function Yo(...t){const e=t.length-1;let n=t[e];for(let o=e-1;o>=0;o--){const e=t[o];e&&(n=e(n))}return n.markEnd=t[e].markEnd?t[e].markEnd.bind(t[e]):()=>{},n.submarkStart=t[e].submarkStart?t[e].submarkStart.bind(t[e]):()=>{},n}function Wo(t){this.stream=t}function Ho(t){return({scaleX:e})=>e(t)+e.bandwidth()}function Do(t){return({scaleY:e})=>e(t)+e.bandwidth()}function Bo(t){return({scaleX:e})=>t.map((t=>e(t)+e.bandwidth()))}function Fo(t){return({scaleY:e})=>t.map((t=>e(t)+e.bandwidth()))}function zo(t){const e=t.x,n=t.y;let o,i;const r=Ie().domain(e),s=Ie().domain(n);function a(){if(o&&i){const t=Math.abs(o[1]-o[0]),a=Math.abs(i[1]-i[0]),c=(o[0]+o[1])/2,u=(i[0]+i[1])/2,l=t/(e[1]-e[0]),h=a/(n[1]-n[0]);if(l<h){const t=(n[1]-n[0])/2*l,e=[u-t,u+t];i[0]>i[1]&&e.reverse(),r.range(o),s.range(e)}if(l>=h){const t=(e[1]-e[0])/2*h,n=[c-t,c+t];r.range(n),s.range(i)}}}return{scaleX:{range:t=>(o=t,a(),r),copy:function(){return this}},scaleY:{range:t=>(i=t,a(),s),copy:function(){return this}}}}function jo(t,e){const n=function(t,e){return void 0!==t.clip?t.clip:e.clip}(t,e);return"padding"===n?`clip-padding-${e.id}`:"outer"===n?`clip-outer-${e.id}`:void 0}function Go(t,e){const n=jo(t,e);if(void 0!==n)return`url(#${n})`}function Jo({minX:t,minY:e,maxX:n,maxY:o}){return{x:t,y:e,width:n-t,height:o-e}}let qo,Vo;function Ko(){return Vo||(qo=document.createElement("canvas"),Vo=qo.getContext("2d")),Vo}function Uo(t,e){return void 0===t?()=>{}:t.constructor===Array?e=>t[e]:t.constructor===Function?e?n=>t({index:n,key:e[n]}):e=>t({index:e,key:e}):()=>t}function Zo(t,e,n){const o={};for(const i of e)void 0!==t[i]&&(o[i]=Uo(t[i],n));return function(t){const e={};for(const n in o)e[n]=o[n](t);return e}}function Qo(t,e){for(let n=0;n<e.length;n++){const o=e[n];if(void 0!==t[o]&&(t[o].constructor===Array||t[o].constructor===Function))return!1}return!0}function ti(t,e){const n=t[0],o=t[1];let i=!1;for(let t=0,r=e.length-1;t<e.length;r=t++){const s=e[t][0],a=e[t][1],c=e[r][0],u=e[r][1];a>o!=u>o&&n<(c-s)*(o-a)/(u-a)+s&&(i=!i)}return i}function ei(t){return"markEnd"in t}function ni(t,e){const n=function(t,e){return void 0!==t.clip?t.clip:e.clip}(t,e);return"padding"===n?e.paddedBbox:"outer"===n?e.bbox:void 0}function oi(t,e){return function({minX:t,minY:e,maxX:n,maxY:o}){return[t,e,n-t,o-e]}(ni(t,e))}function ii(t,e){t.beginPath(),t.rect.apply(t,e),t.clip()}function ri(t,e){for(let n=0;n<e.call.length;n++)t[e.call[n]].apply(t,e.args[n])}Wo.prototype={constructor:Wo,point(t,e){this.stream.point(t,e)},areaStart(){this.stream.areaStart()},areaEnd(){this.stream.areaEnd()},lineStart(){this.stream.lineStart()},lineEnd(){this.stream.lineEnd()},polygonStart(){this.stream.polygonStart()},polygonEnd(){this.stream.polygonEnd()},beginPath(){this.stream.beginPath()},moveTo(){this.stream.moveTo.apply(this.stream,arguments)},closePath(){this.stream.closePath()},lineTo(){this.stream.lineTo.apply(this.stream,arguments)},quadraticCurveTo(){this.stream.quadraticCurveTo.apply(this.stream,arguments)},bezierCurveTo(){this.stream.quadraticCurveTo.apply(this.stream,arguments)},arc(){this.stream.arc.apply(this.stream,arguments)},arcTo(){this.stream.arcTo.apply(this.stream,arguments)},ellipse(){this.stream.ellipse.apply(this.stream,arguments)}};let si=0;class ai{constructor(t,e,n,o,i){this.positioning=t,this.props=e,this.section=n,this.styler=o,this.type=i,this.id="m"+si++}render(t){t.save(),ei(t)?this._renderWithStartAndEndCalls(t):this._render(t),t.restore()}updateAesthetics(t){for(const e in t)this.props[e]=t[e]}_renderWithStartAndEndCalls(t){t.markStart();ii(t,oi(this.props,this.section)),ri(t,this.positioning),this.styler.apply(t,this.props),t.markEnd()}_render(t){ii(t,oi(this.props,this.section)),t.beginPath(),ri(t,this.positioning),this.styler.apply(t,this.props)}}class ci{constructor(t,e,n){this._rbush=new We,this._interactionHandler=t,this._getMark=e.bind(t),this._getLayer=n.bind(t)}indexMark(t){const e=this._getMark(t);this._rbush.load(e)}unindexMark(t){const e=this._getMark(t);for(let t=0;t<e.length;t++)this._rbush.remove(e[t])}indexLayer(t){const e=this._getLayer(t);this._rbush.load(e)}unindexLayer(t){const e=this._getLayer(t);for(let t=0;t<e.length;t++)this._rbush.remove(e[t])}queryMouseCoordinates({x:t,y:e}){const n=this._rbush.search({minX:t,maxX:t,minY:e,maxY:e});return this._getHits(t,e,n)}queryBoundingBox(t){return this._rbush.search(t)}_getHits(t,e,n){const o=Ko(),i=[];for(let r=0;r<n.length;r++){const s=n[r];o.beginPath();(s.data.constructor===ai?this._detectCollisionMark(t,e,s):this._detectCollisionLayer(t,e,s))&&i.push(s)}return i}_detectCollisionMark(t,e,n){const o=Ko();if("text"in n.data.props)return pi(t,e,n);const i=n.data;"segment"in n?di(o,i.positioning,n.segment):fi(o,i.positioning);const r=i.props;return!(!li(r)||!o.isPointInPath(t,e))||!(!hi(r)||(o.lineWidth=r.strokeWidth,!o.isPointInStroke(t,e)))}_detectCollisionLayer(t,e,n){const o=Ko();if("text"in n.data.props)return pi(t,e,n);const i=n.data,r=n.index,s=i.positioning[r];"segment"in n?di(o,s,n.segment):fi(o,s);const a=Zo(i.props,["fill","stroke","strokeWidth"],i.props.keys)(r);return!(!li(a)||!o.isPointInPath(t,e))||!(!hi(a)||(o.lineWidth=a.strokeWidth,!o.isPointInStroke(t,e)))}}const ui=t=>e=>e[t]&&"none"!==e[t],li=ui("fill"),hi=ui("stroke");function di(t,e,n){const o=function(t,e){const n=t.call[e-1],o=t.args[e-1];switch(n){case"moveTo":case"lineTo":return o;case"quadraticCurveTo":return[o[2],o[3]];case"bezierCurveTo":return[o[4],o[5]];default:throw new Error(`Invalid last call: ${n}`)}}(e,n);fi(t,{call:["moveTo",e.call[n]],args:[o,e.args[n]]})}function fi(t,e){for(let n=0;n<e.call.length;n++)t[e.call[n]].apply(t,e.args[n])}function pi(t,e,n){return ti([t,e],n.rotatedBbox)}const gi="undefined"!=typeof window?window:{screen:{},navigator:{}},mi=gi.matchMedia||(()=>({matches:!1})),yi={get passive(){return!0}},ki=()=>{};gi.addEventListener&&gi.addEventListener("p",ki,yi),gi.removeEventListener&&gi.removeEventListener("p",ki,!1);const vi="ontouchstart"in gi,Mi=vi||"TouchEvent"in gi&&mi("(any-pointer: coarse)").matches,xi=(gi.navigator.maxTouchPoints||0)>0||Mi,bi=gi.navigator.userAgent||"",$i=mi("(pointer: coarse)").matches&&/iPad|Macintosh/.test(bi)&&Math.min(gi.screen.width||0,gi.screen.height||0)>=768,Ti=(mi("(pointer: coarse)").matches||!mi("(pointer: fine)").matches&&vi)&&!/Windows.*Firefox/.test(bi),_i=mi("(any-pointer: fine)").matches||mi("(any-hover: hover)").matches||$i||!vi,wi=!xi||!_i&&Ti?xi?"touchOnly":"mouseOnly":"hybrid",Si="mouseOnly"===wi?"mouse":"touchOnly"===wi||Ti?"touch":"mouse";let Ci,Oi;class Ai{constructor(t,{eventName:e,nativeEventName:n,useWindow:o,preventDefault:i}){this._eventManager=t,this._eventName=e,this._nativeEventName=n,this._useWindow=o,this._preventDefault=i,this._numberOfActiveListeners=0,this._callbacks={}}setNativeEventName(t){this._nativeEventName=t}addListener(t,e){this._callbacks[t]=e,this._eventManagerHasBeenMounted()&&this._attachNativeListenerIfNecessary()}attachAllListeners(){for(const t in this._callbacks)this._attachNativeListenerIfNecessary()}removeListener(t){delete this._callbacks[t],this._eventManagerHasBeenMounted()&&this._removeNativeListenerIfNecessary()}_eventManagerHasBeenMounted(){return this._eventManager._mounted}_attachNativeListenerIfNecessary(){if(0===this._numberOfActiveListeners){Ci=this._handleEvent.bind(this);const t=this._nativeEventName;this._useWindow&&Oi.addEventListener(t,Ci),this._useWindow||this._eventManager._domNode.addEventListener(t,Ci)}this._numberOfActiveListeners++}_removeNativeListenerIfNecessary(){if(this._numberOfActiveListeners--,0===this._numberOfActiveListeners){const t=this._nativeEventName;this._useWindow&&Oi.removeEventListener(t,Ci),this._useWindow||this._eventManager._domNode.removeEventListener(t,Ci)}}_handleEvent(t){this._preventDefault&&t.preventDefault();const e=this._getScreenCoordinates(t);t.eventName=this._eventName;for(const n in this._callbacks)this._callbacks[n](e,t)}_getScreenCoordinates(t){return this._eventManager._getScreenCoordinates(t)}}class Li{constructor(t,e){this._domNode=void 0,this._svgPoint=void 0,this._mounted=!1,this._trackers={},this._BROWSER_TYPE=void 0,this._managerType=e;for(const e of t)this._trackers[e.eventName]=new Ai(this,e)}addRootNode(t,e){this._domNode=t,"svg"===e&&(this._svgPoint=this._domNode.createSVGPoint()),this._BROWSER_TYPE=window.navigator.pointerEnabled?"IE11 / MSEdge":window.navigator.msPointerEnabled?"IE10 / WP8":"other",this._mounted=!0}attachEventListeners(){if(!1===this._mounted)throw new Error("root node must be added first");for(const t in this._trackers)"mouse"===this._managerType&&this._trackers[t].setNativeEventName(this._getNativeMouseEventName(t,this._BROWSER_TYPE)),"touch"===this._managerType&&this._trackers[t].setNativeEventName(this._getNativeTouchEventName(t,this._BROWSER_TYPE)),this._trackers[t].attachAllListeners()}eventTracker(t){return this._trackers[t]}}var Pi=t=>t.charAt(0).toUpperCase()+t.slice(1);class Ei extends Li{constructor(){super(Ri,"mouse")}_getNativeMouseEventName(t,e){if("click"===t)return"click";if("wheel"===t)return"wheel";if("IE11 / MSEdge"===e){return"pointer"+Ni(t)}if("IE10 / WP8"===e){const e=Ni(t);return"MSPointer"+Pi(e)}return"other"===e?t:void 0}_getScreenCoordinates(t){if(this._svgPoint)return this._svgPoint.x=t.clientX,this._svgPoint.y=t.clientY,this._svgPoint.matrixTransform(this._domNode.getScreenCTM().inverse());const e=this._domNode.getBoundingBoxClientRect?this._domNode.getBoundingBoxClientRect():this._domNode.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}}const Ii=["mousemove","mouseup"],Xi=["mousedown"],Ri=["mousedown","mouseup","mousemove","mouseout","click","wheel"].map((t=>({eventName:t,nativeEventName:void 0,useWindow:Ii.includes(t),preventDefault:Xi.includes(t)}))),Ni=t=>t.slice(5,t.length);class Yi extends Li{constructor(){super(Wi,"touch")}_getNativeTouchEventName(t,e){if("IE11 / MSEdge"===e){return"pointer"+Hi(t)}if("IE10 / WP8"===e){const e=Hi(t);return"MSPointer"+Pi(e)}if("other"===e)return t}_getScreenCoordinates(t){const e=function(t){return t.touches}(t);return 1===e.length?this._getScreenCoordinatesSingle(e[0]):e.length>1?this._getScreenCoordinatesMulti(e):void 0}_getScreenCoordinatesSingle(t){if(this._svgPoint)return this._svgPoint.x=t.clientX,this._svgPoint.y=t.clientY,this._svgPoint.matrixTransform(this._domNode.getScreenCTM().inverse());const e=this._domNode.getBoundingBoxClientRect?this._domNode.getBoundingBoxClientRect():this._domNode.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}_getScreenCoordinatesMulti(t){const e=[];for(const n of t)e.push(this._getScreenCoordinatesSingle(n));return e}}const Wi=["touchstart","touchend","touchmove","touchcancel"].map((t=>({eventName:t,nativeEventName:void 0,useWindow:!1,preventDefault:!0}))),Hi=t=>t.slice(5,t.length);class Di{constructor(){"mouse"===Si&&(this._mouseEventManager=new Ei),"touch"===Si&&(this._touchEventManager=new Yi)}addRootNode(t,e,n){this._forEachManager((n=>{n.addRootNode(t,e)})),function(t){Oi=t||window}(n)}attachEventListeners(){this._forEachManager((t=>{t.attachEventListeners()}))}mouse(){return this._mouseEventManager}touch(){return this._touchEventManager}_forEachManager(t){this._mouseEventManager&&t(this._mouseEventManager),this._touchEventManager&&t(this._touchEventManager)}}class Bi{constructor(){this._id=void 0,this._eventManager=void 0,this._section=void 0,this._markInteractionInterface=void 0,this._sectionInteractionInterface=void 0}setId(t){this._id=t}linkEventManager(t){this._eventManager=t}loadSection(t){this._section=t}marks(){return this._markInteractionInterface}section(){return this._sectionInteractionInterface}}class Fi{constructor(t,e){this._interactionManager=t,this._handlers={};for(const t in e)this._handlers[t]=new e[t](this._interactionManager)}_getHandler(t){const e=zi(t);return this._handlers[e]}}const zi=t=>Pi(t)+"Handler",ji=Math.PI,Gi=Math.PI/2,Ji=2*Math.PI;function qi(t,e,n,o,i,r){if(0===o&&i===Ji)return{minX:t-n,maxX:t+n,minY:e-n,maxY:e+n};let s=o,a=i;r&&(s=i,a=o);const c=Vi(s),u=Vi(a),l=Math.cos(s)*n,h=Math.sin(s)*n,d=Math.cos(a)*n,f=Math.sin(a)*n,p=Math.min(l,d),g=Math.min(h,f),m=Math.max(l,d),y=Math.max(h,f),k=[[m,n,n,n],[m,m,n,n],[m,m,m,n],[m,m,m,m]],v=[[y,y,y,y],[n,y,n,n],[n,y,y,n],[n,y,y,y]],M=[[g,-n,-n,g],[g,g,-n,g],[g,g,g,g],[-n,-n,-n,g]],x=[[p,-n,p,p],[p,p,p,p],[-n,-n,p,-n],[-n,-n,p,p]][u][c],b=M[u][c];return{minX:x+t,maxX:k[u][c]+t,minY:b+e,maxY:v[u][c]+e}}function Vi(t){const e=t%Ji;return e>0&&e<Gi?0:e>=Gi&&e<ji?1:e>=ji&&e<ji+Gi?2:3}function Ki(t,e,n){e.stroke&&"none"!==e.stroke&&function(t,e){t.minX-=e,t.maxX+=e,t.minY-=e,t.maxY+=e}(t,e.strokeWidth/2);return function(t,e){t.minX=Ui(t.minX,e.minX,e.maxX),t.maxX=Ui(t.maxX,e.minX,e.maxX),t.minY=Ui(t.minY,e.minY,e.maxY),t.maxY=Ui(t.maxY,e.minY,e.maxY)}(t,ni(e,n)),t}const Ui=(t,e,n)=>Math.min(Math.max(t,e),n);function Zi(t,e,n){for(let o=0;o<t.call.length;o++)if("arc"===t.call[o]){return Ki(qi.apply(null,t.args[o]),e,n)}}function Qi(t,e){for(let n=0;n<t.length;n++){const o=t[n];for(const t in e)o[t]=e[t]}}function tr(t,e,n){for(let o=0;o<t.length;o++){const i=t[o];for(const t in e)i[t]=e[t];i.key=n[i.index]}}function er(t,e,n,o){return{minX:Math.min(t,e),maxX:Math.max(t,e),minY:Math.min(n,o),maxY:Math.max(n,o)}}function nr(t,e,n,o){return(1-o)*(1-o)*t+2*(1-o)*o*e+o*o*n}function or(t,e,n,o,i){return t*(1-i)*(1-i)*(1-i)+3*e*i*(1-i)*(1-i)+3*n*i*i*(1-i)+o*i*i*i}function ir(t,e,n,o,i,r,s,a){let c=3*s-9*i+9*n-3*t,u=6*t-12*n+6*i,l=3*n-3*t,h=u*u-4*c*l,d=t,f=t;if(s<d&&(d=s),s>f&&(f=s),h>=0){const e=(-u+Math.sqrt(h))/(2*c);if(e>0&&e<1){const o=or(t,n,i,s,e);o<d&&(d=o),o>f&&(f=o)}const o=(-u-Math.sqrt(h))/(2*c);if(o>0&&o<1){const e=or(t,n,i,s,o);e<d&&(d=e),e>f&&(f=e)}}c=3*a-9*r+9*o-3*e,u=6*e-12*o+6*r,l=3*o-3*e,h=u*u-4*c*l;let p=e,g=e;if(a<p&&(p=a),a>g&&(g=a),h>=0){const t=(-u+Math.sqrt(h))/(2*c);if(t>0&&t<1){const n=or(e,o,r,a,t);n<p&&(p=n),n>g&&(g=n)}const n=(-u-Math.sqrt(h))/(2*c);if(n>0&&n<1){const t=or(e,o,r,a,n);t<p&&(p=t),t>g&&(g=t)}}return er(d,f,p,g)}function rr(t,e,n,o,i,r){return ir.apply(null,function(t,e,n,o,i,r){return[t/3+2/3*n,e/3+2/3*o,i/3+2/3*n,r/3+2/3*o,i,r]}(t,e,n,o,i,r))}function sr(t,e,n,o,i,r,s,a){if(0!==i)throw Error("Rotation not supported yet");const c=n/o,u=qi(t,e,c>1?n:o,r,s,a);return function(t,e){if(e<1){const n=(t.minX+t.maxX)/2,o=n-t.minX,i=t.maxX-n;t.minX=n-o*e,t.maxX=n+i*e}if(e>1){const n=(t.minY+t.maxY)/2,o=n-t.minY,i=t.maxY-n;t.minY=n-o/e,t.maxY=n+i/e}}(u,c),u}function ar(t,e,n,o,i,r,s){return[t+Math.cos(s)*n,e+Math.sin(s)*o]}function cr(t,e,n){t.minX=e<t.minX?e:t.minX,t.maxX=e>t.maxX?e:t.maxX,t.minY=n<t.minY?n:t.minY,t.maxY=n>t.maxY?n:t.maxY}function ur(t,{minX:e,maxX:n,minY:o,maxY:i}){t.minX=e<t.minX?e:t.minX,t.maxX=n>t.maxX?n:t.maxX,t.minY=o<t.minY?o:t.minY,t.maxY=i>t.maxY?i:t.maxY}function lr(t){const e=[],{positioning:n,props:o,section:i}=t,r=n.submarks.length?n.submarks:[0];for(let t=0;t<r.length;t++){const s=r[t],a=r[t+1]||n.call.length;e.push(dr(n,o,i,s,a))}return e}function hr(t){const e=[],{props:n,section:o}=t,i=Zo(n,["stroke","strokeWidth"],n.keys);for(let n=0;n<t.positioning.length;n++){const r=t.positioning[n],s=r.submarks.length?r.submarks:[0];for(let t=0;t<s.length;t++){const a=s[t],c=s[t+1]||r.call.length,u=dr(r,i(n),o,a,c);u.index=n,e.push(u)}}return e}function dr(t,e,n,o,i){const r={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};let s,a,c=0;for(let u=o;u<i;u++){const o=t.call[u],i=t.args[u];switch(o){case"moveTo":if(c++,2===c)return Ki(r,e,n);s=i[0],a=i[1];break;case"lineTo":cr(r,s,a),s=i[0],a=i[1],cr(r,s,a);break;case"quadraticCurveTo":ur(r,rr(s,a,...i)),s=i[2],a=i[3];break;case"bezierCurveTo":ur(r,ir(s,a,...i)),s=i[4],a=i[5];break;case"ellipse":ur(r,sr.apply(null,i));const t=ar.apply(null,i);s=t[0],a=t[1]}}return Ki(r,e,n)}function fr(t){const{positioning:e,props:n,section:o}=t;return[gr(e,n,o)]}function pr(t){const e=[],{props:n,section:o}=t,i=Zo(n,["text","fontSize","rotate","anchorPoint","stroke","strokeWidth"],n.keys);for(let n=0;n<t.positioning.length;n++){const r=gr(t.positioning[n],i(n),o);r.index=n,e.push(r)}return e}function gr(t,e,n){const o=Ko();o.save();const i=o.measureText(e.text).width,r=e.fontSize,[s,a]=function({anchorPoint:t},e,n){const o=t.startsWith("l")?0:t.startsWith("r")?-e:-e/2,i=t.endsWith("t")?0:t.endsWith("b")?-n:-n/2;return[o,i]}(e,i,r),c=s+i,u=a+r,l=[[s,a],[c,a],[c,u],[s,u]];o.translate.apply(o,t.args[0]),o.rotate(e.rotate);const h=o.getTransform?o.getTransform():o.currentTransform,d=l.map((([t,e])=>{const n=h.transformPoint({x:t,y:e});return[n.x,n.y]}));o.restore();const f=Ki(function(t){const e={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};for(let n=0;n<t.length;n++){const[o,i]=t[n];cr(e,o,i)}return e}(d),e,n);return f.rotatedBbox=d,f}function mr(t,e,n){const o=[];let i,r,s;for(let a=0;a<t.call.length;a++){const c=t.call[a],u=t.args[a];switch(c){case"moveTo":i=u[0],r=u[1];break;case"lineTo":s=Ki(er(i,u[0],r,u[1]),e,n),s.segment=a,o.push(s),i=u[0],r=u[1];break;case"quadraticCurveTo":s=Ki(rr(i,r,...u),e,n),s.segment=a,o.push(s),i=u[2],r=u[3];break;case"bezierCurveTo":s=Ki(ir(i,r,...u),e,n),s.segment=a,o.push(s),i=u[4],r=u[5]}}return o}function yr(t){const e=function(t){const{positioning:e,props:n,section:o}=t;return mr(e,n,o)}(t);return Qi(e,{data:t}),e}const kr={Point:function(t){const e=function(t){const{positioning:e,props:n,section:o}=t;return[Zi(e,n,o)]}(t);return Qi(e,{data:t}),e},Rectangle:function(t){const e=lr(t);return Qi(e,{data:t}),e},Polygon:function(t){const e=lr(t);return Qi(e,{data:t}),e},Line:yr,Area:function(t){const e=lr(t);return Qi(e,{data:t}),e},Symbol:function(t){const e=lr(t);return Qi(e,{data:t}),e},Label:function(t){const e=fr(t);return Qi(e,{data:t}),e},FuncLine:yr},vr={Point:function(t){const e=function(t){const e=[],{props:n,section:o}=t,i=Zo(n,["stroke","strokeWidth"],n.keys);for(let n=0;n<t.positioning.length;n++){const r=Zi(t.positioning[n],i(n),o);r.index=n,e.push(r)}return e}(t);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e},Rectangle:function(t){const e=hr(t);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e},Polygon:function(t){const e=hr(t);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e},Line:function(t){const e=function(t){const e=[],{props:n,section:o}=t,i=Zo(n,["stroke","strokeWidth"],n.keys);for(let n=0;n<t.positioning.length;n++){const r=mr(t.positioning[n],i(n),o);for(let t=0;t<r.length;t++)r[t].index=n,e.push(r[t])}return e}(t);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e},Label:function(t){const e=pr(t);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e},Area:function(t){const e=hr(t);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e},Symbol:function(t){const e=hr(t);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e}};class Mr extends Fi{constructor(t,e){super(t,e),this._indexableMarks={},this._indexableLayers={}}loadMark(t){const e=(0,kr[t.type])(t),n=t.id;this._indexableMarks[n]=e}markIsLoaded({id:t}){return t in this._indexableMarks}removeMark({id:t}){delete this._indexableMarks[t]}loadLayer(t){const e=(0,vr[t.type])(t),n=t.id;this._indexableLayers[n]=e}layerIsLoaded({id:t}){return t in this._indexableLayers}removeLayer({id:t}){delete this._indexableLayers[t]}addMarkInteraction(t,{id:e},n){this._getHandler(t).addMarkInteraction(e,n)}removeAllMarkInteractions({id:t}){for(const e in this._handlers){const n=this._handlers[e];n.hasMark(t)&&n.removeMarkInteraction(t)}}addLayerInteraction(t,{id:e},n){this._getHandler(t).addLayerInteraction(e,n)}removeAllLayerInteractions({id:t}){for(const e in this._handlers){const n=this._handlers[e];n.hasLayer(t)&&n.removeLayerInteraction(t)}}}class xr extends Fi{addInteraction(t,e){this._getHandler(t).addInteraction(e)}removeAllInteractions(){for(const t in this._handlers){const e=this._handlers[t];e.hasInteraction()&&e.removeInteraction()}}}class br{constructor(t,{eventName:e,interactionName:n}){this._interactionManager=t,this._eventName=e,this._interactionName=n}interactionManager(){return this._interactionManager}eventManager(){return this._interactionManager._eventManager}section(){return this._interactionManager._section}id(){return this._interactionManager._id}_addEventListener(){const t=this._handleEvent.bind(this),e=this.eventManager(),n=this.getId(),o=$r(this._eventName)?this._eventName:[this._eventName];for(const i of o)e.eventTracker(i).addListener(n,t)}_removeEventListener(){const t=this.eventManager(),e=this.getId(),n=$r(this._eventName)?this._eventName:[this._eventName];for(const o of n)t.eventTracker(o).removeListener(e)}}function $r(t){return t.constructor===Array}class Tr extends br{constructor(t,e){super(t,e);this._spatialIndex=new ci(this,(function(t){return this._interactionManager.marks()._indexableMarks[t]}),(function(t){return this._interactionManager.marks()._indexableLayers[t]})),this._numberOfInteractions=0,this._markCallbacks={},this._layerCallbacks={}}addMarkInteraction(t,e){this._addEventListenerIfNecessary(),this._numberOfInteractions++,this._markCallbacks[t]=e,this._spatialIndex.indexMark(t)}hasMark(t){return t in this._markCallbacks}removeMarkInteraction(t){this._removeEventListenerIfNecessary(),delete this._markCallbacks[t],this._numberOfInteractions--,this._spatialIndex.unindexMark(t)}addLayerInteraction(t,e){t in this._layerCallbacks||(this._addEventListenerIfNecessary(),this._numberOfInteractions++,this._layerCallbacks[t]=e,this._spatialIndex.indexLayer(t))}hasLayer(t){return t in this._layerCallbacks}removeLayerInteraction(t){t in this._layerCallbacks&&(this._numberOfInteractions--,delete this._layerCallbacks[t],this._removeEventListenerIfNecessary(),this._spatialIndex.unindexLayer(t))}_addEventListenerIfNecessary(){0===this._numberOfInteractions&&this._addEventListener()}_removeEventListenerIfNecessary(){0===this._numberOfInteractions&&this._removeEventListener()}getId(){return`${this.id()}-mark-${this._interactionName}`}}function _r(t,e,n,o){return e.markType=n.data.type,e.hitBbox=Cr(n),e.hitSource="mark",Or(t,e,o)}function wr(t,e,n,o){return e.markType=n.data.type,e.hitBbox=Cr(n),e.key=n.key,e.index=n.index,e.hitSource="layer",Or(t,e,o)}function Sr(t,e,n){return e.hitSource="section",Or(t,e,n)}function Cr(t){return{minX:t.minX,maxX:t.maxX,minY:t.minY,maxY:t.maxY}}function Or(t,e,n){const o=e;o.type=t,o.nativeType=n.type;for(const t of Ar)o[t]=n[t];return o}const Ar=["altKey","ctrlKey","shiftKey","clientX","clientY","pageX","pageY","screenX","screenY","timeStamp"];function Lr(t,e){return{type:t,markType:e.data.type,hitSource:"mark"}}function Pr(t,e){return{type:t,markType:e.data.type,key:e.key,index:e.index,hitSource:"layer"}}function Er(t,e){const n=e._section,o=n.inverseTotalTransformation,{minX:i,maxX:r,minY:s,maxY:a}=n.paddedBbox,c=Ir(t.x,i,r),u=Ir(t.y,s,a),[l,h]=o([c,u]);return{x:l,y:h}}function Ir(t,e,n){return Math.max(e,Math.min(t,n))}let Xr=0;class Rr{constructor(t,e,n,o,i){this.positioning=t,this.props=e,this.section=n,this.styler=o,this.type=i,this.id="l"+Xr++}render(t){t.save(),ei(t)?this._renderWithStartAndEndCalls(t):this._render(t),t.restore()}updateAesthetics(t){for(const e in t)this.props[e]=t[e]}_renderWithStartAndEndCalls(t){t.layerStart();ii(t,oi(this.props,this.section));const e=this.styler.asOnePath(this.props),n=this.styler.create(this.props);if(e){t.markStart();for(let e=0;e<this.positioning.length;e++)ri(t,this.positioning[e]);n(t),t.markEnd()}if(!e)for(let e=0;e<this.positioning.length;e++)t.markStart(),ri(t,this.positioning[e]),n(t,e),t.markEnd();t.layerEnd()}_render(t){ii(t,oi(this.props,this.section));const e=this.styler.asOnePath(this.props),n=this.styler.create(this.props);if(e){t.beginPath();for(let e=0;e<this.positioning.length;e++)ri(t,this.positioning[e]);n(t)}if(!e)for(let e=0;e<this.positioning.length;e++)t.beginPath(),ri(t,this.positioning[e]),n(t,e)}}function Nr({x:t,y:e},n){const o=n.bbox;return t>=o.minX&&t<=o.maxX&&e>=o.minY&&e<=o.maxY}function Yr(t){return t.data.constructor===ai}function Wr(t){return t.data.constructor===Rr}function Hr(t){return Yr(t)?t.data.id:Wr(t)?t.data.id+"-"+t.index:void 0}var Dr=Object.freeze({__proto__:null,ClickHandler:class extends Tr{constructor(t){super(t,{interactionName:"click",eventName:"click"})}_handleEvent(t,e){if(!Nr(t,this.section()))return;const n=this._spatialIndex.queryMouseCoordinates(t),o=Er(t,this.interactionManager());for(let i=0;i<n.length;i++){const r=n[i];if(Yr(r)){const n=_r("click",{screenCoordinates:t,localCoordinates:o},r,e);this._markCallbacks[r.data.id](n)}if(Wr(r)){const n=wr("click",{screenCoordinates:t,localCoordinates:o},r,e);this._layerCallbacks[r.data.id](n)}}}},MouseoverHandler:class extends Tr{constructor(t){super(t,{interactionName:"mouseover",eventName:"mousemove"}),this._previousMouseoverIds={},this._currentMouseoverIds={}}_handleEvent(t,e){const n=this._spatialIndex.queryMouseCoordinates(t);for(let o=0;o<n.length;o++){const i=n[o],r=Hr(i);this._currentMouseoverIds[r]=!0,r in this._previousMouseoverIds||this._fireCallback(i,t,e)}this._previousMouseoverIds=this._currentMouseoverIds,this._currentMouseoverIds={}}_fireCallback(t,e,n){const o=Er(e,this.interactionManager());if(Yr(t)){const i=_r("mouseover",{screenCoordinates:e,localCoordinates:o},t,n);this._markCallbacks[t.data.id](i)}if(Wr(t)){const i=wr("mouseover",{screenCoordinates:e,localCoordinates:o},t,n);this._layerCallbacks[t.data.id](i)}}},MouseoutHandler:class extends Tr{constructor(t){super(t,{interactionName:"mouseout",eventName:"mousemove"}),this._previousMouseoverHits={},this._currentMouseoverHits={}}_handleEvent(t,e){const n=this._spatialIndex.queryMouseCoordinates(t);for(let t=0;t<n.length;t++){const e=n[t],o=Hr(e);this._currentMouseoverHits[o]=e}for(const n in this._previousMouseoverHits)if(!(n in this._currentMouseoverHits)){const o=this._previousMouseoverHits[n];this._fireCallback(o,t,e)}this._previousMouseoverHits=this._currentMouseoverHits,this._currentMouseoverHits={}}_fireCallback(t,e,n){const o=Er(e,this.interactionManager());if(Yr(t)){const i=_r("mouseout",{screenCoordinates:e,localCoordinates:o},t,n);this._markCallbacks[t.data.id](i)}if(Wr(t)){const i=wr("mouseout",{screenCoordinates:e,localCoordinates:o},t,n);this._layerCallbacks[t.data.id](i)}}},MousedownHandler:class extends Tr{constructor(t){super(t,{interactionName:"mousedown",eventName:"mousedown"})}_handleEvent(t,e){if(!Nr(t,this.section()))return;const n=this._spatialIndex.queryMouseCoordinates(t),o=Er(t,this.interactionManager());for(let i=0;i<n.length;i++){const r=n[i];if(Yr(r)){const n=_r("mousedown",{screenCoordinates:t,localCoordinates:o},r,e);this._markCallbacks[r.data.id](n)}if(Wr(r)){const n=wr("mousedown",{screenCoordinates:t,localCoordinates:o},r,e);this._layerCallbacks[r.data.id](n)}}}},MouseupHandler:class extends Tr{constructor(t){super(t,{interactionName:"mouseup",eventName:"mouseup"})}_handleEvent(t,e){if(!Nr(t,this.section()))return;const n=this._spatialIndex.queryMouseCoordinates(t),o=Er(t,this.interactionManager());for(let i=0;i<n.length;i++){const r=n[i];if(Yr(r)){const n=_r("mouseup",{screenCoordinates:t,localCoordinates:o},r,e);this._markCallbacks[r.data.id](n)}if(Wr(r)){const n=wr("mouseup",{screenCoordinates:t,localCoordinates:o},r,e);this._layerCallbacks[r.data.id](n)}}}},MousedragHandler:class extends Tr{constructor(t){super(t,{interactionName:"mousedrag",eventName:["mousedown","mousemove","mouseup"]}),this._currentHits={}}_handleEvent(t,e){"mousedown"===e.eventName&&this._handleMousedown(t,e),"mousemove"===e.eventName&&this._handleMousemove(t,e),"mouseup"===e.eventName&&this._handleMouseup(t,e)}_handleMousedown(t,e){if(!Nr(t,this.section()))return;const n=this._spatialIndex.queryMouseCoordinates(t);for(let o=0;o<n.length;o++){const i=n[o],r=Hr(i);this._currentHits[r]=i,this._fireCallback(i,t,e,"start")}}_handleMousemove(t,e){if(Nr(t,this.section()))for(const n in this._currentHits){const o=this._currentHits[n];this._fireCallback(o,t,e,"drag")}}_handleMouseup(t,e){for(const n in this._currentHits){const o=this._currentHits[n];this._fireCallback(o,t,e,"end")}this._currentHits={}}_fireCallback(t,e,n,o){const i=Er(e,this.interactionManager());if(Yr(t)){const r=_r("mousedrag",{screenCoordinates:e,localCoordinates:i,dragType:o},t,n);this._markCallbacks[t.data.id](r)}if(Wr(t)){const r=wr("mousedrag",{screenCoordinates:e,localCoordinates:i,dragType:o},t,n);this._layerCallbacks[t.data.id](r)}}}});class Br extends br{constructor(t,e){super(t,e),this._callback=void 0}addInteraction(t){this._addEventListener(),this._callback=t}hasInteraction(){return void 0!==this._callback}removeInteraction(){this._callback&&(this._callback=void 0,this._removeEventListener())}getId(){return`${this.id()}-section-${this._interactionName}`}}let Fr;var zr=Object.freeze({__proto__:null,WheelHandler:class extends Br{constructor(t){super(t,{interactionName:"wheel",eventName:"wheel"})}_handleEvent(t,e){e.preventDefault(),e.stopPropagation();const n=this.interactionManager();if(Nr(t,this.section())){const o=Sr("wheel",{screenCoordinates:t,localCoordinates:Er(t,n),delta:function(t){let e;"wheelDelta"in t&&0!==t.wheelDelta&&(e=-t.wheelDelta);"detail"in t&&0!==t.detail&&(e=-t.detail);"deltaY"in t&&0!==t.deltaY&&(e=-t.deltaY);Fr||(Fr=function(){var t,e=document.createElement("iframe");e.src="#",document.body.appendChild(e);var n=e.contentWindow.document;return n.open(),n.write("<!DOCTYPE html><html><head></head><body><span>a</span></body></html>"),n.close(),t=n.body.firstElementChild.offsetHeight,document.body.removeChild(e),t}());return e*(t.deltaMode?Fr:1)/500}(e)},e);this._callback(o)}}},ClickHandler:class extends Br{constructor(t){super(t,{interactionName:"click",eventName:"click"})}_handleEvent(t,e){const n=this.interactionManager();if(Nr(t,this.section())){const o=Sr("click",{screenCoordinates:t,localCoordinates:Er(t,n)},e);this._callback(o)}}},MousedownHandler:class extends Br{constructor(t){super(t,{interactionName:"mousedown",eventName:"mousedown"})}_handleEvent(t,e){const n=this.interactionManager();if(Nr(t,this.section())){const o=Sr("mousedown",{screenCoordinates:t,localCoordinates:Er(t,n)},e);this._callback(o)}}},MouseupHandler:class extends Br{constructor(t){super(t,{interactionName:"mouseup",eventName:"mouseup"})}_handleEvent(t,e){const n=this.interactionManager();if(Nr(t,this.section())){const o=Sr("mouseup",{screenCoordinates:t,localCoordinates:Er(t,n)},e);this._callback(o)}}},MouseoverHandler:class extends Br{constructor(t){super(t,{interactionName:"mouseover",eventName:"mousemove"}),this._mouseCurrentlyOverSection=!1}_handleEvent(t,e){const n=this.interactionManager();if(Nr(t,this.section())){if(!this._mouseCurrentlyOverSection){const o=Sr("mouseover",{screenCoordinates:t,localCoordinates:Er(t,n)},e);this._callback(o),this._mouseCurrentlyOverSection=!0}}else this._mouseCurrentlyOverSection&&(this._mouseCurrentlyOverSection=!1)}},MouseoutHandler:class extends Br{constructor(t){super(t,{interactionName:"mouseout",eventName:"mousemove"}),this._mouseCurrentlyOverSection=!1}_handleEvent(t,e){const n=this.interactionManager();if(Nr(t,this.section()))this._mouseCurrentlyOverSection||(this._mouseCurrentlyOverSection=!0);else if(this._mouseCurrentlyOverSection){const o=Sr("mouseout",{screenCoordinates:t,localCoordinates:Er(t,n)},e);this._callback(o),this._mouseCurrentlyOverSection=!1}}},MousemoveHandler:class extends Br{constructor(t){super(t,{interactionName:"mouseover",eventName:"mousemove"})}_handleEvent(t,e){const n=this.interactionManager();if(Nr(t,this.section())){const o=Sr("mousemove",{screenCoordinates:t,localCoordinates:Er(t,n)},e);this._callback(o)}}}});class jr extends Bi{constructor(){super(),this._markInteractionInterface=new Mr(this,Dr),this._sectionInteractionInterface=new xr(this,zr)}}function Gr(t){return t.constructor===Object?1:t.length}var Jr=Object.freeze({__proto__:null,TouchdownHandler:class extends Tr{constructor(t){super(t,{interactionName:"touchdown",eventName:"touchstart"})}_handleEvent(t,e){if(1!==Gr(t))return;const n=this._spatialIndex.queryMouseCoordinates(t),o=Er(t,this.interactionManager());for(let i=0;i<n.length;i++){const r=n[i];if(Yr(r)){const n=_r("touchdown",{screenCoordinates:t,localCoordinates:o},r,e);this._markCallbacks[r.data.id](n)}if(Wr(r)){const n=wr("touchdown",{screenCoordinates:t,localCoordinates:o},r,e);this._layerCallbacks[r.data.id](n)}}}},TouchupHandler:class extends Tr{constructor(t){super(t,{interactionName:"touchup",eventName:["touchend","touchcancel"]})}_handleEvent(t,e){if(1!==Gr(t))return;const n=this._spatialIndex.queryMouseCoordinates(t),o=Er(t,this.interactionManager());for(let i=0;i<n.length;i++){const r=n[i];if(Yr(r)){const n=_r("touchup",{screenCoordinates:t,localCoordinates:o},r,e);this._markCallbacks[r.data.id](n)}if(Wr(r)){const n=wr("touchup",{screenCoordinates:t,localCoordinates:o},r,e);this._layerCallbacks[r.data.id](n)}}}},TouchoverHandler:class extends Tr{constructor(t){super(t,{interactionName:"touchover",eventName:["touchstart","touchmove"]}),this._previousHits={},this._currentHits={}}_handleEvent(t,e){1===Gr(t)&&("touchstart"===e.eventName&&this._handleTouchstart(t,e),"touchmove"===e.eventName&&this._handleTouchmove(t,e))}_handleTouchstart(t,e){if(!Nr(t,this.section()))return;const n=this._spatialIndex.queryMouseCoordinates(t);for(let t=0;t<n.length;t++){const e=Hr(n[t]);this._previousHits[e]=!0}}_handleTouchmove(t,e){if(!Nr(t,this.section()))return;const n=this._spatialIndex.queryMouseCoordinates(t);for(let o=0;o<n.length;o++){const i=n[o],r=Hr(i);this._currentHits[r]=!0,r in this._previousHits||this._fireCallback(i,t,e)}this._previousHits=this._currentHits,this._currentHits={}}_fireCallback(t,e,n){const o=Er(e,this.interactionManager());if(Yr(t)){const i=_r("touchover",{screenCoordinates:e,localCoordinates:o},t,n);this._markCallbacks[t.data.id](i)}if(Wr(t)){const i=wr("touchover",{screenCoordinates:e,localCoordinates:o},t,n);this._layerCallbacks[t.data.id](i)}}},TouchoutHandler:class extends Tr{constructor(t){super(t,{interactionName:"touchout",eventName:["touchstart","touchmove","touchend"]}),this._previousHits={},this._currentHits={}}_handleEvent(t,e){1===Gr(t)&&("touchstart"===e.eventName&&this._handleTouchstart(t,e),"touchmove"===e.eventName&&this._handleTouchmove(t,e),"touchend"===e.eventName&&this._handleTouchend())}_handleTouchstart(t,e){if(!Nr(t,this.section()))return;const n=this._spatialIndex.queryMouseCoordinates(t);for(let t=0;t<n.length;t++){const e=n[t],o=Hr(e);this._previousHits[o]=e}}_handleTouchmove(t,e){if(!Nr(t,this.section()))return;const n=this._spatialIndex.queryMouseCoordinates(t);for(let t=0;t<n.length;t++){const e=n[t],o=Hr(e);this._currentHits[o]=e}for(const n in this._previousHits)if(!(n in this._currentHits)){const o=this._previousHits[n];this._fireCallback(o,t,e)}this._previousHits=this._currentHits,this._currentHits={}}_handleTouchend(){this._previousHits={},this._currentHits={}}_fireCallback(t,e,n){const o=Er(e,this.interactionManager());if(Yr(t)){const i=_r("touchout",{screenCoordinates:e,localCoordinates:o},t,n);this._markCallbacks[t.data.id](i)}if(Wr(t)){const i=wr("touchout",{screenCoordinates:e,localCoordinates:o},t,n);this._layerCallbacks[t.data.id](i)}}},TouchdragHandler:class extends Tr{constructor(t){super(t,{interactionName:"touchdrag",eventName:["touchstart","touchmove","touchend"]}),this._currentHits={}}_handleEvent(t,e){1===Gr(t)&&("touchstart"===e.eventName&&this._handleTouchstart(t,e),"touchmove"===e.eventName&&this._handleTouchmove(t,e),"touchend"===e.eventName&&this._handleTouchend(t,e))}_handleTouchstart(t,e){if(!Nr(t,this.section()))return;const n=this._spatialIndex.queryMouseCoordinates(t);for(let o=0;o<n.length;o++){const i=n[o],r=Hr(i);this._currentHits[r]=i,this._fireCallback(i,t,e,"start")}}_handleTouchmove(t,e){if(Nr(t,this.section()))for(const n in this._currentHits){const o=this._currentHits[n];this._fireCallback(o,t,e,"drag")}}_handleTouchend(t,e){for(const n in this._currentHits){const o=this._currentHits[n];this._fireCallback(o,t,e,"end")}this._currentHits={}}_fireCallback(t,e,n,o){const i=Er(e,this.interactionManager());if(Yr(t)){const r=_r("touchdrag",{screenCoordinates:e,localCoordinates:i,dragType:o},t,n);this._markCallbacks[t.data.id](r)}if(Wr(t)){const r=wr("touchdrag",{screenCoordinates:e,localCoordinates:i,dragType:o},t,n);this._layerCallbacks[t.data.id](r)}}}});function qr(t,e){return t.every((t=>Nr(t,e)))}function Vr(t){const[e,n]=t;return Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2)}var Kr=Object.freeze({__proto__:null,TouchdownHandler:class extends Br{constructor(t){super(t,{interactionName:"touchdown",eventName:"touchstart"})}_handleEvent(t,e){if(1!==Gr(t))return;const n=this.interactionManager();if(Nr(t,this.section())){const o=Sr("touchdown",{screenCoordinates:t,localCoordinates:Er(t,n)},e);this._callback(o)}}},TouchmoveHandler:class extends Br{constructor(t){super(t,{interactionName:"touchmove",eventName:"touchmove"})}_handleEvent(t,e){if(1!==Gr(t))return;const n=this.interactionManager();if(Nr(t,this.section())){const o=Sr("touchmove",{screenCoordinates:t,localCoordinates:Er(t,n)},e);this._callback(o)}}},TouchupHandler:class extends Br{constructor(t){super(t,{interactionName:"touchup",eventName:["touchend","touchcancel"]})}_handleEvent(t,e){if(1!==Gr(t))return;const n=this.interactionManager();if(Nr(t,this.section())){const o=Sr("touchup",{screenCoordinates:t,localCoordinates:Er(t,n)},e);this._callback(o)}}},TouchoverHandler:class extends Br{constructor(t){super(t,{interactionName:"touchover",eventName:["touchstart","touchmove"]}),this._fingerCurrentlyOverSection=!1}_handleEvent(t,e){1===Gr(t)&&("touchstart"===e.eventName&&this._handleTouchstart(t,e),"touchmove"===e.eventName&&this._handleTouchmove(t,e))}_handleTouchstart(t,e){Nr(t,this.section())&&(this._fingerCurrentlyOverSection=!0)}_handleTouchmove(t,e){const n=this.interactionManager();if(Nr(t,this.section())){if(!this._fingerCurrentlyOverSection){const o=Sr("touchover",{screenCoordinates:t,localCoordinates:Er(t,n)},e);this._callback(o),this._fingerCurrentlyOverSection=!0}}else this._fingerCurrentlyOverSection&&(this._fingerCurrentlyOverSection=!1)}},TouchoutHandler:class extends Br{constructor(t){super(t,{interactionName:"touchout",eventName:["touchstart","touchmove","touchend"]}),this._fingerCurrentlyOverSection=!1}_handleEvent(t,e){1===Gr(t)&&("touchstart"===e.eventName&&this._handleTouchstart(t,e),"touchmove"===e.eventName&&this._handleTouchmove(t,e),"touchend"===e.eventName&&this._handleTouchend())}_handleTouchstart(t,e){Nr(t,this.section())&&(this._fingerCurrentlyOverSection=!0)}_handleTouchmove(t,e){const n=this.interactionManager();if(Nr(t,this.section()))this._fingerCurrentlyOverSection||(this._fingerCurrentlyOverSection=!0);else if(this._fingerCurrentlyOverSection){const o=Sr("touchout",{screenCoordinates:t,localCoordinates:Er(t,n)},e);this._callback(o),this._fingerCurrentlyOverSection=!1}}_handleTouchend(){this._fingerCurrentlyOverSection=!1}},PinchHandler:class extends Br{constructor(t){super(t,{interactionName:"pinch",eventName:["touchstart","touchmove","touchend"]}),this._previousTouchDistance=void 0}_handleEvent(t,e){"touchstart"===e.type&&this._handleTouchstart(t,e),"touchmove"===e.type&&this._handleTouchmove(t,e),"touchend"===e.type&&this._handleTouchend(t,e)}_handleTouchstart(t,e){if(2!==Gr(t))return;qr(t,this.section())&&(this._previousTouchDistance=Vr(t))}_handleTouchmove(t,e){if(2!==Gr(t))return;if(void 0===this._previousTouchDistance)return;const n=this.section();if(qr(t,n)){const o=n.maxY-n.minY,i=function(t){const[e,n]=t;return{x:(n.x+e.x)/2,y:(n.y+e.y)/2}}(t),r=Vr(t),s=(this._previousTouchDistance-r)/o;this._previousTouchDistance=r,this._fireCallback(t,e,s,i)}}_handleTouchend(t,e){this._previousTouchDistance=void 0}_fireCallback(t,e,n,o){const i=Sr("pinch",{screenCenter:o,localCenter:Er(o,this.interactionManager()),screenCoordinates:t,localCoordinates:t.map((t=>Er(t,this.interactionManager()))),delta:n},e);this._callback(i)}}});class Ur extends Bi{constructor(){super(),this._markInteractionInterface=new Mr(this,Jr),this._sectionInteractionInterface=new xr(this,Kr)}}function Zr(t){for(let e=0;e<t.call.length;e++)if("arc"===t.call[e])return[t.args[e][0],t.args[e][1]]}function Qr([t,e]){return{minX:t,maxX:t,minY:e,maxY:e}}function ts(t,e,n,o,i,r){const s=[];for(let a=1;a<=5;a++){const c=nr(t,n,i,.2*a),u=nr(e,o,r,.2*a);s.push([c,u])}return s}function es(t,e,n,o,i,r,s,a){const c=[];for(let u=1;u<=10;u++){const l=or(t,n,i,s,.2*u),h=or(e,o,r,a,.2*u);c.push([l,h])}return c}function ns(t,e,n,o,i,r,s,a){const c=[];if(r<s){const i=(s-r)/8;if(!a)for(let s=1;s<=8;s++)c.push([Math.cos(r+i*s)*n+t,Math.sin(r+i*s)*o+e]);if(a)for(let s=7;s>=0;s--)c.push([Math.cos(r+i*s)*n+t,Math.sin(r+i*s)*o+e])}if(r>s){const i=(os-s)/8,u=r/8;if(!a){for(let r=1;r<=8;r++)c.push([Math.cos(s+i*r)*n+t,Math.sin(s+i*r)*o+e]);for(let i=1;i<=8;i++)c.push([Math.cos(u*i)*n+t,Math.sin(u*i)*o+e])}if(a){for(let i=7;i>=0;i--)c.push([Math.cos(u*i)*n+t,Math.sin(u*i)*o+e]);for(let r=7;r>=0;r--)c.push([Math.cos(s+i*r)*n+t,Math.sin(s+i*r)*o+e])}}return c}const os=2*Math.PI;function is(t){return rs(t.positioning)}function rs(t){return function(t){if(1===t.length)return t[0].centroid;let e=0,n=0,o=0;for(let i=0;i<t.length;i++){const{centroid:r,area:s}=t[i];e+=r[0]*s,n+=r[1]*s,o+=s}return[e/o,n/o]}(function(t){const e=[],n=t.submarks.length?t.submarks:[0];for(let o=0;o<n.length;o++){const i=n[o],r=n[o+1]||t.call.length;e.push(as(t,i,r))}return e}(t).map(cs))}function ss(t){return t.positioning.map(rs)}function as(t,e,n){let o,i,r=[],s=0;for(let a=e;a<n;a++){const e=t.call[a],n=t.args[a];switch(e){case"moveTo":if(s++,2===s)return r;o=n[0],i=n[1],r.push([o,i]);break;case"lineTo":o=n[0],i=n[1],r.push([o,i]);break;case"quadraticCurveTo":r=r.concat(ts(o,i,...n)),o=n[2],i=n[3];break;case"bezierCurveTo":r=r.concat(es(o,i,...n)),o=n[4],i=n[5];break;case"ellipse":r=r.concat(ns.apply(null,n));const t=ar.apply(null,n);o=t[0],i=t[1];break;case"closePath":r.push(r[0])}}return r}function cs(t){const e=t.length-1;t[0][0]===t[e][0]&&t[0][1]===t[e][1]||t.push(t[0]);const n=t.length,o=t[0];let i,r,s,a=0,c=0,u=0;for(let e=0,l=n-1;e<n;l=e++)i=t[e],r=t[l],s=(i[0]-o[0])*(r[1]-o[1])-(r[0]-o[0])*(i[1]-o[1]),a+=s,c+=(i[0]+r[0]-2*o[0])*s,u+=(i[1]+r[1]-2*o[1])*s;return s=3*a,{centroid:[c/s+o[0],u/s+o[1]],area:Math.abs(a/2)}}function us(t){const e=Qr(is(t));return Object.assign(e,{data:t}),[e]}function ls(t){const e=Qr(is(t));return Object.assign(e,{data:t}),[e]}const hs={Point:function(t){const e=Qr(function(t){return Zr(t.positioning)}(t));return Object.assign(e,{data:t}),[e]},Rectangle:function(t){const e=Qr(is(t));return Object.assign(e,{data:t}),[e]},Polygon:us,Line:ls,Label:function(t){const e=Qr(cs(fr(t)[0].rotatedBbox).centroid);return Object.assign(e,{data:t}),[e]},Area:function(t){const e=Qr(is(t));return Object.assign(e,{data:t}),[e]},Symbol:us,FuncLine:ls},ds={Point:function(t){const e=function(t){const e=[];for(let n=0;n<t.positioning.length;n++)e.push(Zr(t.positioning[n]));return e}(t).map(Qr);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e},Rectangle:function(t){const e=ss(t).map(Qr);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e},Polygon:function(t){const e=ss(t).map(Qr);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e},Line:function(t){const e=ss(t).map(Qr);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e},Label:function(t){const e=pr(t).map((t=>cs(t.rotatedBbox).centroid)).map(Qr);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e},Area:function(t){const e=ss(t).map(Qr);return t.props.keys?tr(e,{data:t},t.props.keys):Qi(e,{data:t}),e},Symbol:us};class fs{constructor(){this._selectableMarks={},this._selectableLayers={},this._markCallbacks={},this._layerCallbacks={},this._previousSelection={},this._currentSelection={};this._spatialIndex=new ci(this,(function(t){return this._selectableMarks[t]}),(function(t){return this._selectableLayers[t]})),this._selectPolygon={start:void 0,points:[]}}loadMark(t,e){const n=(0,hs[t.type])(t),o=t.id;this._selectableMarks[o]=n,this._markCallbacks[o]=e,this._spatialIndex.indexMark(o)}markIsLoaded({id:t}){return t in this._selectableMarks}removeMark({id:t}){this._spatialIndex.unindexMark(t),delete this._selectableMarks[t],delete this._markCallbacks[t]}loadLayer(t,e){const n=(0,ds[t.type])(t),o=t.id;this._selectableLayers[o]=n,this._layerCallbacks[o]=e,this._spatialIndex.indexLayer(o)}layerIsLoaded({id:t}){return t in this._selectableLayers}removeLayer({id:t}){this._spatialIndex.unindexLayer(t),delete this._selectableLayers[t],delete this._layerCallbacks[t]}selectRectangle(t){const e=this._spatialIndex.queryBoundingBox(ps(t));for(let t=0;t<e.length;t++){const n=e[t],o=Hr(n);this._currentSelection[o]=n,this._fireSelectCallback(n)}}updateSelectRectangle(t){this._previousSelection=this._currentSelection,this._currentSelection={};const e=this._spatialIndex.queryBoundingBox(ps(t));for(let t=0;t<e.length;t++){const n=e[t],o=Hr(n);this._currentSelection[o]=n,o in this._previousSelection||this._fireSelectCallback(n)}for(const t in this._previousSelection)if(!(t in this._currentSelection)){const e=this._previousSelection[t];this._fireDeselectCallback(e)}}resetSelectRectangle(){for(const t in this._currentSelection){const e=this._currentSelection[t];this._fireDeselectCallback(e)}this._previousSelection={},this._currentSelection={}}startSelectPolygon(t){this._selectPolygon.start=gs(t)}addPointToSelectPolygon(t){if(this._selectPolygon.points.push(gs(t)),this._selectPolygon.points.length>1){const t=this._getLastThreePointsPolygon(),e=ms(t),n=this._spatialIndex.queryBoundingBox(e);for(let e=0;e<n.length;e++){const o=n[e];if(ti([o.minX,o.minY],t)){const t=Hr(o);t in this._currentSelection?(this._fireDeselectCallback(o),delete this._currentSelection[t]):(this._fireSelectCallback(o),this._currentSelection[t]=o)}}}}moveSelectPolygon(t){this._previousSelection=this._currentSelection,this._currentSelection={};const e=gs(t),n=this._selectPolygon.start,o=this._selectPolygon.points;this._selectPolygon.start=[n[0]+e[0],n[1]+e[1]],this._selectPolygon.points=o.map((t=>[t[0]+e[0],t[1]+e[1]]));const i=this.getSelectPolygon(),r=ms(i.coordinates[0]),s=this._spatialIndex.queryBoundingBox(r);for(let t=0;t<s.length;t++){const e=s[t];if(ti([e.minX,e.minY],i.coordinates[0])){const t=Hr(e);this._currentSelection[t]=e,t in this._previousSelection||this._fireSelectCallback(e)}}for(const t in this._previousSelection)if(!(t in this._currentSelection)){const e=this._previousSelection[t];this._fireDeselectCallback(e)}}getSelectPolygon(){if(this._selectPolygon.start)return{type:"Polygon",coordinates:[[this._selectPolygon.start,...this._selectPolygon.points,this._selectPolygon.start]]}}resetSelectPolygon(){for(const t in this._currentSelection){const e=this._currentSelection[t];this._fireDeselectCallback(e)}this._selectPolygon={start:void 0,points:[]},this._currentSelection={}}_fireSelectCallback(t){if(Yr(t)){const e=Lr("select",t),n=this._markCallbacks[t.data.id].onSelect;n&&n(e)}if(Wr(t)){const e=Pr("select",t),n=this._layerCallbacks[t.data.id].onSelect;n&&n(e)}}_fireDeselectCallback(t){if(Yr(t)){const e=Lr("deselect",t),n=this._markCallbacks[t.data.id].onDeselect;n&&n(e)}if(Wr(t)){const e=Pr("deselect",t),n=this._layerCallbacks[t.data.id].onDeselect;n&&n(e)}}_getLastThreePointsPolygon(){const t=this._selectPolygon.points,e=t.length-1,n=this._selectPolygon.start;return[n,t[e-1],t[e],n]}}function ps(t){return{minX:Math.min(t.x1,t.x2),maxX:Math.max(t.x1,t.x2),minY:Math.min(t.y1,t.y2),maxY:Math.max(t.y1,t.y2)}}function gs(t){if(function(t){return t.constructor===Array&&2===t.length&&t.every((t=>t&&t.constructor===Number))}(t))return t;if(function(t){return"x"in t&&"y"in t&&t.x.constructor===Number&&t.y.constructor===Number}(t))return[t.x,t.y];throw new Error(`Invalid input: ${t}`)}function ms(t){const e={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};for(let n=0;n<t.length;n++){const[o,i]=t[n];cr(e,o,i)}return e}class ys{constructor(){"mouse"===Si&&(this._mouseInteractionManager=new jr),"touch"===Si&&(this._touchInteractionManager=new Ur),this._selectManager=new fs}setId(t){this._forEachManager((e=>{e.setId(t)}))}linkEventManager(t){this._mouseInteractionManager&&this._mouseInteractionManager.linkEventManager(t.mouse()),this._touchInteractionManager&&this._touchInteractionManager.linkEventManager(t.touch())}loadSection(t){this._forEachManager((e=>{e.loadSection(t)}))}mouse(){return this._mouseInteractionManager}touch(){return this._touchInteractionManager}select(){return this._selectManager}getPrimaryInput(){return Si}_forEachManager(t){this._mouseInteractionManager&&t(this._mouseInteractionManager),this._touchInteractionManager&&t(this._touchInteractionManager)}}function ks(t){return t.x?"x":"y"}function vs(t,e){e.point(t.x,t.y)}function Ms(t,e){Cs(t.x.length,(n=>{e.point(t.x[n],t.y[n]),e.markEnd()}))}function xs(t,e,n,o=0){n.lineStart(),ws(t,e,n,o),n.lineEnd()}function bs(t,e,n){const o=function(t,e){const n=t.length-1;return t[0]===t[n]&&e[0]===e[n]}(t,e)?1:0;n.polygonStart(),xs(t,e,n,o),n.polygonEnd()}function $s(t,e,n,o,i){i.polygonStart(),i.lineStart(),i.point(t,n),i.point(e,n),i.point(e,o),i.point(t,o),i.lineEnd(),i.polygonEnd()}function Ts(t,e,n,o){o.areaStart(),o.lineStart(),ws(t,n,o),o.lineEnd(),o.lineStart(),Ss(t,e,o),o.lineEnd(),o.areaEnd()}function _s(t,e,n,o){o.areaStart(),o.lineStart(),ws(e,n,o),o.lineEnd(),o.lineStart(),Ss(t,n,o),o.lineEnd(),o.areaEnd()}function ws(t,e,n,o=0){let i=-1;const r=t.length-o;for(;++i<r;)n.point(t[i],e[i])}function Ss(t,e,n){let o=t.length;for(;--o>-1;)n.point(t[o],e[o])}function Cs(t,e){for(let n=0;n<t;n++)e(n)}function Os(t){const{x:e,y:n}=t;return t=>new As(t,e,n)}class As extends Wo{constructor(t,e,n){super(t),this.scaleX=e,this.scaleY=n}point(t,e){this.stream.point(this.scaleX(t),this.scaleY(e))}moveTo(t,e){this.stream.moveTo(this.scaleX(t),this.scaleY(e))}lineTo(t,e){this.stream.lineTo(this.scaleX(t),this.scaleY(e))}quadraticCurveTo(t,e,n,o){this.stream.quadraticCurveTo(this.scaleX(t),this.scaleY(e),this.scaleX(n),this.scaleY(o))}bezierCurveTo(t,e,n,o,i,r){this.stream.bezierCurveTo(this.scaleX(t),this.scaleY(e),this.scaleX(n),this.scaleY(o),this.scaleX(i),this.scaleY(r))}arc(t,e,n,o,i,r){this.stream.arc(this.scaleX(t),this.scaleY(e),n,o,i,r)}arcTo(t,e,n,o,i){this.stream.arcTo(this.scaleX(t),this.scaleY(e),this.scaleX(n),this.scaleY(o),i)}ellipse(t,e,n,o,i,r,s,a){this.stream.ellipse(this.scaleX(t),this.scaleY(e),n,o,i,r,s,a)}translate(t,e){this.stream.translate(this.scaleX(t),this.scaleY(e))}}function Ls(t=0){const e=function(t){const e=Math.pow(10,t);return t=>Math.round(t*e)/e}(t);return Os({x:e,y:e})}function Ps(t){const{x:e,y:n}=t;return t=>new Es(t,e,n)}class Es extends Wo{constructor(t,e,n){super(t),this.transformX=e,this.transformY=n}point(t,e){this.stream.point(this.transformX(t,e),this.transformY(t,e))}moveTo(t,e){this.stream.moveTo(this.transformX(t,e),this.transformY(t,e))}lineTo(t,e){this.stream.lineTo(this.transformX(t,e),this.transformY(t,e))}quadraticCurveTo(t,e,n,o){this.stream.quadraticCurveTo(this.transformX(t,e),this.transformY(t,e),this.transformX(n,o),this.transformY(n,o))}bezierCurveTo(t,e,n,o,i,r){this.stream.bezierCurveTo(this.transformX(t,e),this.transformY(t,e),this.transformX(n,o),this.transformY(n,o),this.transformX(i,r),this.transformY(i,r))}arc(t,e,n,o,i,r){this.stream.arc(this.transformX(t,e),this.transformY(t,e),n,o,i,r)}arcTo(t,e,n,o,i){this.stream.arcTo(this.transformX(t,e),this.transformY(t,e),this.transformX(n,o),this.transformY(n,o),i)}ellipse(t,e,n,o,i,r,s,a){this.stream.ellipse(this.transformX(t,e),this.transformY(t,e),n,o,i,r,s,a)}translate(t,e){this.stream.translate(this.transformX(t,e),this.transformY(t,e))}}function Is(t,e,n,o,i){return Yo(Os(n),e.coordinateSystem?Ps(e.coordinateSystem):null,t.curve,i.round?Ls(i.decimals):null,o)}const Xs={round:!0,decimals:0};function Rs(t){const e=t||{};for(const t in Xs)t in e||(e[t]=Xs[t]);return e}function Ns(t){return t.constructor===Function}function Ys(t,e){return Ws(t)?t:e}function Ws(t){return void 0!==t}function Hs(t,e){return Array(e).fill(t)}function Ds(t){return t.geometry?"geojson":"florence"}function Bs(t,e){let{parsedProps:n,scales:o}=Fs(t,e);return n=Gs(t,n),{props:n,scales:o}}function Fs(t,e){const n=Ds(t);if("florence"===n){const n=Ns(t.x),o=Ns(t.y);return{parsedProps:{x:n?t.x(e):t.x,y:o?t.y(e):t.y},scales:{x:n?e.indirectScales.x:e.directScales.x,y:o?e.indirectScales.y:e.directScales.y}}}if("geojson"===n){const n=Ns(t.geometry);return{parsedProps:{geometry:n?t.geometry(e):t.geometry},scales:n?e.indirectScales:e.directScales}}}const zs=Gs,js=Gs;function Gs(t,e){return(e=e??{}).radius=Ys(t.radius,3),Ks(t,e)}function Js(t,e){let{parsedProps:n,scales:o}=Fs(t,e);return n=Ks(t,n),{props:n,scales:o}}const qs=Ks,Vs=Ks;function Ks(t,e){return(e=e??{}).fill=Ys(t.fill,"black"),e.stroke=Ys(t.stroke,"none"),"none"!==e.stroke&&(e.strokeWidth=Ys(t.strokeWidth,1)),Us.forEach((n=>{t[n]&&(e[n]=t[n])})),e}const Us=["opacity","fillOpacity","strokeOpacity","lineJoin","miterLimit","dashArray","dashOffset","keys","clip","asOnePath"];function Zs(t,e){return ca(t,function(t,e){const n={},o=ks(t);"x"===o&&(n.x=na(t.x,e),n.y1=oa(t.y1,e),n.y2=oa(t.y2,e));"y"===o&&(n.y=oa(t.y,e),n.x1=na(t.x1,e),n.x2=na(t.x2,e));return n}(t,e))}function Qs(t,e){return ca(t,function(t,e){const n={},o=ks(t);"x"===o&&(n.x=ra(t.x,e),n.y1=sa(t.y1,e),n.y2=sa(t.y2,e));"y"===o&&(n.y=sa(t.y,e),n.x1=ra(t.x1,e),n.x2=ra(t.x2,e));return n}(t,e))}const ta=ca,ea=ca,na=ia("scaleX"),oa=ia("scaleY");function ia(t){return function(e,n){return Ns(e)?e(n):e.map(n[t])}}const ra=aa("scaleX"),sa=aa("scaleY");function aa(t){return function(e,n){return Ns(e)?e(n):function(t,e){const n=[];for(let o=0;o<t.length;o++){n.push([]);for(let i=0;i<t[o].length;i++)n[o].push(e(t[o][i]))}return n}(e,n[t])}}function ca(t,e){return(e=e??{}).curve=Ys(t.curve,en),Ks(t,e)}function ua(t,e){const n=t in la?la[t]:t,o=new eo(n);return o.setA(e),o.RGBA}const la={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ha(t){if("none"===t.fill)return;const e=ga(t.opacity)?t.opacity:1,n=ga(t.fillOpacity)?t.fillOpacity:1;return ua(t.fill,e*n)}function da(t){if("none"===t.stroke)return;const e=ga(t.opacity)?t.opacity:1,n=ga(t.strokeOpacity)?t.strokeOpacity:1;return ua(t.stroke,e*n)}function fa(t){return"normal"===t.fontWeight?`${t.fontSize}px ${t.fontFamily}`:`${t.fontWeight} ${t.fontSize}px ${t.fontFamily}`}function pa({anchorPoint:t}){switch(t){case"center":return{textAlign:"center",textBaseline:"middle"};case"lb":return{textAlign:"start",textBaseline:"alphabetic"};case"lt":return{textAlign:"start",textBaseline:"hanging"};case"rt":return{textAlign:"end",textBaseline:"hanging"};case"rb":return{textAlign:"end",textBaseline:"alphabetic"};case"l":return{textAlign:"start",textBaseline:"middle"};case"r":return{textAlign:"end",textBaseline:"middle"};case"b":return{textAlign:"center",textBaseline:"alphabetic"};case"t":return{textAlign:"center",textBaseline:"hanging"};default:return{textAlign:"center",textBaseline:"middle"}}}const ga=t=>void 0!==t,ma={apply:va},ya={create(t){const e=t.keys,n=Zo(t,ka,e);return function(t,e){va(t,n(e))}},asOnePath:t=>t.asOnePath&&Qo(t,ka)},ka=["stroke","strokeOpacity","strokeWidth","fill","fillOpacity","opacity","lineJoin","miterLimit","dashArray","dashOffset"];function va(t,e){e.lineJoin&&(t.lineJoin=e.lineJoin,"miter"===e.lineJoin&&void 0!==e.miterLimit&&(t.miterLimit=e.miterLimit)),e.dashArray&&(t.setLineDash(e.dashArray.split(" ").map((t=>parseInt(t)))),e.dashOffset&&(t.lineDashOffset=e.dashOffset));const n=da(e),o=ha(e);o&&(t.fillStyle=o,t.fill()),n&&(t.lineWidth=e.strokeWidth,t.strokeStyle=n,t.stroke())}function Ma(t,e,n){const o=Zs(t,e),i=function(t,e,n){const o=lo(),i=Is(t,e,e.indirectScales,o,n);return function(t,e){const n=ks(t);"x"===n&&Ts(t.x,t.y1,t.y2,e),"y"===n&&_s(t.x1,t.x2,t.y,e)}(t,i),o.result()}(o,e,n=Rs(n));return new ai(i,o,e,ma,"Area")}function xa(t,e,n){const o=Qs(t,e),i=function(t,e,n){const o=ho(),i=Is(t,e,e.indirectScales,o,n);return function(t,e){const n=ks(t);"x"===n&&Cs(t.x.length,(n=>{Ts(t.x[n],t.y1[n],t.y2[n],e),e.markEnd()})),"y"===n&&Cs(t.y.length,(n=>{_s(t.x1[n],t.x2[n],t.y[n],e),e.markEnd()}))}(t,i),o.result()}(o,e,n=Rs(n));return new Rr(i,o,e,ya,"Area")}function ba(t,e,n){Ta[t.type](t.coordinates,e,n)}function $a(t,e){let n=-1;for(;++n<t.length;){const o=t[n];Ta[o.type](o.coordinates,e,n),e.markEnd()}}const Ta={Point(t,e,n){e.point(t[0],t[1])},LineString(t,e,n){_a(t,e)},Polygon(t,e,n){wa(t,e)},MultiLineString(t,e,n){let o=-1;for(;++o<t.length;)e.submarkStart(),_a(t[o],e)},MultiPolygon(t,e,n){let o=-1;for(;++o<t.length;)e.submarkStart(),wa(t[o],e)}};function _a(t,e,n=0){e.lineStart(),function(t,e,n=0){let o=-1;const i=t.length-n;for(;++o<i;)e.point(t[o][0],t[o][1])}(t,e,n),e.lineEnd()}function wa(t,e){let n=-1;for(e.polygonStart();++n<t.length;)_a(t[n],e,1);e.polygonEnd()}function Sa(t,e,n,o,i){return Yo(Os(n),e.coordinateSystem?Ps(e.coordinateSystem):null,i.round?Ls(i.decimals):null,Ca,o)}function Ca(t){return new Oa(t)}function Oa(t){this._context=t}function Aa(t,e,n,o,i){return Yo(Os(n),e.coordinateSystem?La(e.coordinateSystem):null,i.round?Ls(i.decimals):null,e.coordinateSystem?null:Ca,o)}function La(t){return e=>new Pa(t,e)}Oa.prototype={polygonStart(){this._line=0},polygonEnd(){this._line=NaN},lineStart(){this._point=0},lineEnd(){0===this._line&&this._context.closePath(),this._point=NaN},point(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;default:this._context.lineTo(t,e)}}};class Pa{constructor(t,e){this._coordinateSystem=t,this._context=e,this._overallDirectionIsClockwise=function({flipX:t,flipY:e}){return!e&&!t||!(e&&!t)&&!(!e&&t)}(t)}polygonStart(){this._line=0,this._arc=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&this._context.closePath(),this._point=NaN}point(t,e){const n=this._coordinateSystem.x(t,e),o=this._coordinateSystem.y(t,e),i=function(t,{flipX:e,flipY:n}){return n||e?n&&!e?Ea-t:!n&&e?Math.PI-t:Math.PI+t:t}(t,this._coordinateSystem);switch(this._point){case 0:this._context.moveTo(n,o),this._point=1,this._lastTheta=i;break;default:this._handlePolarSegment(n,o,i,e),this._lastTheta=i}}_handlePolarSegment(t,e,n,o){if(this._lastTheta===n)this._context.lineTo(t,e);else{const{midX:t,midY:e,halfWidth:i,halfHeight:r}=this._coordinateSystem,s=function(t,e){return 0===t&&e?0:1===t&&e?1:0!==t||e?0:1}(this._arc,this._overallDirectionIsClockwise);this._context.ellipse(t,e,i*o,r*o,0,this._lastTheta,n,s),this._arc=1}}}const Ea=2*Math.PI;function Ia(t,e,n,o,i){return Yo(Os(n),e.coordinateSystem&&!t._resampleIntervals?Ps(e.coordinateSystem):null,e.coordinateSystem&&t._resampleIntervals?La(e.coordinateSystem):t.curve,i.round?Ls(i.decimals):null,o)}function Xa(t,e){const{parsedProps:n,scales:o}=Fs(t,e);return Ya(t,n),{props:n,scales:o}}const Ra=Ya,Na=Ya;function Ya(t,e){return(e=e??{}).curve=Ys(t.curve,en),e.strokeWidth=Ys(t.strokeWidth,3),e.stroke=Ys(t.stroke,"black"),Wa.forEach((n=>{t[n]&&(e[n]=t[n])})),e}const Wa=["opacity","lineCap","lineJoin","miterLimit","dashArray","dashOffset","opacity","keys","clip","asOnePath","_resampleIntervals"],Ha={apply:Fa},Da={create(t){const e=t.keys,n=Zo(t,Ba,e);return function(t,e){Fa(t,n(e))}},asOnePath:t=>t.asOnePath&&Qo(t,Ba)},Ba=["stroke","strokeWidth","opacity","lineCap","lineJoin","miterLimit","dashArray","dashOffset"];function Fa(t,e){e.lineCap&&(t.lineCap=e.lineCap),e.lineJoin&&(t.lineJoin=e.lineJoin,"miter"===e.lineJoin&&void 0!==e.miterLimit&&(t.miterLimit=e.miterLimit)),e.dashArray&&(t.setLineDash(e.dashArray.split(" ").map((t=>parseInt(t)))),e.dashOffset&&(t.lineDashOffset=e.dashOffset));const n=da(e);t.lineWidth=e.strokeWidth,t.strokeStyle=n,t.fillStyle="none",t.stroke()}function za(t,e,n){const{props:o,scales:i}=Xa(t,e),r=function(t,e,n,o){const i=Ds(t),r=lo(),s=Ia(t,e,n,r,o);"florence"===i&&function(t,e){xs(t.x,t.y,e)}(t,s);"geojson"===i&&ba(t.geometry,s);return r.result()}(o,e,i,n=Rs(n));return new ai(r,o,e,Ha,"Line")}function ja(t,e){return Ya(t,function(t,e){return{func:t.func,x:Ys(t.x,Ja(e)),resolution:Ys(t.resolution,3)}}(t,e))}const Ga=Ya;function Ja({scaleX:t,rangeX:e}){return t&&t.constructor===Function&&t.domain?t.domain():e}function qa(t,e,n){const o=ja(t,e),i=za(function(t,e){const n=Object.assign(t,{});for(const t in e)Va.has(t)||(n[t]=e[t]);return n.curve=en,n}(function(t,e){const n=e.ranges.rangeX,o=Math.abs(n[0]-n[1])/t.resolution;return function(t,e,n){const o={x:[],y:[]},i=(e[1]-e[0])/n;for(let r=0;r<=n;r++){const n=e[0]+i*r,s=t(n);o.x.push(n),o.y.push(s)}return o}(t.func,t.x,o)}(o,e),o),e,n);return i.type="FuncLine",i}const Va=new Set(["func","x","resolution"]);function Ka(t,e,n,o,i){return Yo(Os(n),e.coordinateSystem?Ps(e.coordinateSystem):null,i.round?Ls(i.decimals):null,function(t){const e=t.keys,n=Uo(t.rotate,e);let o=0;return function(t){return{point(e,i){const r=n(o);t.translate(e,i),r&&t.rotate(r),o++}}}}(t),o)}function Ua(t,e){let{parsedProps:n,scales:o}=Fs(t,e);return n=tc(t,n),{props:n,scales:o}}const Za=tc,Qa=tc;function tc(t,e){return(e=e??{}).text=Ys(t.text,"Text"),t.rotate&&(e.rotate=t.rotate),e.anchorPoint=Ys(t.anchorPoint,"center"),e.fontSize=Ys(t.fontSize,16),e.fontFamily=Ys(t.fontFamily,"Helvetica"),e.fontWeight=Ys(t.fontWeight,"normal"),Ks(t,e)}const ec={apply(t,e){const n=fa(e),o=pa(e),i=da(e);ic(t,n,o,ha(e),e.text,i,e.strokeWidth)}},nc={create(t){const e=t.keys,n=Zo(t,oc,e),o=Uo(t.text,e);return function(t,e){const i=o(e),r=n(e),s=fa(r),a=pa(r),c=da(r);ic(t,s,a,ha(r),i,c,r.strokeWidth)}},asOnePath:()=>!1},oc=["fontWeight","fontSize","fontFamily","stroke","strokeOpacity","strokeWidth","fill","fillOpacity","opacity","anchorPoint"];function ic(t,e,n,o,i,r,s){t.font=e,t.textBaseline=n.textBaseline,t.textAlign=n.textAlign,o&&(t.fillStyle=o,t.fillText(i,0,0)),r&&(t.lineWidth=s,t.strokeStyle=r,t.strokeText(i,0,0)),t.setTransform(1,0,0,1,0,0)}function rc(t,e,n){const{props:o,scales:i}=Ua(t,e),r=function(t,e,n,o){const i=Ds(t),r=new co,s=function(t,e,n,o,i){return Yo(Os(n),e.coordinateSystem?Ps(e.coordinateSystem):null,i.round?Ls(i.decimals):null,function(t){return function(e){return{point(n,o){e.translate(n,o),t.rotate&&e.rotate(t.rotate)}}}}(t),o)}(t,e,n,r,o);"florence"===i&&vs(t,s);"geojson"===i&&ba(t.geometry,s);return r.result()}(o,e,i,n=Rs(n));return new ai(r,o,e,ec,"Label")}function sc(t,e,n){const{props:o,scales:i}=Ua(t,e),r=function(t,e,n,o){const i=Ds(t),r=new uo,s=Ka(t,e,n,r,o);"florence"===i&&Ms(t,s);"geojson"===i&&$a(t.geometry,s);return r.result()}(o,e,i,n=Rs(n));return new Rr(r,o,e,nc,"Label")}function ac(t,e,n){const{props:o,scales:i}=Xa(t,e),r=function(t,e,n,o){const i=Ds(t),r=ho(),s=Ia(t,e,n,r,o);"florence"===i&&function(t,e){Cs(t.x.length,(n=>{xs(t.x[n],t.y[n],e),e.markEnd()}))}(t,s);"geojson"===i&&$a(t.geometry,s);return r.result()}(o,e,i,n=Rs(n));return new Rr(r,o,e,Da,"Line")}function cc(t,e,n,o,i){return Yo(Os(n),e.coordinateSystem?Ps(e.coordinateSystem):null,i.round?Ls(i.decimals):null,function(t){return function(e){return{point(n,o){e.arc(n,o,t.radius,0,lc)}}}}(t),o)}function uc(t,e,n,o,i){return Yo(Os(n),e.coordinateSystem?Ps(e.coordinateSystem):null,Ls(i.decimals),function(t){const e=t.keys,n=Uo(t.radius,e);let o=0;return function(t){return{point(e,i){const r=n(o);t.moveTo(e+r,i),t.arc(e,i,r,0,lc),o++}}}}(t),o)}const lc=2*Math.PI;function hc(t,e,n,o){const{props:i,scales:r}=Bs(t,e),s=function(t,e,n,o){const i=lo();return dc(t,e,n,i,o),i.result()}(i,e,r,o=Rs(o));return new ai(s,i,e,ma,"Point")}function dc(t,e,n,o,i){const r=Ds(t),s=cc(t,e,n,o,i);"florence"===r&&vs(t,s),"geojson"===r&&ba(t.geometry,s)}function fc(t,e,n){const{props:o,scales:i}=Bs(t,e),r=function(t,e,n,o){const i=ho();return pc(t,e,n,i,o),i.result()}(o,e,i,n=Rs(n));return new Rr(r,o,e,ya,"Point")}function pc(t,e,n,o,i){const r=Ds(t),s=uc(t,e,n,o,i);"florence"===r&&Ms(t,s),"geojson"===r&&$a(t.geometry,s)}function gc(t,e,n){const{props:o,scales:i}=Js(t,e),r=function(t,e,n,o){const i=lo();return function(t,e,n,o,i){const r=Ds(t),s=Sa(0,e,n,o,i);"florence"===r&&function(t,e){bs(t.x,t.y,e)}(t,s);"geojson"===r&&ba(t.geometry,s)}(t,e,n,i,o),i.result()}(o,e,i,n=Rs(n));return new ai(r,o,e,ma,"Polygon")}function mc(t,e,n,o){const{props:i,scales:r}=Js(t,e),s=function(t,e,n,o){const i=Ds(t),r=ho(),s=Sa(0,e,n,r,o);"florence"===i&&function(t,e){Cs(t.x.length,(n=>{bs(t.x[n],t.y[n],e),e.markEnd()}))}(t,s);"geojson"===i&&$a(t.geometry,s);return r.result()}(i,e,r,o=Rs(o));return new Rr(s,i,e,ya,"Polygon")}const yc=bc(vc),kc=bc((function(t,e){const n=function(t){for(const e of Oc){const n=t[e];if(n&&n.constructor===Array)return n.length}}(t),{x1:o,x2:i,y1:r,y2:s}=t,a=e.scaleX.range(),c=e.scaleY.range();return{x1:Ws(o)?wc(o,e):Hs(a[0],n),x2:Ws(i)?wc(i,e):Hs(a[1],n),y1:Ws(r)?Sc(r,e):Hs(c[0],n),y2:Ws(s)?Sc(s,e):Hs(c[1],n)}}));function vc({x1:t,x2:e,y1:n,y2:o},i){const r=i.scaleX.range(),s=i.scaleY.range();return{x1:Ws(t)?$c(t,i):r[0],x2:Ws(e)?$c(e,i):r[1],y1:Ws(n)?Tc(n,i):s[0],y2:Ws(o)?Tc(o,i):s[1]}}const Mc=Ks,xc=Ks;function bc(t){return function(e,n){const o=t(e,n);return Ks(e,o),o}}const $c=_c("scaleX"),Tc=_c("scaleY");function _c(t){return function(e,n){return Ns(e)?e(n):n[t](e)}}const wc=Cc("scaleX"),Sc=Cc("scaleY");function Cc(t){return function(e,n){return Ns(e)?e(n):e.map(n[t])}}const Oc=["x1","x2","y1","y2","key"];function Ac(t,e,n){const o=yc(t,e),i=function(t,e,n){const o=lo(),i=Aa(0,e,e.indirectScales,o,n);return function(t,e){$s(t.x1,t.x2,t.y1,t.y2,e)}(t,i),o.result()}(o,e,n=Rs(n));return new ai(i,o,e,ma,"Rectangle")}function Lc(t,e,n){const o=kc(t,e),i=function(t,e,n){const o=ho(),i=Aa(0,e,e.indirectScales,o,n);return function(t,e){Cs(t.x1.length,(n=>{$s(t.x1[n],t.x2[n],t.y1[n],t.y2[n],e),e.markEnd()}))}(t,i),o.result()}(o,e,n=Rs(n));return new Rr(i,o,e,ya,"Rectangle")}function Pc(t,e){const n=function(t,e){return{x:t.x,y:t.y}}(t);return Xc(t,n),n}const Ec=Xc,Ic=Xc;function Xc(t,e){return(e=e??{}).shape=Ys(t.shape,"circle"),e.radius=Ys(t.radius,3),Ks(t,e)}function Rc({scaleX:t,scaleY:e},{rangeX:n,rangeY:o},{addInvert:i}={}){return{x:Nc(t,n,i),y:Nc(e,o,i)}}function Nc(t,e,n){if(t.constructor===Array)return Ie().domain(t).range(e);const o=t.copy().range(e);return n&&(o.invert=function(t){if(t.invert)return t.invert;return function(e){const[n,o]=t.range(),i=Math.min(n,o),r=Math.max(n,o),s=o<n,a=t.domain(),c=a.length-1;if(e<i+t.padding()*t.step())return a[0];if(e>r-t.padding()*t.step())return a[c];let u;return function(t){return!("paddingInner"in t)}(t)&&(u=Math.round((e-i-t.padding()*t.step())/t.step())),function(t){return"paddingInner"in t}(t)&&(u=Math.floor((e-i-t.padding()*t.step())/t.step()),u>c&&(u=c)),a[s?c-u:u]}}(o)),o}function Yc(){return function(t,e){const{ranges:n}=e,o=Wc(t,Dc),{x:i,y:r}=Rc(o,Hc),s=Rc(o,n,{addInvert:!0}),a=Rc(Dc,n);return{...e,type:"cartesian",scaleX:i,scaleY:r,directScales:s,indirectScales:a,inverseTotalTransformation:([t,e])=>[s.x.invert(t),s.y.invert(e)],bwx:i.bandwidth,bwy:r.bandwidth,px:Bc(n.rangeX),py:Bc(n.rangeY),pxAt:a.x.invert,pyAt:a.y.invert}}}function Wc(t,e){return{scaleX:t.scaleX??e.scaleX,scaleY:t.scaleY??e.scaleY}}const Hc={rangeX:[0,1],rangeY:[0,1]},Dc={scaleX:[0,1],scaleY:[0,1]};function Bc([t,e]){const n=e-t;return 0===n?()=>0:t=>t/n}function Fc(t,e){return{...function(t,e){if(!e)return{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2};const n=vc(t,e),{x:o,y:i}=e.indirectScales;return{x1:o(n.x1),x2:o(n.x2),y1:i(n.y1),y2:i(n.y2)}}(t,e),coordinates:Ys(t.coordinates,Yc()),scaleX:t.scaleX,scaleY:t.scaleY,flipX:Ys(t.flipX,!1),flipY:Ys(t.flipY,!1),padding:Ys(t.padding,0),zoomIdentity:t.zoomIdentity,clip:Ys(t.clip,"padding"),id:t.id}}function zc(t){const e=void 0===t?0:t;if(e.constructor===Number)return{left:e,right:e,top:e,bottom:e};if(e.constructor===Object)return Object.assign(zc(0),e);throw jc}const jc=new Error("Invalid padding specification");function Gc(t,e,n){return function(t,e,n){Math.abs(t[0]-t[1])<e+n&&console.warn("Padding cannot exceed width or height")}(t,e,n),t[0]<t[1]?[t[0]+e,t[1]-n]:[t[0]-n,t[1]+e]}function Jc(t,e){return e?[t[1],t[0]]:t}function qc(t,e,n){return[t[0]*e+n,t[1]*e+n]}function Vc(t){if(t<0)throw new Error("Zoom factors have to be positive")}let Kc=0;function Uc(t,e){if(e&&"cartesian"!==e.type)throw new Error("Cannot nest section inside other section with polar coordinates");const n=Fc(t,e),o=n.id?n.id:"sc"+Kc++,i=zc(n.padding),r=function(t){return Object.assign({x:0,y:0,kx:1,ky:1},t)}(n.zoomIdentity),s=function(t,e){const{flipX:n,flipY:o,zoomIdentity:i}=t;let{rangeX:r,rangeY:s}=function(t){return{rangeX:[t.x1,t.x2],rangeY:[t.y1,t.y2]}}(t);const{left:a,right:c,top:u,bottom:l}=e;return r=Jc(r,n),r=Gc(r,a,c),i&&(Vc(i.kx),r=qc(r,i.kx,i.x)),s=Jc(s,o),s=Gc(s,u,l),i&&(Vc(i.ky),s=qc(s,i.ky,i.y)),{rangeX:r,rangeY:s}}(n,i),a=Zc(function({x1:t,x2:e,y1:n,y2:o}){return{minX:Math.min(t,e),maxX:Math.max(t,e),minY:Math.min(n,o),maxY:Math.max(n,o)}}(n),e),c=Zc(function({minX:t,maxX:e,minY:n,maxY:o},{left:i,right:r,top:s,bottom:a}){return{minX:t+i,maxX:e-r,minY:n+s,maxY:o-a}}(a,i),e);return n.coordinates(n,{id:o,padding:i,zoomIdentity:r,ranges:s,bbox:a,paddedBbox:c,clip:n.clip})}function Zc(t,e){if(!e)return t;const n="padding"===e.clip?e.paddedBbox:e.bbox;return{minX:Math.max(t.minX,n.minX),maxX:Math.min(t.maxX,n.maxX),minY:Math.max(t.minY,n.minY),maxY:Math.min(t.maxY,n.maxY)}}function Qc(t,e){return Uc(function(t,e){for(const n in e)n in t||(t[n]=e[n]);return t}(function(t,e){const n=t.width/2,o=t.height/2;if(!e){const{x:e,y:i}=t;return{x1:e-n,x2:e+n,y1:i-o,y2:i+o}}const i=new ko,{scales:r}=Fs(t,e);dc(t,e,r,i,Rs());const{cx:s,cy:a}=i.result();return{x1:s-n,x2:s+n,y1:a-o,y2:a+o}}(t,e),t))}var tu={square:[[-1,-1],[1,-1],[1,1],[-1,1],[-1,-1]],cross:[[-.5,-1],[.5,-1],[.5,-.5],[1,-.5],[1,.5],[.5,.5],[.5,1],[-.5,1],[-.5,.5],[-1,.5],[-1,-.5],[-.5,-.5],[-.5,-1]],"cross-sharp":[[0,-1],[.2,-.2],[1,0],[.2,.2],[0,1],[-.2,.2],[-1,0],[-.2,-.2],[0,-1]],diamond:[[0,-1],[1,0],[0,1],[-1,0],[0,-1]],"triangle-up":[[0,-1],[1,1],[-1,1],[0,-1]],"triangle-down":[[1,-1],[0,1],[-1,-1],[1,-1]],"triangle-right":[[-1,-1],[1,0],[-1,1],[-1,-1]],"triangle-left":[[1,-1],[-1,0],[1,1],[1,-1]],star4:[[0,.71],[1,1],[.71,0],[1,-1],[0,-.71],[-1,-1],[-.71,0],[-1,1],[0,.71]],star5:[[0,.5],[.6,.8],[.5,.1],[1,-.3],[.3,-.4],[0,-1],[-.3,-.4],[-1,-.3],[-.5,.1],[-.6,.8],[0,.5]],star:[[0,.5],[.6,.8],[.5,.1],[1,-.3],[.3,-.4],[0,-1],[-.3,-.4],[-1,-.3],[-.5,.1],[-.6,.8],[0,.5]],star6:[[0,.58],[.5,1],[.43,.29],[1,0],[.43,-.29],[.5,-1],[0,-.58],[-.5,-1],[-.43,-.29],[-1,0],[-.43,.29],[-.5,1],[0,.58]],star8:[[0,.54],[.41,1],[.38,.38],[1,.41],[.54,0],[1,-.41],[.38,-.38],[.41,-1],[0,-.54],[-.41,-1],[-.38,-.38],[-1,-.41],[-.54,0],[-1,.41],[-.38,.38],[-.41,1],[0,.54]],pentagon:[[-1,-.24],[0,-1],[1,-.24],[.62,1],[-.62,1],[-1,-.24]],hexagon:[[-1,0],[-.57,-1],[.57,-1],[1,0],[.57,1],[-.57,1],[-1,0]],heptagon:[[-1,.29],[-.8,-.6],[0,-1],[.8,-.6],[1,.29],[.45,1],[-.45,1],[-1,.29]],septagon:[[-1,.29],[-.8,-.6],[0,-1],[.8,-.6],[1,.29],[.45,1],[-.45,1],[-1,.29]],octagon:[[-1,-.41],[-.41,-1],[.41,-1],[1,-.41],[1,.41],[.41,1],[-.41,1],[-1,.41],[-1,-.41]],nonagon:[[.35,-1],[.88,-.55],[1,.15],[.65,.76],[0,1],[-.65,.76],[-1,.15],[-.88,-.55],[-.35,-1],[.35,-1]],decagon:[[-1,0],[-.81,-.62],[-.31,-1],[.31,-1],[.81,-.62],[1,0],[.81,.62],[.31,1],[-.31,1],[-.81,.62],[-1,0]]};function eu(t,e,n){const o=Pc(t);if("circle"===o.shape)return hc(o,e);const i=Qc({x:o.x,y:o.y,width:2*o.radius,height:2*o.radius,scaleX:[-1,1],scaleY:[-1,1]},e),r=gc(function(t,e){for(const n in e)ou.has(n)||(t[n]=e[n]);return t}({geometry:nu(o.shape)},o),i,n);return r.type="Symbol",r}function nu(t){return t in tu?{type:"Polygon",coordinates:[tu[t]]}:t}const ou=new Set(["x","y","shape","radius"]);function iu(t,e,n){const o=Pc(t);n=Rs(n);const i=new vo,{scales:r}=Fs(t,e);pc(o,e,r,i,n);const s=i.result(),a=ho();!function(t,e,n,o,i){const r=e.keys,s=Uo(e.shape,r),a=Uo(e.radius,r);for(let e=0;e<t.length;e++){const n=s(e),r=a(e);if("circle"===n&&(su(t[e],r,o),o.markEnd()),"circle"!==n){const s=nu(n),a=Sa(0,{},{x:au(t[e].cx,r),y:au(t[e].cy,r)},o,i);ba(s,a,e),a.markEnd()}}}(s,o,0,a,n);const c=a.result();return new Rr(c,o,e,ya,"Symbol")}const ru=2*Math.PI;function su(t,e,n,o){n.moveTo(t.cx+e,t.cy),n.arc(t.cx,t.cy,e,0,ru)}function au(t,e){return Ie().domain([0,1]).range([t,e+t])}function cu(t){return t=function(t){const e={startAngle:-lu,endAngle:uu-lu};return t?Object.assign(e,t):e}(t),function(e,n){const o=Wc(e,Dc),i=function(t,e){return{rangeX:[e.startAngle,e.endAngle],rangeY:t.rangeY}}(Hc,t),r=Rc(o,i,{addInvert:!0}),{x:s,y:a}=Rc(o,Hc),c=Rc(Dc,i),{ranges:u}=n,l=function(t){const{rangeX:e,rangeY:n}=t,o=hu(e),i=hu(n),r=du(e,o),s=du(n,i),a=Rc({scaleX:[-1,1],scaleY:[-1,1]},t);return{midX:r,midY:s,halfWidth:o,halfHeight:i,flipX:e[0]>e[1],flipY:n[0]>n[1],x:(t,e)=>a.x(e*Math.cos(t)),y:(t,e)=>a.y(e*Math.sin(t)),invertX:fu(a),invertY:pu(a)}}(u);return{...n,type:"polar",scaleX:s,scaleY:a,directScales:r,indirectScales:c,coordinateSystem:l,inverseTotalTransformation:([t,e])=>[r.x.invert(l.invertX(t,e)),r.y.invert(l.invertY(t,e))],bwx:s.bandwidth,bwy:a.bandwidth}}}const uu=2*Math.PI,lu=Math.PI/2;function hu(t){return Math.abs(t[0]-t[1])/2}function du([t,e],n){return t<e?t+n:e+n}function fu(t){return(e,n)=>{const o=t.x.invert(e),i=t.y.invert(n),r=Math.atan(i/o);switch(function(t,e){if(t>=0&&e>=0)return 1;if(t<0&&e>=0)return 2;if(t<0&&e<0)return 3;if(t>=0&&e<0)return 4}(o,i)){case 1:return r;case 2:case 3:return r+Math.PI;case 4:return r+uu}}}function pu(t){return(e,n)=>{const o=t.x.invert(e),i=t.y.invert(n);return Math.sqrt(o**2+i**2)}}function gu(n){let o,i,r,s,a,c,u=[n[1]],l={};for(let t=0;t<u.length;t+=1)l=e(l,u[t]);let p=[n[3]],g={};for(let t=0;t<p.length;t+=1)g=e(g,p[t]);return{c(){o=m("clipPath"),i=m("rect"),r=k(),s=m("clipPath"),a=m("rect"),x(i,l),M(o,"id",n[0]),x(a,g),M(s,"id",c=`clip-${n[2]}`)},m(t,e){d(t,o,e),h(o,i),d(t,r,e),d(t,s,e),h(s,a)},p(t,[e]){x(i,l=K(u,[2&e&&t[1]])),1&e&&M(o,"id",t[0]),x(a,g=K(p,[8&e&&t[3]])),4&e&&c!==(c=`clip-${t[2]}`)&&M(s,"id",c)},i:t,o:t,d(t){t&&f(o),t&&f(r),t&&f(s)}}}function mu(t,e,n){let o,i,r,s,{section:a}=e;return t.$$set=t=>{"section"in t&&n(4,a=t.section)},t.$$.update=()=>{16&t.$$.dirty&&n(0,o=`clip-padding-${a.id}`),16&t.$$.dirty&&n(1,i=Jo(a.paddedBbox)),16&t.$$.dirty&&n(2,r=`clip-outer-${a.id}`),16&t.$$.dirty&&n(3,s=Jo(a.bbox))},[o,i,r,s,a]}class yu extends nt{constructor(t){super(),et(this,t,mu,gu,s,{section:4})}}function ku(...t){for(const e of t)if(void 0!==e)return!0;return!1}function vu(t,e){const n=Object.assign(t,{});for(const t in e)n[t]=e[t];return n}var Mu="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function xu(){throw new Error("setTimeout has not been defined")}function bu(){throw new Error("clearTimeout has not been defined")}var $u=xu,Tu=bu;function _u(t){if($u===setTimeout)return setTimeout(t,0);if(($u===xu||!$u)&&setTimeout)return $u=setTimeout,setTimeout(t,0);try{return $u(t,0)}catch(e){try{return $u.call(null,t,0)}catch(e){return $u.call(this,t,0)}}}"function"==typeof Mu.setTimeout&&($u=setTimeout),"function"==typeof Mu.clearTimeout&&(Tu=clearTimeout);var wu,Su=[],Cu=!1,Ou=-1;function Au(){Cu&&wu&&(Cu=!1,wu.length?Su=wu.concat(Su):Ou=-1,Su.length&&Lu())}function Lu(){if(!Cu){var t=_u(Au);Cu=!0;for(var e=Su.length;e;){for(wu=Su,Su=[];++Ou<e;)wu&&wu[Ou].run();Ou=-1,e=Su.length}wu=null,Cu=!1,function(t){if(Tu===clearTimeout)return clearTimeout(t);if((Tu===bu||!Tu)&&clearTimeout)return Tu=clearTimeout,clearTimeout(t);try{Tu(t)}catch(e){try{return Tu.call(null,t)}catch(e){return Tu.call(this,t)}}}(t)}}function Pu(t,e){this.fun=t,this.array=e}Pu.prototype.run=function(){this.fun.apply(null,this.array)};function Eu(){}var Iu=Eu,Xu=Eu,Ru=Eu,Nu=Eu,Yu=Eu,Wu=Eu,Hu=Eu;var Du=Mu.performance||{},Bu=Du.now||Du.mozNow||Du.msNow||Du.oNow||Du.webkitNow||function(){return(new Date).getTime()};var Fu=new Date;var zu={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Su.push(new Pu(t,e)),1!==Su.length||Cu||_u(Lu)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Iu,addListener:Xu,once:Ru,off:Nu,removeListener:Yu,removeAllListeners:Wu,emit:Hu,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*Bu.call(Du),n=Math.floor(e),o=Math.floor(e%1*1e9);return t&&(n-=t[0],(o-=t[1])<0&&(n--,o+=1e9)),[n,o]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Fu)/1e3}};const ju=void 0!==zu&&"test"===zu.env.NODE_ENV;function Gu(t){if(ju)return t}function Ju(t){let n,o,i,r=[t[4],{class:t[1]},{"clip-path":o=Go(t[0],t[3])},{"data-testid":i=Gu(t[1])}],s={};for(let t=0;t<r.length;t+=1)s=e(s,r[t]);return{c(){n=m("path"),x(n,s)},m(t,e){d(t,n,e)},p(t,e){x(n,s=K(r,[16&e[0]&&t[4],2&e[0]&&{class:t[1]},9&e[0]&&o!==(o=Go(t[0],t[3]))&&{"clip-path":o},2&e[0]&&i!==(i=Gu(t[1]))&&{"data-testid":i}]))},d(t){t&&f(n)}}}function qu(t){let n,o,i,r,s=t[4].text+"",a=[t[4],{text:void 0},{class:t[1]},{"clip-path":i=Go(t[0],t[3])},{"data-testid":r=Gu(t[1])}],c={};for(let t=0;t<a.length;t+=1)c=e(c,a[t]);return{c(){n=m("text"),o=y(s),x(n,c)},m(t,e){d(t,n,e),h(n,o)},p(t,e){16&e[0]&&s!==(s=t[4].text+"")&&b(o,s),x(n,c=K(a,[16&e[0]&&t[4],{text:void 0},2&e[0]&&{class:t[1]},9&e[0]&&i!==(i=Go(t[0],t[3]))&&{"clip-path":i},2&e[0]&&r!==(r=Gu(t[1]))&&{"data-testid":r}]))},d(t){t&&f(n)}}}function Vu(e){let n,o,i="svg"===e[5]&&function(t){let e,n,o="path"===t[2]&&Ju(t),i="text"===t[2]&&qu(t);return{c(){o&&o.c(),e=k(),i&&i.c(),n=v()},m(t,r){o&&o.m(t,r),d(t,e,r),i&&i.m(t,r),d(t,n,r)},p(t,r){"path"===t[2]?o?o.p(t,r):(o=Ju(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),"text"===t[2]?i?i.p(t,r):(i=qu(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(t){o&&o.d(t),t&&f(e),i&&i.d(t),t&&f(n)}}}(e),r="canvas"===e[5]&&function(e){let n;return{c(){n=y(e[9])},m(t,e){d(t,n,e)},p:t,d(t){t&&f(n)}}}(e);return{c(){i&&i.c(),n=k(),r&&r.c(),o=v()},m(t,e){i&&i.m(t,e),d(t,n,e),r&&r.m(t,e),d(t,o,e)},p(t,e){"svg"===t[5]&&i.p(t,e),"canvas"===t[5]&&r.p(t,e)},i:t,o:t,d(t){i&&i.d(t),t&&f(n),r&&r.d(t),t&&f(o)}}}let Ku=0;function Uu(t,e,n){let o,i,r,{positioning:s}=e,{aesthetics:c}=e,{createMark:u}=e,{parseAesthetics:l}=e,{className:h}=e,{element:d="path"}=e,{outputSettings:f}=e,{blockReindexing:p}=e,{onClick:g}=e,{onMousedown:m}=e,{onMouseup:y}=e,{onMouseover:k}=e,{onMouseout:v}=e,{onMousedrag:M}=e,{onTouchdown:x}=e,{onTouchup:b}=e,{onTouchover:$}=e,{onTouchout:T}=e,{onTouchdrag:_}=e,{onSelect:C}=e,{onDeselect:A}=e;const{renderer:L,marksAndLayers:P,dirty:E,globalBlockReindexing:I}=O("graphic");a(t,I,(t=>n(39,r=t)));const X=O("section");a(t,X,(t=>n(3,o=t)));const R=O("interactionManager");a(t,R,(t=>n(33,i=t)));const N="m"+Ku++,Y="path"===d?No.path:No.text;let W;w((()=>{W=!0,"canvas"===L&&E.set(!0),Z()}));const H=()=>W;let D,B,F=z();function z(){let t=u(vu(s,c),o,f);return t.id=N,t}P[N]=F,"svg"===L&&(D=Y(),F.render(D),B=D.result());let j,G,J,q,V=!1,K=!1;function U(){H()&&n(30,V=!0)}function Z(){if(void 0===p){if(r)return}else if(!0===p)return;if(G||J){if(function(){if("mouse"===j){const t=i.mouse().marks();t.markIsLoaded(F)&&(t.removeAllMarkInteractions(F),t.removeMark(F))}if("touch"===j){const t=i.touch().marks();t.markIsLoaded(F)&&(t.removeAllMarkInteractions(F),t.removeMark(F))}}(),G){const t=i.mouse().marks();t.loadMark(F),g&&t.addMarkInteraction("click",F,g),m&&t.addMarkInteraction("mousedown",F,m),y&&t.addMarkInteraction("mouseup",F,y),v&&t.addMarkInteraction("mouseout",F,v),k&&t.addMarkInteraction("mouseover",F,k),M&&t.addMarkInteraction("mousedrag",F,M)}if(J){const t=i.touch().marks();t.loadMark(F),x&&t.addMarkInteraction("touchdown",F,x),b&&t.addMarkInteraction("touchup",F,b),$&&t.addMarkInteraction("touchover",F,$),T&&t.addMarkInteraction("touchout",F,T),_&&t.addMarkInteraction("touchdrag",F,_)}}if(function(){const t=i.select();t.markIsLoaded(F)&&t.removeMark(F)}(),q){i.select().loadMark(F,{onSelect:C,onDeselect:A})}}return S((()=>{"canvas"===L&&(delete P[N],E.set(!0))})),t.$$set=t=>{"positioning"in t&&n(10,s=t.positioning),"aesthetics"in t&&n(0,c=t.aesthetics),"createMark"in t&&n(11,u=t.createMark),"parseAesthetics"in t&&n(12,l=t.parseAesthetics),"className"in t&&n(1,h=t.className),"element"in t&&n(2,d=t.element),"outputSettings"in t&&n(13,f=t.outputSettings),"blockReindexing"in t&&n(14,p=t.blockReindexing),"onClick"in t&&n(15,g=t.onClick),"onMousedown"in t&&n(16,m=t.onMousedown),"onMouseup"in t&&n(17,y=t.onMouseup),"onMouseover"in t&&n(18,k=t.onMouseover),"onMouseout"in t&&n(19,v=t.onMouseout),"onMousedrag"in t&&n(20,M=t.onMousedrag),"onTouchdown"in t&&n(21,x=t.onTouchdown),"onTouchup"in t&&n(22,b=t.onTouchup),"onTouchover"in t&&n(23,$=t.onTouchover),"onTouchout"in t&&n(24,T=t.onTouchout),"onTouchdrag"in t&&n(25,_=t.onTouchdrag),"onSelect"in t&&n(26,C=t.onSelect),"onDeselect"in t&&n(27,A=t.onDeselect)},t.$$.update=()=>{if(1024&t.$$.dirty[0]&&s&&U(),1&t.$$.dirty[0]&&c&&H()&&n(31,K=!0),8200&t.$$.dirty[0]&&(o||f)&&U(),1879052289&t.$$.dirty[0]|1&t.$$.dirty[1]){if(V&&(n(28,F=z()),"svg"===L&&(n(29,D=Y()),F.render(D),n(4,B=D.result())),"canvas"===L&&(P[N]=F,E.set(!0)),Z()),!V&&K){const t=l(c),e=F.props.strokeWidth!==t.strokeWidth,o=F.props.clip!==t.clip;F.updateAesthetics(t),(e||o)&&Z(),"svg"===L&&(n(29,D=Y()),F.render(D),n(4,B=D.result())),"canvas"===L&&E.set(!0)}n(30,V=!1),n(31,K=!1)}4&t.$$.dirty[1]&&n(32,j=i.getPrimaryInput()),2064384&t.$$.dirty[0]|2&t.$$.dirty[1]&&(G="mouse"===j&&ku(g,m,y,k,v,M)),65011712&t.$$.dirty[0]|2&t.$$.dirty[1]&&(J="touch"===j&&ku(x,b,$,T,_)),201326592&t.$$.dirty[0]&&(q=ku(C,A))},[c,h,d,o,B,L,I,X,R,N,s,u,l,f,p,g,m,y,k,v,M,x,b,$,T,_,C,A,F,D,V,K,j,i]}class Zu extends nt{constructor(t){super(),et(this,t,Uu,Vu,s,{positioning:10,aesthetics:0,createMark:11,parseAesthetics:12,className:1,element:2,outputSettings:13,blockReindexing:14,onClick:15,onMousedown:16,onMouseup:17,onMouseover:18,onMouseout:19,onMousedrag:20,onTouchdown:21,onTouchup:22,onTouchover:23,onTouchout:24,onTouchdrag:25,onSelect:26,onDeselect:27},[-1,-1])}}function Qu(t){let e,n;return e=new Zu({props:{positioning:t[15],aesthetics:t[16],createMark:Ac,parseAesthetics:Mc,className:"rectangle",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.positioning=t[15]),65536&n[0]&&(o.aesthetics=t[16]),1&n[0]&&(o.outputSettings=t[0]),2&n[0]&&(o.blockReindexing=t[1]),4&n[0]&&(o.onClick=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousedrag=t[7]),256&n[0]&&(o.onTouchdown=t[8]),512&n[0]&&(o.onTouchup=t[9]),1024&n[0]&&(o.onTouchover=t[10]),2048&n[0]&&(o.onTouchout=t[11]),4096&n[0]&&(o.onTouchdrag=t[12]),8192&n[0]&&(o.onSelect=t[13]),16384&n[0]&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function tl(t,e,n){let o,i,{x1:r}=e,{x2:s}=e,{y1:a}=e,{y2:c}=e,{fill:u}=e,{stroke:l}=e,{strokeWidth:h}=e,{strokeOpacity:d}=e,{fillOpacity:f}=e,{opacity:p}=e,{lineCap:g}=e,{lineJoin:m}=e,{miterLimit:y}=e,{dashArray:k}=e,{dashOffset:v}=e,{outputSettings:M}=e,{clip:x}=e,{blockReindexing:b}=e,{onClick:$}=e,{onMousedown:T}=e,{onMouseup:_}=e,{onMouseover:w}=e,{onMouseout:S}=e,{onMousedrag:C}=e,{onTouchdown:O}=e,{onTouchup:A}=e,{onTouchover:L}=e,{onTouchout:P}=e,{onTouchdrag:E}=e,{onSelect:I}=e,{onDeselect:X}=e;return t.$$set=t=>{"x1"in t&&n(17,r=t.x1),"x2"in t&&n(18,s=t.x2),"y1"in t&&n(19,a=t.y1),"y2"in t&&n(20,c=t.y2),"fill"in t&&n(21,u=t.fill),"stroke"in t&&n(22,l=t.stroke),"strokeWidth"in t&&n(23,h=t.strokeWidth),"strokeOpacity"in t&&n(24,d=t.strokeOpacity),"fillOpacity"in t&&n(25,f=t.fillOpacity),"opacity"in t&&n(26,p=t.opacity),"lineCap"in t&&n(27,g=t.lineCap),"lineJoin"in t&&n(28,m=t.lineJoin),"miterLimit"in t&&n(29,y=t.miterLimit),"dashArray"in t&&n(30,k=t.dashArray),"dashOffset"in t&&n(31,v=t.dashOffset),"outputSettings"in t&&n(0,M=t.outputSettings),"clip"in t&&n(32,x=t.clip),"blockReindexing"in t&&n(1,b=t.blockReindexing),"onClick"in t&&n(2,$=t.onClick),"onMousedown"in t&&n(3,T=t.onMousedown),"onMouseup"in t&&n(4,_=t.onMouseup),"onMouseover"in t&&n(5,w=t.onMouseover),"onMouseout"in t&&n(6,S=t.onMouseout),"onMousedrag"in t&&n(7,C=t.onMousedrag),"onTouchdown"in t&&n(8,O=t.onTouchdown),"onTouchup"in t&&n(9,A=t.onTouchup),"onTouchover"in t&&n(10,L=t.onTouchover),"onTouchout"in t&&n(11,P=t.onTouchout),"onTouchdrag"in t&&n(12,E=t.onTouchdrag),"onSelect"in t&&n(13,I=t.onSelect),"onDeselect"in t&&n(14,X=t.onDeselect)},t.$$.update=()=>{1966080&t.$$.dirty[0]&&n(15,o={x1:r,x2:s,y1:a,y2:c}),2145386496&t.$$.dirty[0]|3&t.$$.dirty[1]&&n(16,i={fill:u,stroke:l,strokeWidth:h,strokeOpacity:d,fillOpacity:f,opacity:p,lineCap:g,lineJoin:m,miterLimit:y,dashArray:k,dashOffset:v,clip:x})},[M,b,$,T,_,w,S,C,O,A,L,P,E,I,X,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,k,v,x]}class el extends nt{constructor(t){super(),et(this,t,tl,Qu,s,{x1:17,x2:18,y1:19,y2:20,fill:21,stroke:22,strokeWidth:23,strokeOpacity:24,fillOpacity:25,opacity:26,lineCap:27,lineJoin:28,miterLimit:29,dashArray:30,dashOffset:31,outputSettings:0,clip:32,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14},[-1,-1])}}function nl(t){let e,n;return e=new el({props:{fill:t[0]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.fill=t[0]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function ol(t){let e,n;return e=new el({props:{fill:t[0]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.fill=t[0]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function il(t){let e,n,o,i="svg"===t[2]&&function(t){let e,n,o,i,r;e=new yu({props:{section:t[1]}});let s=t[0]&&nl(t);const a=t[23].default,u=c(a,t,t[22],null);return{c(){Z(e.$$.fragment),n=k(),s&&s.c(),o=k(),i=m("g"),u&&u.c(),M(i,"class","section")},m(t,a){Q(e,t,a),d(t,n,a),s&&s.m(t,a),d(t,o,a),d(t,i,a),u&&u.m(i,null),r=!0},p(t,n){const i={};2&n&&(i.section=t[1]),e.$set(i),t[0]?s?(s.p(t,n),1&n&&G(s,1)):(s=nl(t),s.c(),G(s,1),s.m(o.parentNode,o)):s&&(z(),J(s,1,1,(()=>{s=null})),j()),u&&u.p&&4194304&n&&l(u,a,t,t[22],n,null,null)},i(t){r||(G(e.$$.fragment,t),G(s),G(u,t),r=!0)},o(t){J(e.$$.fragment,t),J(s),J(u,t),r=!1},d(t){tt(e,t),t&&f(n),s&&s.d(t),t&&f(o),t&&f(i),u&&u.d(t)}}}(t),r="canvas"===t[2]&&function(t){let e,n,o=t[0]&&ol(t);const i=t[23].default,r=c(i,t,t[22],null);return{c(){o&&o.c(),e=k(),r&&r.c()},m(t,i){o&&o.m(t,i),d(t,e,i),r&&r.m(t,i),n=!0},p(t,n){t[0]?o?(o.p(t,n),1&n&&G(o,1)):(o=ol(t),o.c(),G(o,1),o.m(e.parentNode,e)):o&&(z(),J(o,1,1,(()=>{o=null})),j()),r&&r.p&&4194304&n&&l(r,i,t,t[22],n,null,null)},i(t){n||(G(o),G(r,t),n=!0)},o(t){J(o),J(r,t),n=!1},d(t){o&&o.d(t),t&&f(e),r&&r.d(t)}}}(t);return{c(){i&&i.c(),e=k(),r&&r.c(),n=v()},m(t,s){i&&i.m(t,s),d(t,e,s),r&&r.m(t,s),d(t,n,s),o=!0},p(t,[e]){"svg"===t[2]&&i.p(t,e),"canvas"===t[2]&&r.p(t,e)},i(t){o||(G(i),G(r),o=!0)},o(t){J(i),J(r),o=!1},d(t){i&&i.d(t),t&&f(e),r&&r.d(t),t&&f(n)}}}function rl(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{props:s}=e,{id:c}=e,{createFunction:u}=e,{backgroundColor:l}=e,{onClick:h}=e,{onWheel:d}=e,{onMousedown:f}=e,{onMouseup:p}=e,{onMouseover:g}=e,{onMouseout:m}=e,{onMousemove:y}=e,{onPinch:k}=e,{onTouchdown:v}=e,{onTouchmove:M}=e,{onTouchup:x}=e,{onTouchover:b}=e,{onTouchout:$}=e;const{renderer:T}=O("graphic"),_=O("section");a(t,_,(t=>n(21,o=t)));const w=O("eventManager"),S=it(),A=it();let L;C("section",S),C("interactionManager",A);const P=new ys;P.setId(c),P.linkEventManager(w);return t.$$set=t=>{"props"in t&&n(4,s=t.props),"id"in t&&n(5,c=t.id),"createFunction"in t&&n(6,u=t.createFunction),"backgroundColor"in t&&n(0,l=t.backgroundColor),"onClick"in t&&n(7,h=t.onClick),"onWheel"in t&&n(8,d=t.onWheel),"onMousedown"in t&&n(9,f=t.onMousedown),"onMouseup"in t&&n(10,p=t.onMouseup),"onMouseover"in t&&n(11,g=t.onMouseover),"onMouseout"in t&&n(12,m=t.onMouseout),"onMousemove"in t&&n(13,y=t.onMousemove),"onPinch"in t&&n(14,k=t.onPinch),"onTouchdown"in t&&n(15,v=t.onTouchdown),"onTouchmove"in t&&n(16,M=t.onTouchmove),"onTouchup"in t&&n(17,x=t.onTouchup),"onTouchover"in t&&n(18,b=t.onTouchover),"onTouchout"in t&&n(19,$=t.onTouchout),"$$scope"in t&&n(22,r=t.$$scope)},t.$$.update=()=>{2097232&t.$$.dirty&&n(1,L=u(s,o)),2&t.$$.dirty&&P.loadSection(L),1040256&t.$$.dirty&&function(){if("mouse"===P.getPrimaryInput()){const t=P.mouse().section();t.removeAllInteractions(),d&&t.addInteraction("wheel",d),h&&t.addInteraction("click",h),f&&t.addInteraction("mousedown",f),p&&t.addInteraction("mouseup",p),g&&t.addInteraction("mouseover",g),m&&t.addInteraction("mouseout",m),y&&t.addInteraction("mousemove",y)}if("touch"===P.getPrimaryInput()){const t=P.touch().section();t.removeAllInteractions(),v&&t.addInteraction("touchdown",v),M&&t.addInteraction("touchmove",M),x&&t.addInteraction("touchup",x),b&&t.addInteraction("touchover",b),$&&t.addInteraction("touchout",$),k&&t.addInteraction("pinch",k)}}(),2&t.$$.dirty&&S.set(L)},A.set(P),[l,L,T,_,s,c,u,h,d,f,p,g,m,y,k,v,M,x,b,$,()=>P.select(),o,r,i]}class sl extends nt{constructor(t){super(),et(this,t,rl,il,s,{props:4,id:5,createFunction:6,backgroundColor:0,onClick:7,onWheel:8,onMousedown:9,onMouseup:10,onMouseover:11,onMouseout:12,onMousemove:13,onPinch:14,onTouchdown:15,onTouchmove:16,onTouchup:17,onTouchover:18,onTouchout:19,getSM:20})}get getSM(){return this.$$.ctx[20]}}function al(t){let e;const n=t[38].default,o=c(n,t,t[40],null);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&512&e[1]&&l(o,n,t,t[40],e,null,null)},i(t){e||(G(o,t),e=!0)},o(t){J(o,t),e=!1},d(t){o&&o.d(t)}}}function cl(t){let e,n,o={props:t[15],backgroundColor:t[0],id:t[16],createFunction:Uc,onClick:t[1],onWheel:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousemove:t[7],onPinch:t[8],onTouchdown:t[9],onTouchmove:t[10],onTouchup:t[11],onTouchover:t[12],onTouchout:t[13],$$slots:{default:[al]},$$scope:{ctx:t}};return e=new sl({props:o}),t[39](e),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.props=t[15]),1&n[0]&&(o.backgroundColor=t[0]),2&n[0]&&(o.onClick=t[1]),4&n[0]&&(o.onWheel=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousemove=t[7]),256&n[0]&&(o.onPinch=t[8]),512&n[0]&&(o.onTouchdown=t[9]),1024&n[0]&&(o.onTouchmove=t[10]),2048&n[0]&&(o.onTouchup=t[11]),4096&n[0]&&(o.onTouchover=t[12]),8192&n[0]&&(o.onTouchout=t[13]),512&n[1]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(n){t[39](null),tt(e,n)}}}let ul=0;function ll(t,e,n){let{$$slots:o={},$$scope:i}=e;const r="sc"+ul++;let s,{x1:a}=e,{x2:c}=e,{y1:u}=e,{y2:l}=e,{backgroundColor:h}=e,{coordinates:d}=e,{scaleX:f}=e,{scaleY:p}=e,{flipX:g=!1}=e,{flipY:m=!1}=e,{padding:y=0}=e,{zoomIdentity:k}=e,{onClick:v}=e,{onWheel:M}=e,{onMousedown:x}=e,{onMouseup:b}=e,{onMouseover:$}=e,{onMouseout:T}=e,{onMousemove:_}=e,{onPinch:w}=e,{onTouchdown:S}=e,{onTouchmove:C}=e,{onTouchup:O}=e,{onTouchover:A}=e,{onTouchout:P}=e,{clip:E="padding"}=e;let I;return t.$$set=t=>{"x1"in t&&n(17,a=t.x1),"x2"in t&&n(18,c=t.x2),"y1"in t&&n(19,u=t.y1),"y2"in t&&n(20,l=t.y2),"backgroundColor"in t&&n(0,h=t.backgroundColor),"coordinates"in t&&n(21,d=t.coordinates),"scaleX"in t&&n(22,f=t.scaleX),"scaleY"in t&&n(23,p=t.scaleY),"flipX"in t&&n(24,g=t.flipX),"flipY"in t&&n(25,m=t.flipY),"padding"in t&&n(26,y=t.padding),"zoomIdentity"in t&&n(27,k=t.zoomIdentity),"onClick"in t&&n(1,v=t.onClick),"onWheel"in t&&n(2,M=t.onWheel),"onMousedown"in t&&n(3,x=t.onMousedown),"onMouseup"in t&&n(4,b=t.onMouseup),"onMouseover"in t&&n(5,$=t.onMouseover),"onMouseout"in t&&n(6,T=t.onMouseout),"onMousemove"in t&&n(7,_=t.onMousemove),"onPinch"in t&&n(8,w=t.onPinch),"onTouchdown"in t&&n(9,S=t.onTouchdown),"onTouchmove"in t&&n(10,C=t.onTouchmove),"onTouchup"in t&&n(11,O=t.onTouchup),"onTouchover"in t&&n(12,A=t.onTouchover),"onTouchout"in t&&n(13,P=t.onTouchout),"clip"in t&&n(28,E=t.clip),"$$scope"in t&&n(40,i=t.$$scope)},t.$$.update=()=>{536739840&t.$$.dirty[0]&&n(15,I={x1:a,x2:c,y1:u,y2:l,coordinates:d,scaleX:f,scaleY:p,flipX:g,flipY:m,padding:y,zoomIdentity:k,clip:E})},[h,v,M,x,b,$,T,_,w,S,C,O,A,P,s,I,r,a,c,u,l,d,f,p,g,m,y,k,E,()=>s.getSM(),t=>s.getSM().selectRectangle(t),t=>s.getSM().updateSelectRectangle(t),()=>s.getSM().resetSelectRectangle(),t=>s.getSM().startSelectPolygon(t),t=>s.getSM().addPointToSelectPolygon(t),t=>s.getSM().moveSelectPolygon(t),()=>s.getSM().getSelectPolygon(),()=>s.getSM().resetSelectPolygon(),o,function(t){L[t?"unshift":"push"]((()=>{s=t,n(14,s)}))},i]}class hl extends nt{constructor(t){super(),et(this,t,ll,cl,s,{x1:17,x2:18,y1:19,y2:20,backgroundColor:0,coordinates:21,scaleX:22,scaleY:23,flipX:24,flipY:25,padding:26,zoomIdentity:27,onClick:1,onWheel:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousemove:7,onPinch:8,onTouchdown:9,onTouchmove:10,onTouchup:11,onTouchover:12,onTouchout:13,clip:28,getSM:29,selectRectangle:30,updateSelectRectangle:31,resetSelectRectangle:32,startSelectPolygon:33,addPointToSelectPolygon:34,moveSelectPolygon:35,getSelectPolygon:36,resetSelectPolygon:37},[-1,-1])}get getSM(){return this.$$.ctx[29]}get selectRectangle(){return this.$$.ctx[30]}get updateSelectRectangle(){return this.$$.ctx[31]}get resetSelectRectangle(){return this.$$.ctx[32]}get startSelectPolygon(){return this.$$.ctx[33]}get addPointToSelectPolygon(){return this.$$.ctx[34]}get moveSelectPolygon(){return this.$$.ctx[35]}get getSelectPolygon(){return this.$$.ctx[36]}get resetSelectPolygon(){return this.$$.ctx[37]}}function dl(t){let e,n,o,i,r={x1:0,x2:t[0],y1:0,y2:t[1],backgroundColor:t[2],coordinates:t[3],scaleX:t[4],scaleY:t[5],flipX:t[6],flipY:t[7],padding:t[8],zoomIdentity:t[9],onClick:t[10],onWheel:t[11],onMousedown:t[12],onMouseup:t[13],onMouseover:t[14],onMouseout:t[15],onMousemove:t[16],onPinch:t[17],onTouchdown:t[18],onTouchmove:t[19],onTouchup:t[20],onTouchover:t[21],onTouchout:t[22],clip:t[23],$$slots:{default:[fl]},$$scope:{ctx:t}};return n=new hl({props:r}),t[41](n),{c(){e=m("svg"),Z(n.$$.fragment),M(e,"id",t[27]),M(e,"width",t[0]),M(e,"height",t[1]),M(e,"data-testid",o=Gu("root"))},m(o,r){d(o,e,r),Q(n,e,null),t[42](e),i=!0},p(t,o){const r={};1&o[0]&&(r.x2=t[0]),2&o[0]&&(r.y2=t[1]),4&o[0]&&(r.backgroundColor=t[2]),8&o[0]&&(r.coordinates=t[3]),16&o[0]&&(r.scaleX=t[4]),32&o[0]&&(r.scaleY=t[5]),64&o[0]&&(r.flipX=t[6]),128&o[0]&&(r.flipY=t[7]),256&o[0]&&(r.padding=t[8]),512&o[0]&&(r.zoomIdentity=t[9]),1024&o[0]&&(r.onClick=t[10]),2048&o[0]&&(r.onWheel=t[11]),4096&o[0]&&(r.onMousedown=t[12]),8192&o[0]&&(r.onMouseup=t[13]),16384&o[0]&&(r.onMouseover=t[14]),32768&o[0]&&(r.onMouseout=t[15]),65536&o[0]&&(r.onMousemove=t[16]),131072&o[0]&&(r.onPinch=t[17]),262144&o[0]&&(r.onTouchdown=t[18]),524288&o[0]&&(r.onTouchmove=t[19]),1048576&o[0]&&(r.onTouchup=t[20]),2097152&o[0]&&(r.onTouchover=t[21]),4194304&o[0]&&(r.onTouchout=t[22]),8388608&o[0]&&(r.clip=t[23]),16384&o[1]&&(r.$$scope={dirty:o,ctx:t}),n.$set(r),(!i||1&o[0])&&M(e,"width",t[0]),(!i||2&o[0])&&M(e,"height",t[1])},i(t){i||(G(n.$$.fragment,t),i=!0)},o(t){J(n.$$.fragment,t),i=!1},d(o){o&&f(e),t[41](null),tt(n),t[42](null)}}}function fl(t){let e;const n=t[40].default,o=c(n,t,t[45],null);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&16384&e[1]&&l(o,n,t,t[45],e,null,null)},i(t){e||(G(o,t),e=!0)},o(t){J(o,t),e=!1},d(t){o&&o.d(t)}}}function pl(t){let e,n,o,i,r,s={x1:0,x2:t[0],y1:0,y2:t[1],backgroundColor:t[2],coordinates:t[3],scaleX:t[4],scaleY:t[5],flipX:t[6],flipY:t[7],padding:t[8],zoomIdentity:t[9],onClick:t[10],onWheel:t[11],onMousedown:t[12],onMouseup:t[13],onMouseover:t[14],onMouseout:t[15],onMousemove:t[16],onPinch:t[17],onTouchdown:t[18],onTouchmove:t[19],onTouchup:t[20],onTouchover:t[21],onTouchout:t[22],clip:t[23],$$slots:{default:[gl]},$$scope:{ctx:t}};return i=new hl({props:s}),t[44](i),{c(){e=g("canvas"),o=k(),Z(i.$$.fragment),M(e,"id",t[27]),M(e,"width",t[0]),M(e,"height",t[1]),M(e,"data-testid",n=Gu("root"))},m(n,s){d(n,e,s),t[43](e),d(n,o,s),Q(i,n,s),r=!0},p(t,n){(!r||1&n[0])&&M(e,"width",t[0]),(!r||2&n[0])&&M(e,"height",t[1]);const o={};1&n[0]&&(o.x2=t[0]),2&n[0]&&(o.y2=t[1]),4&n[0]&&(o.backgroundColor=t[2]),8&n[0]&&(o.coordinates=t[3]),16&n[0]&&(o.scaleX=t[4]),32&n[0]&&(o.scaleY=t[5]),64&n[0]&&(o.flipX=t[6]),128&n[0]&&(o.flipY=t[7]),256&n[0]&&(o.padding=t[8]),512&n[0]&&(o.zoomIdentity=t[9]),1024&n[0]&&(o.onClick=t[10]),2048&n[0]&&(o.onWheel=t[11]),4096&n[0]&&(o.onMousedown=t[12]),8192&n[0]&&(o.onMouseup=t[13]),16384&n[0]&&(o.onMouseover=t[14]),32768&n[0]&&(o.onMouseout=t[15]),65536&n[0]&&(o.onMousemove=t[16]),131072&n[0]&&(o.onPinch=t[17]),262144&n[0]&&(o.onTouchdown=t[18]),524288&n[0]&&(o.onTouchmove=t[19]),1048576&n[0]&&(o.onTouchup=t[20]),2097152&n[0]&&(o.onTouchover=t[21]),4194304&n[0]&&(o.onTouchout=t[22]),8388608&n[0]&&(o.clip=t[23]),16384&n[1]&&(o.$$scope={dirty:n,ctx:t}),i.$set(o)},i(t){r||(G(i.$$.fragment,t),r=!0)},o(t){J(i.$$.fragment,t),r=!1},d(n){n&&f(e),t[43](null),n&&f(o),t[44](null),tt(i,n)}}}function gl(t){let e,n,o;const i=t[40].default,r=c(i,t,t[45],null);return{c(){var o,i,s;e=g("div"),r&&r.c(),o="display",i="none",e.style.setProperty(o,i,s?"important":""),M(e,"id",n=`div-${t[27]}`)},m(t,n){d(t,e,n),r&&r.m(e,null),o=!0},p(t,e){r&&r.p&&16384&e[1]&&l(r,i,t,t[45],e,null,null)},i(t){o||(G(r,t),o=!0)},o(t){J(r,t),o=!1},d(t){t&&f(e),r&&r.d(t)}}}function ml(t){let e,n,o,i="svg"===t[24]&&dl(t),r="canvas"===t[24]&&pl(t);return{c(){i&&i.c(),e=k(),r&&r.c(),n=v()},m(t,s){i&&i.m(t,s),d(t,e,s),r&&r.m(t,s),d(t,n,s),o=!0},p(t,o){"svg"===t[24]?i?(i.p(t,o),16777216&o[0]&&G(i,1)):(i=dl(t),i.c(),G(i,1),i.m(e.parentNode,e)):i&&(z(),J(i,1,1,(()=>{i=null})),j()),"canvas"===t[24]?r?(r.p(t,o),16777216&o[0]&&G(r,1)):(r=pl(t),r.c(),G(r,1),r.m(n.parentNode,n)):r&&(z(),J(r,1,1,(()=>{r=null})),j())},i(t){o||(G(i),G(r),o=!0)},o(t){J(i),J(r),o=!1},d(t){i&&i.d(t),t&&f(e),r&&r.d(t),t&&f(n)}}}let yl=0;function kl(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{width:s=500}=e,{height:c=500}=e,{backgroundColor:u}=e,{coordinates:l}=e,{scaleX:h}=e,{scaleY:d}=e,{flipX:f=!1}=e,{flipY:p=!1}=e,{padding:g=0}=e,{zoomIdentity:m}=e,{onClick:y}=e,{onWheel:k}=e,{onMousedown:v}=e,{onMouseup:M}=e,{onMouseover:x}=e,{onMouseout:b}=e,{onMousemove:$}=e,{onPinch:T}=e,{onTouchdown:_}=e,{onTouchmove:S}=e,{onTouchup:O}=e,{onTouchover:A}=e,{onTouchout:P}=e,{clip:E="padding"}=e,{renderer:X="svg"}=e,{blockReindexing:N}=e,{_testDummies:Y}=e,W=!1;const H="gr"+yl++;let D,B,F=it(!1);a(t,F,(t=>n(39,o=t)));let z=it(N);const j={};C("graphic",{renderer:X,dirty:F,marksAndLayers:j,globalBlockReindexing:z});const G=new Di;C("eventManager",G),w((()=>{if(D||n(25,D=document.getElementById(H)),"canvas"===X&&(B=D.getContext("2d")),ju&&Y){const{dummyRoot:t,dummyWindow:e}=Y;G.addRootNode(t,X,e)}else G.addRootNode(D,X);G.attachEventListeners(),W=!0}));const J=t=>[" ",""].includes(t);let q;return t.$$set=t=>{"width"in t&&n(0,s=t.width),"height"in t&&n(1,c=t.height),"backgroundColor"in t&&n(2,u=t.backgroundColor),"coordinates"in t&&n(3,l=t.coordinates),"scaleX"in t&&n(4,h=t.scaleX),"scaleY"in t&&n(5,d=t.scaleY),"flipX"in t&&n(6,f=t.flipX),"flipY"in t&&n(7,p=t.flipY),"padding"in t&&n(8,g=t.padding),"zoomIdentity"in t&&n(9,m=t.zoomIdentity),"onClick"in t&&n(10,y=t.onClick),"onWheel"in t&&n(11,k=t.onWheel),"onMousedown"in t&&n(12,v=t.onMousedown),"onMouseup"in t&&n(13,M=t.onMouseup),"onMouseover"in t&&n(14,x=t.onMouseover),"onMouseout"in t&&n(15,b=t.onMouseout),"onMousemove"in t&&n(16,$=t.onMousemove),"onPinch"in t&&n(17,T=t.onPinch),"onTouchdown"in t&&n(18,_=t.onTouchdown),"onTouchmove"in t&&n(19,S=t.onTouchmove),"onTouchup"in t&&n(20,O=t.onTouchup),"onTouchover"in t&&n(21,A=t.onTouchover),"onTouchout"in t&&n(22,P=t.onTouchout),"clip"in t&&n(23,E=t.clip),"renderer"in t&&n(24,X=t.renderer),"blockReindexing"in t&&n(29,N=t.blockReindexing),"_testDummies"in t&&n(30,Y=t._testDummies),"$$scope"in t&&n(45,r=t.$$scope)},t.$$.update=()=>{536870912&t.$$.dirty[0]&&W&&z.set(N),256&t.$$.dirty[1]&&o&&(R(),I).then((()=>{!function(){B.clearRect(0,0,s,c);const t=Array.from(document.getElementById(`div-${H}`).childNodes);for(let e=0;e<t.length;e++){const n=t[e].data;J(n)||j[n].render(B)}}(),F.set(!1)}))},[s,c,u,l,h,d,f,p,g,m,y,k,v,M,x,b,$,T,_,S,O,A,P,E,X,D,q,H,F,N,Y,t=>q.getSM().selectRectangle(t),t=>q.getSM().updateSelectRectangle(t),()=>q.getSM().resetSelectRectangle(),t=>q.getSM().startSelectPolygon(t),t=>q.getSM().addPointToSelectPolygon(t),t=>q.getSM().moveSelectPolygon(t),()=>q.getSM().getSelectPolygon(),()=>q.getSM().resetSelectPolygon(),o,i,function(t){L[t?"unshift":"push"]((()=>{q=t,n(26,q)}))},function(t){L[t?"unshift":"push"]((()=>{D=t,n(25,D)}))},function(t){L[t?"unshift":"push"]((()=>{D=t,n(25,D)}))},function(t){L[t?"unshift":"push"]((()=>{q=t,n(26,q)}))},r]}class vl extends nt{constructor(t){super(),et(this,t,kl,ml,s,{width:0,height:1,backgroundColor:2,coordinates:3,scaleX:4,scaleY:5,flipX:6,flipY:7,padding:8,zoomIdentity:9,onClick:10,onWheel:11,onMousedown:12,onMouseup:13,onMouseover:14,onMouseout:15,onMousemove:16,onPinch:17,onTouchdown:18,onTouchmove:19,onTouchup:20,onTouchover:21,onTouchout:22,clip:23,renderer:24,blockReindexing:29,_testDummies:30,selectRectangle:31,updateSelectRectangle:32,resetSelectRectangle:33,startSelectPolygon:34,addPointToSelectPolygon:35,moveSelectPolygon:36,getSelectPolygon:37,resetSelectPolygon:38},[-1,-1])}get selectRectangle(){return this.$$.ctx[31]}get updateSelectRectangle(){return this.$$.ctx[32]}get resetSelectRectangle(){return this.$$.ctx[33]}get startSelectPolygon(){return this.$$.ctx[34]}get addPointToSelectPolygon(){return this.$$.ctx[35]}get moveSelectPolygon(){return this.$$.ctx[36]}get getSelectPolygon(){return this.$$.ctx[37]}get resetSelectPolygon(){return this.$$.ctx[38]}}const Ml=t=>({cells:32&t}),xl=t=>({cells:t[5]});function bl(t){let e;const n=t[11].default,o=c(n,t,t[12],xl);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&4128&e&&l(o,n,t,t[12],e,Ml,xl)},i(t){e||(G(o,t),e=!0)},o(t){J(o,t),e=!1},d(t){o&&o.d(t)}}}function $l(t){let e,n;return e=new hl({props:{x1:t[0],x2:t[1],y1:t[2],y2:t[3],padding:t[4],$$slots:{default:[bl]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,[n]){const o={};1&n&&(o.x1=t[0]),2&n&&(o.x2=t[1]),4&n&&(o.y1=t[2]),8&n&&(o.y2=t[3]),16&n&&(o.padding=t[4]),4128&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Tl(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{x1:s}=e,{x2:c}=e,{y1:u}=e,{y2:l}=e,{padding:h}=e,{numberOfCells:d}=e,{rows:f}=e,{columns:p}=e;const g=O("section");let m;return a(t,g,(t=>n(10,o=t))),t.$$set=t=>{"x1"in t&&n(0,s=t.x1),"x2"in t&&n(1,c=t.x2),"y1"in t&&n(2,u=t.y1),"y2"in t&&n(3,l=t.y2),"padding"in t&&n(4,h=t.padding),"numberOfCells"in t&&n(7,d=t.numberOfCells),"rows"in t&&n(8,f=t.rows),"columns"in t&&n(9,p=t.columns),"$$scope"in t&&n(12,r=t.$$scope)},t.$$.update=()=>{1920&t.$$.dirty&&n(5,m=oo({numberOfCells:d,rows:f,columns:p},o))},[s,c,u,l,h,m,g,d,f,p,o,i,r]}class _l extends nt{constructor(t){super(),et(this,t,Tl,$l,s,{x1:0,x2:1,y1:2,y2:3,padding:4,numberOfCells:7,rows:8,columns:9})}}function wl(t){let e;const n=t[37].default,o=c(n,t,t[39],null);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&256&e[1]&&l(o,n,t,t[39],e,null,null)},i(t){e||(G(o,t),e=!0)},o(t){J(o,t),e=!1},d(t){o&&o.d(t)}}}function Sl(t){let e,n,o={props:t[15],backgroundColor:t[0],id:t[16],createFunction:Qc,onClick:t[1],onWheel:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousemove:t[7],onPinch:t[8],onTouchdown:t[9],onTouchmove:t[10],onTouchup:t[11],onTouchover:t[12],onTouchout:t[13],$$slots:{default:[wl]},$$scope:{ctx:t}};return e=new sl({props:o}),t[38](e),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.props=t[15]),1&n[0]&&(o.backgroundColor=t[0]),2&n[0]&&(o.onClick=t[1]),4&n[0]&&(o.onWheel=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousemove=t[7]),256&n[0]&&(o.onPinch=t[8]),512&n[0]&&(o.onTouchdown=t[9]),1024&n[0]&&(o.onTouchmove=t[10]),2048&n[0]&&(o.onTouchup=t[11]),4096&n[0]&&(o.onTouchover=t[12]),8192&n[0]&&(o.onTouchout=t[13]),256&n[1]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(n){t[38](null),tt(e,n)}}}let Cl=0;function Ol(t,e,n){let{$$slots:o={},$$scope:i}=e;const r="psc"+Cl++;let s,{x:a}=e,{y:c}=e,{width:u}=e,{height:l}=e,{backgroundColor:h}=e,{coordinates:d}=e,{scaleX:f}=e,{scaleY:p}=e,{flipX:g=!1}=e,{flipY:m=!1}=e,{padding:y=0}=e,{zoomIdentity:k}=e,{onClick:v}=e,{onWheel:M}=e,{onMousedown:x}=e,{onMouseup:b}=e,{onMouseover:$}=e,{onMouseout:T}=e,{onMousemove:_}=e,{onPinch:w}=e,{onTouchdown:S}=e,{onTouchmove:C}=e,{onTouchup:O}=e,{onTouchover:A}=e,{onTouchout:P}=e,{clip:E="padding"}=e;let I;return t.$$set=t=>{"x"in t&&n(17,a=t.x),"y"in t&&n(18,c=t.y),"width"in t&&n(19,u=t.width),"height"in t&&n(20,l=t.height),"backgroundColor"in t&&n(0,h=t.backgroundColor),"coordinates"in t&&n(21,d=t.coordinates),"scaleX"in t&&n(22,f=t.scaleX),"scaleY"in t&&n(23,p=t.scaleY),"flipX"in t&&n(24,g=t.flipX),"flipY"in t&&n(25,m=t.flipY),"padding"in t&&n(26,y=t.padding),"zoomIdentity"in t&&n(27,k=t.zoomIdentity),"onClick"in t&&n(1,v=t.onClick),"onWheel"in t&&n(2,M=t.onWheel),"onMousedown"in t&&n(3,x=t.onMousedown),"onMouseup"in t&&n(4,b=t.onMouseup),"onMouseover"in t&&n(5,$=t.onMouseover),"onMouseout"in t&&n(6,T=t.onMouseout),"onMousemove"in t&&n(7,_=t.onMousemove),"onPinch"in t&&n(8,w=t.onPinch),"onTouchdown"in t&&n(9,S=t.onTouchdown),"onTouchmove"in t&&n(10,C=t.onTouchmove),"onTouchup"in t&&n(11,O=t.onTouchup),"onTouchover"in t&&n(12,A=t.onTouchover),"onTouchout"in t&&n(13,P=t.onTouchout),"clip"in t&&n(28,E=t.clip),"$$scope"in t&&n(39,i=t.$$scope)},t.$$.update=()=>{536739840&t.$$.dirty[0]&&n(15,I={x:a,y:c,width:u,height:l,coordinates:d,scaleX:f,scaleY:p,flipX:g,flipY:m,padding:y,zoomIdentity:k,clip:E})},[h,v,M,x,b,$,T,_,w,S,C,O,A,P,s,I,r,a,c,u,l,d,f,p,g,m,y,k,E,t=>s.getSM().selectRectangle(t),t=>s.getSM().updateSelectRectangle(t),()=>s.getSM().resetSelectRectangle(),t=>s.getSM().startSelectPolygon(t),t=>s.getSM().addPointToSelectPolygon(t),t=>s.getSM().moveSelectPolygon(t),()=>s.getSM().getSelectPolygon(),()=>s.getSM().resetSelectPolygon(),o,function(t){L[t?"unshift":"push"]((()=>{s=t,n(14,s)}))},i]}class Al extends nt{constructor(t){super(),et(this,t,Ol,Sl,s,{x:17,y:18,width:19,height:20,backgroundColor:0,coordinates:21,scaleX:22,scaleY:23,flipX:24,flipY:25,padding:26,zoomIdentity:27,onClick:1,onWheel:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousemove:7,onPinch:8,onTouchdown:9,onTouchmove:10,onTouchup:11,onTouchover:12,onTouchout:13,clip:28,selectRectangle:29,updateSelectRectangle:30,resetSelectRectangle:31,startSelectPolygon:32,addPointToSelectPolygon:33,moveSelectPolygon:34,getSelectPolygon:35,resetSelectPolygon:36},[-1,-1])}get selectRectangle(){return this.$$.ctx[29]}get updateSelectRectangle(){return this.$$.ctx[30]}get resetSelectRectangle(){return this.$$.ctx[31]}get startSelectPolygon(){return this.$$.ctx[32]}get addPointToSelectPolygon(){return this.$$.ctx[33]}get moveSelectPolygon(){return this.$$.ctx[34]}get getSelectPolygon(){return this.$$.ctx[35]}get resetSelectPolygon(){return this.$$.ctx[36]}}function Ll(t){let e,n;return e=new Zu({props:{positioning:t[15],aesthetics:t[16],createMark:Ma,parseAesthetics:ta,className:"area",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.positioning=t[15]),65536&n[0]&&(o.aesthetics=t[16]),1&n[0]&&(o.outputSettings=t[0]),2&n[0]&&(o.blockReindexing=t[1]),4&n[0]&&(o.onClick=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousedrag=t[7]),256&n[0]&&(o.onTouchdown=t[8]),512&n[0]&&(o.onTouchup=t[9]),1024&n[0]&&(o.onTouchover=t[10]),2048&n[0]&&(o.onTouchout=t[11]),4096&n[0]&&(o.onTouchdrag=t[12]),8192&n[0]&&(o.onSelect=t[13]),16384&n[0]&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Pl(t,e,n){let o,i,{x:r}=e,{y:s}=e,{x1:a}=e,{x2:c}=e,{y1:u}=e,{y2:l}=e,{curve:h}=e,{fill:d}=e,{stroke:f}=e,{strokeWidth:p}=e,{strokeOpacity:g}=e,{fillOpacity:m}=e,{opacity:y}=e,{lineCap:k}=e,{lineJoin:v}=e,{miterLimit:M}=e,{dashArray:x}=e,{dashOffset:b}=e,{outputSettings:$}=e,{clip:T}=e,{blockReindexing:_}=e,{onClick:w}=e,{onMousedown:S}=e,{onMouseup:C}=e,{onMouseover:O}=e,{onMouseout:A}=e,{onMousedrag:L}=e,{onTouchdown:P}=e,{onTouchup:E}=e,{onTouchover:I}=e,{onTouchout:X}=e,{onTouchdrag:R}=e,{onSelect:N}=e,{onDeselect:Y}=e;return t.$$set=t=>{"x"in t&&n(17,r=t.x),"y"in t&&n(18,s=t.y),"x1"in t&&n(19,a=t.x1),"x2"in t&&n(20,c=t.x2),"y1"in t&&n(21,u=t.y1),"y2"in t&&n(22,l=t.y2),"curve"in t&&n(23,h=t.curve),"fill"in t&&n(24,d=t.fill),"stroke"in t&&n(25,f=t.stroke),"strokeWidth"in t&&n(26,p=t.strokeWidth),"strokeOpacity"in t&&n(27,g=t.strokeOpacity),"fillOpacity"in t&&n(28,m=t.fillOpacity),"opacity"in t&&n(29,y=t.opacity),"lineCap"in t&&n(30,k=t.lineCap),"lineJoin"in t&&n(31,v=t.lineJoin),"miterLimit"in t&&n(32,M=t.miterLimit),"dashArray"in t&&n(33,x=t.dashArray),"dashOffset"in t&&n(34,b=t.dashOffset),"outputSettings"in t&&n(0,$=t.outputSettings),"clip"in t&&n(35,T=t.clip),"blockReindexing"in t&&n(1,_=t.blockReindexing),"onClick"in t&&n(2,w=t.onClick),"onMousedown"in t&&n(3,S=t.onMousedown),"onMouseup"in t&&n(4,C=t.onMouseup),"onMouseover"in t&&n(5,O=t.onMouseover),"onMouseout"in t&&n(6,A=t.onMouseout),"onMousedrag"in t&&n(7,L=t.onMousedrag),"onTouchdown"in t&&n(8,P=t.onTouchdown),"onTouchup"in t&&n(9,E=t.onTouchup),"onTouchover"in t&&n(10,I=t.onTouchover),"onTouchout"in t&&n(11,X=t.onTouchout),"onTouchdrag"in t&&n(12,R=t.onTouchdrag),"onSelect"in t&&n(13,N=t.onSelect),"onDeselect"in t&&n(14,Y=t.onDeselect)},t.$$.update=()=>{16646144&t.$$.dirty[0]&&n(15,o={x:r,y:s,x1:a,x2:c,y1:u,y2:l,curve:h}),2130706432&t.$$.dirty[0]|31&t.$$.dirty[1]&&n(16,i={fill:d,stroke:f,strokeWidth:p,strokeOpacity:g,fillOpacity:m,opacity:y,lineCap:k,lineJoin:v,miterLimit:M,dashArray:x,dashOffset:b,clip:T})},[$,_,w,S,C,O,A,L,P,E,I,X,R,N,Y,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,k,v,M,x,b,T]}class El extends nt{constructor(t){super(),et(this,t,Pl,Ll,s,{x:17,y:18,x1:19,x2:20,y1:21,y2:22,curve:23,fill:24,stroke:25,strokeWidth:26,strokeOpacity:27,fillOpacity:28,opacity:29,lineCap:30,lineJoin:31,miterLimit:32,dashArray:33,dashOffset:34,outputSettings:0,clip:35,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14},[-1,-1])}}function Il(t){let e,n;return e=new Zu({props:{positioning:t[15],aesthetics:t[16],createMark:qa,parseAesthetics:Ga,className:"funcline",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,[n]){const o={};32768&n&&(o.positioning=t[15]),65536&n&&(o.aesthetics=t[16]),1&n&&(o.outputSettings=t[0]),2&n&&(o.blockReindexing=t[1]),4&n&&(o.onClick=t[2]),8&n&&(o.onMousedown=t[3]),16&n&&(o.onMouseup=t[4]),32&n&&(o.onMouseover=t[5]),64&n&&(o.onMouseout=t[6]),128&n&&(o.onMousedrag=t[7]),256&n&&(o.onTouchdown=t[8]),512&n&&(o.onTouchup=t[9]),1024&n&&(o.onTouchover=t[10]),2048&n&&(o.onTouchout=t[11]),4096&n&&(o.onTouchdrag=t[12]),8192&n&&(o.onSelect=t[13]),16384&n&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Xl(t,e,n){let o,i,{func:r}=e,{x:s}=e,{resolution:a}=e,{stroke:c}=e,{strokeWidth:u}=e,{opacity:l}=e,{lineCap:h}=e,{lineJoin:d}=e,{miterLimit:f}=e,{dashArray:p}=e,{dashOffset:g}=e,{outputSettings:m}=e,{clip:y}=e,{blockReindexing:k}=e,{onClick:v}=e,{onMousedown:M}=e,{onMouseup:x}=e,{onMouseover:b}=e,{onMouseout:$}=e,{onMousedrag:T}=e,{onTouchdown:_}=e,{onTouchup:w}=e,{onTouchover:S}=e,{onTouchout:C}=e,{onTouchdrag:O}=e,{onSelect:A}=e,{onDeselect:L}=e;return t.$$set=t=>{"func"in t&&n(17,r=t.func),"x"in t&&n(18,s=t.x),"resolution"in t&&n(19,a=t.resolution),"stroke"in t&&n(20,c=t.stroke),"strokeWidth"in t&&n(21,u=t.strokeWidth),"opacity"in t&&n(22,l=t.opacity),"lineCap"in t&&n(23,h=t.lineCap),"lineJoin"in t&&n(24,d=t.lineJoin),"miterLimit"in t&&n(25,f=t.miterLimit),"dashArray"in t&&n(26,p=t.dashArray),"dashOffset"in t&&n(27,g=t.dashOffset),"outputSettings"in t&&n(0,m=t.outputSettings),"clip"in t&&n(28,y=t.clip),"blockReindexing"in t&&n(1,k=t.blockReindexing),"onClick"in t&&n(2,v=t.onClick),"onMousedown"in t&&n(3,M=t.onMousedown),"onMouseup"in t&&n(4,x=t.onMouseup),"onMouseover"in t&&n(5,b=t.onMouseover),"onMouseout"in t&&n(6,$=t.onMouseout),"onMousedrag"in t&&n(7,T=t.onMousedrag),"onTouchdown"in t&&n(8,_=t.onTouchdown),"onTouchup"in t&&n(9,w=t.onTouchup),"onTouchover"in t&&n(10,S=t.onTouchover),"onTouchout"in t&&n(11,C=t.onTouchout),"onTouchdrag"in t&&n(12,O=t.onTouchdrag),"onSelect"in t&&n(13,A=t.onSelect),"onDeselect"in t&&n(14,L=t.onDeselect)},t.$$.update=()=>{917504&t.$$.dirty&&n(15,o={func:r,x:s,resolution:a}),535822336&t.$$.dirty&&n(16,i={stroke:c,strokeWidth:u,opacity:l,lineCap:h,dashArray:p,lineJoin:d,miterLimit:f,dashOffset:g,clip:y})},[m,k,v,M,x,b,$,T,_,w,S,C,O,A,L,o,i,r,s,a,c,u,l,h,d,f,p,g,y]}class Rl extends nt{constructor(t){super(),et(this,t,Xl,Il,s,{func:17,x:18,resolution:19,stroke:20,strokeWidth:21,opacity:22,lineCap:23,lineJoin:24,miterLimit:25,dashArray:26,dashOffset:27,outputSettings:0,clip:28,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14})}}function Nl(t){let e,n;return e=new Zu({props:{positioning:t[15],aesthetics:t[16],createMark:rc,parseAesthetics:Za,className:"label",element:"text",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.positioning=t[15]),65536&n[0]&&(o.aesthetics=t[16]),1&n[0]&&(o.outputSettings=t[0]),2&n[0]&&(o.blockReindexing=t[1]),4&n[0]&&(o.onClick=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousedrag=t[7]),256&n[0]&&(o.onTouchdown=t[8]),512&n[0]&&(o.onTouchup=t[9]),1024&n[0]&&(o.onTouchover=t[10]),2048&n[0]&&(o.onTouchout=t[11]),4096&n[0]&&(o.onTouchdrag=t[12]),8192&n[0]&&(o.onSelect=t[13]),16384&n[0]&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Yl(t,e,n){let o,i,{x:r}=e,{y:s}=e,{geometry:a}=e,{rotate:c}=e,{anchorPoint:u}=e,{text:l}=e,{fontSize:h}=e,{fontFamily:d}=e,{fontWeight:f}=e,{fill:p}=e,{stroke:g}=e,{strokeWidth:m}=e,{strokeOpacity:y}=e,{fillOpacity:k}=e,{opacity:v}=e,{outputSettings:M}=e,{clip:x}=e,{blockReindexing:b}=e,{onClick:$}=e,{onMousedown:T}=e,{onMouseup:_}=e,{onMouseover:w}=e,{onMouseout:S}=e,{onMousedrag:C}=e,{onTouchdown:O}=e,{onTouchup:A}=e,{onTouchover:L}=e,{onTouchout:P}=e,{onTouchdrag:E}=e,{onSelect:I}=e,{onDeselect:X}=e;return t.$$set=t=>{"x"in t&&n(17,r=t.x),"y"in t&&n(18,s=t.y),"geometry"in t&&n(19,a=t.geometry),"rotate"in t&&n(20,c=t.rotate),"anchorPoint"in t&&n(21,u=t.anchorPoint),"text"in t&&n(22,l=t.text),"fontSize"in t&&n(23,h=t.fontSize),"fontFamily"in t&&n(24,d=t.fontFamily),"fontWeight"in t&&n(25,f=t.fontWeight),"fill"in t&&n(26,p=t.fill),"stroke"in t&&n(27,g=t.stroke),"strokeWidth"in t&&n(28,m=t.strokeWidth),"strokeOpacity"in t&&n(29,y=t.strokeOpacity),"fillOpacity"in t&&n(30,k=t.fillOpacity),"opacity"in t&&n(31,v=t.opacity),"outputSettings"in t&&n(0,M=t.outputSettings),"clip"in t&&n(32,x=t.clip),"blockReindexing"in t&&n(1,b=t.blockReindexing),"onClick"in t&&n(2,$=t.onClick),"onMousedown"in t&&n(3,T=t.onMousedown),"onMouseup"in t&&n(4,_=t.onMouseup),"onMouseover"in t&&n(5,w=t.onMouseover),"onMouseout"in t&&n(6,S=t.onMouseout),"onMousedrag"in t&&n(7,C=t.onMousedrag),"onTouchdown"in t&&n(8,O=t.onTouchdown),"onTouchup"in t&&n(9,A=t.onTouchup),"onTouchover"in t&&n(10,L=t.onTouchover),"onTouchout"in t&&n(11,P=t.onTouchout),"onTouchdrag"in t&&n(12,E=t.onTouchdrag),"onSelect"in t&&n(13,I=t.onSelect),"onDeselect"in t&&n(14,X=t.onDeselect)},t.$$.update=()=>{16646144&t.$$.dirty[0]&&n(15,o={x:r,y:s,geometry:a,rotate:c,anchorPoint:u,text:l,fontSize:h}),2145386496&t.$$.dirty[0]|3&t.$$.dirty[1]&&n(16,i={anchorPoint:u,text:l,fontSize:h,fontFamily:d,fontWeight:f,fill:p,stroke:g,strokeWidth:m,strokeOpacity:y,fillOpacity:k,opacity:v,clip:x})},[M,b,$,T,_,w,S,C,O,A,L,P,E,I,X,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,k,v,x]}class Wl extends nt{constructor(t){super(),et(this,t,Yl,Nl,s,{x:17,y:18,geometry:19,rotate:20,anchorPoint:21,text:22,fontSize:23,fontFamily:24,fontWeight:25,fill:26,stroke:27,strokeWidth:28,strokeOpacity:29,fillOpacity:30,opacity:31,outputSettings:0,clip:32,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14},[-1,-1])}}function Hl(t){let e,n;return e=new Zu({props:{positioning:t[15],aesthetics:t[16],createMark:za,parseAesthetics:Ra,className:"line",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,[n]){const o={};32768&n&&(o.positioning=t[15]),65536&n&&(o.aesthetics=t[16]),1&n&&(o.outputSettings=t[0]),2&n&&(o.blockReindexing=t[1]),4&n&&(o.onClick=t[2]),8&n&&(o.onMousedown=t[3]),16&n&&(o.onMouseup=t[4]),32&n&&(o.onMouseover=t[5]),64&n&&(o.onMouseout=t[6]),128&n&&(o.onMousedrag=t[7]),256&n&&(o.onTouchdown=t[8]),512&n&&(o.onTouchup=t[9]),1024&n&&(o.onTouchover=t[10]),2048&n&&(o.onTouchout=t[11]),4096&n&&(o.onTouchdrag=t[12]),8192&n&&(o.onSelect=t[13]),16384&n&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Dl(t,e,n){let o,i,{x:r}=e,{y:s}=e,{geometry:a}=e,{curve:c}=e,{_resampleIntervals:u}=e,{stroke:l}=e,{strokeWidth:h}=e,{opacity:d}=e,{lineCap:f}=e,{lineJoin:p}=e,{miterLimit:g}=e,{dashArray:m}=e,{dashOffset:y}=e,{outputSettings:k}=e,{clip:v}=e,{blockReindexing:M}=e,{onClick:x}=e,{onMousedown:b}=e,{onMouseup:$}=e,{onMouseover:T}=e,{onMouseout:_}=e,{onMousedrag:w}=e,{onTouchdown:S}=e,{onTouchup:C}=e,{onTouchover:O}=e,{onTouchout:A}=e,{onTouchdrag:L}=e,{onSelect:P}=e,{onDeselect:E}=e;return t.$$set=t=>{"x"in t&&n(17,r=t.x),"y"in t&&n(18,s=t.y),"geometry"in t&&n(19,a=t.geometry),"curve"in t&&n(20,c=t.curve),"_resampleIntervals"in t&&n(21,u=t._resampleIntervals),"stroke"in t&&n(22,l=t.stroke),"strokeWidth"in t&&n(23,h=t.strokeWidth),"opacity"in t&&n(24,d=t.opacity),"lineCap"in t&&n(25,f=t.lineCap),"lineJoin"in t&&n(26,p=t.lineJoin),"miterLimit"in t&&n(27,g=t.miterLimit),"dashArray"in t&&n(28,m=t.dashArray),"dashOffset"in t&&n(29,y=t.dashOffset),"outputSettings"in t&&n(0,k=t.outputSettings),"clip"in t&&n(30,v=t.clip),"blockReindexing"in t&&n(1,M=t.blockReindexing),"onClick"in t&&n(2,x=t.onClick),"onMousedown"in t&&n(3,b=t.onMousedown),"onMouseup"in t&&n(4,$=t.onMouseup),"onMouseover"in t&&n(5,T=t.onMouseover),"onMouseout"in t&&n(6,_=t.onMouseout),"onMousedrag"in t&&n(7,w=t.onMousedrag),"onTouchdown"in t&&n(8,S=t.onTouchdown),"onTouchup"in t&&n(9,C=t.onTouchup),"onTouchover"in t&&n(10,O=t.onTouchover),"onTouchout"in t&&n(11,A=t.onTouchout),"onTouchdrag"in t&&n(12,L=t.onTouchdrag),"onSelect"in t&&n(13,P=t.onSelect),"onDeselect"in t&&n(14,E=t.onDeselect)},t.$$.update=()=>{4063232&t.$$.dirty&&n(15,o={x:r,y:s,geometry:a,curve:c,_resampleIntervals:u}),2143289344&t.$$.dirty&&n(16,i={stroke:l,strokeWidth:h,opacity:d,lineCap:f,dashArray:m,lineJoin:p,miterLimit:g,dashOffset:y,clip:v})},[k,M,x,b,$,T,_,w,S,C,O,A,L,P,E,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,v]}class Bl extends nt{constructor(t){super(),et(this,t,Dl,Hl,s,{x:17,y:18,geometry:19,curve:20,_resampleIntervals:21,stroke:22,strokeWidth:23,opacity:24,lineCap:25,lineJoin:26,miterLimit:27,dashArray:28,dashOffset:29,outputSettings:0,clip:30,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14})}}function Fl(t){let e,n;return e=new Zu({props:{positioning:t[15],aesthetics:t[16],createMark:hc,parseAesthetics:zs,className:"point",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,[n]){const o={};32768&n&&(o.positioning=t[15]),65536&n&&(o.aesthetics=t[16]),1&n&&(o.outputSettings=t[0]),2&n&&(o.blockReindexing=t[1]),4&n&&(o.onClick=t[2]),8&n&&(o.onMousedown=t[3]),16&n&&(o.onMouseup=t[4]),32&n&&(o.onMouseover=t[5]),64&n&&(o.onMouseout=t[6]),128&n&&(o.onMousedrag=t[7]),256&n&&(o.onTouchdown=t[8]),512&n&&(o.onTouchup=t[9]),1024&n&&(o.onTouchover=t[10]),2048&n&&(o.onTouchout=t[11]),4096&n&&(o.onTouchdrag=t[12]),8192&n&&(o.onSelect=t[13]),16384&n&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function zl(t,e,n){let o,i,{x:r}=e,{y:s}=e,{geometry:a}=e,{radius:c}=e,{fill:u}=e,{stroke:l}=e,{strokeWidth:h}=e,{strokeOpacity:d}=e,{fillOpacity:f}=e,{opacity:p}=e,{lineCap:g}=e,{dashArray:m}=e,{dashOffset:y}=e,{outputSettings:k}=e,{clip:v}=e,{blockReindexing:M}=e,{onClick:x}=e,{onMousedown:b}=e,{onMouseup:$}=e,{onMouseover:T}=e,{onMouseout:_}=e,{onMousedrag:w}=e,{onTouchdown:S}=e,{onTouchup:C}=e,{onTouchover:O}=e,{onTouchout:A}=e,{onTouchdrag:L}=e,{onSelect:P}=e,{onDeselect:E}=e;return t.$$set=t=>{"x"in t&&n(17,r=t.x),"y"in t&&n(18,s=t.y),"geometry"in t&&n(19,a=t.geometry),"radius"in t&&n(20,c=t.radius),"fill"in t&&n(21,u=t.fill),"stroke"in t&&n(22,l=t.stroke),"strokeWidth"in t&&n(23,h=t.strokeWidth),"strokeOpacity"in t&&n(24,d=t.strokeOpacity),"fillOpacity"in t&&n(25,f=t.fillOpacity),"opacity"in t&&n(26,p=t.opacity),"lineCap"in t&&n(27,g=t.lineCap),"dashArray"in t&&n(28,m=t.dashArray),"dashOffset"in t&&n(29,y=t.dashOffset),"outputSettings"in t&&n(0,k=t.outputSettings),"clip"in t&&n(30,v=t.clip),"blockReindexing"in t&&n(1,M=t.blockReindexing),"onClick"in t&&n(2,x=t.onClick),"onMousedown"in t&&n(3,b=t.onMousedown),"onMouseup"in t&&n(4,$=t.onMouseup),"onMouseover"in t&&n(5,T=t.onMouseover),"onMouseout"in t&&n(6,_=t.onMouseout),"onMousedrag"in t&&n(7,w=t.onMousedrag),"onTouchdown"in t&&n(8,S=t.onTouchdown),"onTouchup"in t&&n(9,C=t.onTouchup),"onTouchover"in t&&n(10,O=t.onTouchover),"onTouchout"in t&&n(11,A=t.onTouchout),"onTouchdrag"in t&&n(12,L=t.onTouchdrag),"onSelect"in t&&n(13,P=t.onSelect),"onDeselect"in t&&n(14,E=t.onDeselect)},t.$$.update=()=>{1966080&t.$$.dirty&&n(15,o={x:r,y:s,geometry:a,radius:c}),2145386496&t.$$.dirty&&n(16,i={fill:u,stroke:l,strokeWidth:h,strokeOpacity:d,fillOpacity:f,opacity:p,lineCap:g,dashArray:m,dashOffset:y,clip:v})},[k,M,x,b,$,T,_,w,S,C,O,A,L,P,E,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,v]}class jl extends nt{constructor(t){super(),et(this,t,zl,Fl,s,{x:17,y:18,geometry:19,radius:20,fill:21,stroke:22,strokeWidth:23,strokeOpacity:24,fillOpacity:25,opacity:26,lineCap:27,dashArray:28,dashOffset:29,outputSettings:0,clip:30,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14})}}function Gl(t){let e,n;return e=new Zu({props:{positioning:t[15],aesthetics:t[16],createMark:gc,parseAesthetics:qs,className:"polygon",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.positioning=t[15]),65536&n[0]&&(o.aesthetics=t[16]),1&n[0]&&(o.outputSettings=t[0]),2&n[0]&&(o.blockReindexing=t[1]),4&n[0]&&(o.onClick=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousedrag=t[7]),256&n[0]&&(o.onTouchdown=t[8]),512&n[0]&&(o.onTouchup=t[9]),1024&n[0]&&(o.onTouchover=t[10]),2048&n[0]&&(o.onTouchout=t[11]),4096&n[0]&&(o.onTouchdrag=t[12]),8192&n[0]&&(o.onSelect=t[13]),16384&n[0]&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Jl(t,e,n){let o,i,{x:r}=e,{y:s}=e,{geometry:a}=e,{fill:c}=e,{stroke:u}=e,{strokeWidth:l}=e,{strokeOpacity:h}=e,{fillOpacity:d}=e,{opacity:f}=e,{lineCap:p}=e,{lineJoin:g}=e,{miterLimit:m}=e,{dashArray:y}=e,{dashOffset:k}=e,{outputSettings:v}=e,{clip:M}=e,{blockReindexing:x}=e,{onClick:b}=e,{onMousedown:$}=e,{onMouseup:T}=e,{onMouseover:_}=e,{onMouseout:w}=e,{onMousedrag:S}=e,{onTouchdown:C}=e,{onTouchup:O}=e,{onTouchover:A}=e,{onTouchout:L}=e,{onTouchdrag:P}=e,{onSelect:E}=e,{onDeselect:I}=e;return t.$$set=t=>{"x"in t&&n(17,r=t.x),"y"in t&&n(18,s=t.y),"geometry"in t&&n(19,a=t.geometry),"fill"in t&&n(20,c=t.fill),"stroke"in t&&n(21,u=t.stroke),"strokeWidth"in t&&n(22,l=t.strokeWidth),"strokeOpacity"in t&&n(23,h=t.strokeOpacity),"fillOpacity"in t&&n(24,d=t.fillOpacity),"opacity"in t&&n(25,f=t.opacity),"lineCap"in t&&n(26,p=t.lineCap),"lineJoin"in t&&n(27,g=t.lineJoin),"miterLimit"in t&&n(28,m=t.miterLimit),"dashArray"in t&&n(29,y=t.dashArray),"dashOffset"in t&&n(30,k=t.dashOffset),"outputSettings"in t&&n(0,v=t.outputSettings),"clip"in t&&n(31,M=t.clip),"blockReindexing"in t&&n(1,x=t.blockReindexing),"onClick"in t&&n(2,b=t.onClick),"onMousedown"in t&&n(3,$=t.onMousedown),"onMouseup"in t&&n(4,T=t.onMouseup),"onMouseover"in t&&n(5,_=t.onMouseover),"onMouseout"in t&&n(6,w=t.onMouseout),"onMousedrag"in t&&n(7,S=t.onMousedrag),"onTouchdown"in t&&n(8,C=t.onTouchdown),"onTouchup"in t&&n(9,O=t.onTouchup),"onTouchover"in t&&n(10,A=t.onTouchover),"onTouchout"in t&&n(11,L=t.onTouchout),"onTouchdrag"in t&&n(12,P=t.onTouchdrag),"onSelect"in t&&n(13,E=t.onSelect),"onDeselect"in t&&n(14,I=t.onDeselect)},t.$$.update=()=>{917504&t.$$.dirty[0]&&n(15,o={x:r,y:s,geometry:a}),2146435072&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(16,i={fill:c,stroke:u,strokeWidth:l,strokeOpacity:h,fillOpacity:d,opacity:f,lineCap:p,lineJoin:g,miterLimit:m,dashArray:y,dashOffset:k,clip:M})},[v,x,b,$,T,_,w,S,C,O,A,L,P,E,I,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,k,M]}class ql extends nt{constructor(t){super(),et(this,t,Jl,Gl,s,{x:17,y:18,geometry:19,fill:20,stroke:21,strokeWidth:22,strokeOpacity:23,fillOpacity:24,opacity:25,lineCap:26,lineJoin:27,miterLimit:28,dashArray:29,dashOffset:30,outputSettings:0,clip:31,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14},[-1,-1])}}function Vl(t){let e,n;return e=new Zu({props:{positioning:t[15],aesthetics:t[16],createMark:eu,parseAesthetics:Ec,className:"symbol",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.positioning=t[15]),65536&n[0]&&(o.aesthetics=t[16]),1&n[0]&&(o.outputSettings=t[0]),2&n[0]&&(o.blockReindexing=t[1]),4&n[0]&&(o.onClick=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousedrag=t[7]),256&n[0]&&(o.onTouchdown=t[8]),512&n[0]&&(o.onTouchup=t[9]),1024&n[0]&&(o.onTouchover=t[10]),2048&n[0]&&(o.onTouchout=t[11]),4096&n[0]&&(o.onTouchdrag=t[12]),8192&n[0]&&(o.onSelect=t[13]),16384&n[0]&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Kl(t,e,n){let o,i,{x:r}=e,{y:s}=e,{geometry:a}=e,{shape:c}=e,{radius:u}=e,{fill:l}=e,{stroke:h}=e,{strokeWidth:d}=e,{strokeOpacity:f}=e,{fillOpacity:p}=e,{opacity:g}=e,{lineCap:m}=e,{lineJoin:y}=e,{miterLimit:k}=e,{dashArray:v}=e,{dashOffset:M}=e,{outputSettings:x}=e,{clip:b}=e,{blockReindexing:$}=e,{onClick:T}=e,{onMousedown:_}=e,{onMouseup:w}=e,{onMouseover:S}=e,{onMouseout:C}=e,{onMousedrag:O}=e,{onTouchdown:A}=e,{onTouchup:L}=e,{onTouchover:P}=e,{onTouchout:E}=e,{onTouchdrag:I}=e,{onSelect:X}=e,{onDeselect:R}=e;return t.$$set=t=>{"x"in t&&n(17,r=t.x),"y"in t&&n(18,s=t.y),"geometry"in t&&n(19,a=t.geometry),"shape"in t&&n(20,c=t.shape),"radius"in t&&n(21,u=t.radius),"fill"in t&&n(22,l=t.fill),"stroke"in t&&n(23,h=t.stroke),"strokeWidth"in t&&n(24,d=t.strokeWidth),"strokeOpacity"in t&&n(25,f=t.strokeOpacity),"fillOpacity"in t&&n(26,p=t.fillOpacity),"opacity"in t&&n(27,g=t.opacity),"lineCap"in t&&n(28,m=t.lineCap),"lineJoin"in t&&n(29,y=t.lineJoin),"miterLimit"in t&&n(30,k=t.miterLimit),"dashArray"in t&&n(31,v=t.dashArray),"dashOffset"in t&&n(32,M=t.dashOffset),"outputSettings"in t&&n(0,x=t.outputSettings),"clip"in t&&n(33,b=t.clip),"blockReindexing"in t&&n(1,$=t.blockReindexing),"onClick"in t&&n(2,T=t.onClick),"onMousedown"in t&&n(3,_=t.onMousedown),"onMouseup"in t&&n(4,w=t.onMouseup),"onMouseover"in t&&n(5,S=t.onMouseover),"onMouseout"in t&&n(6,C=t.onMouseout),"onMousedrag"in t&&n(7,O=t.onMousedrag),"onTouchdown"in t&&n(8,A=t.onTouchdown),"onTouchup"in t&&n(9,L=t.onTouchup),"onTouchover"in t&&n(10,P=t.onTouchover),"onTouchout"in t&&n(11,E=t.onTouchout),"onTouchdrag"in t&&n(12,I=t.onTouchdrag),"onSelect"in t&&n(13,X=t.onSelect),"onDeselect"in t&&n(14,R=t.onDeselect)},t.$$.update=()=>{4063232&t.$$.dirty[0]&&n(15,o={x:r,y:s,geometry:a,shape:c,radius:u}),2143289344&t.$$.dirty[0]|7&t.$$.dirty[1]&&n(16,i={fill:l,stroke:h,strokeWidth:d,strokeOpacity:f,fillOpacity:p,opacity:g,lineCap:m,lineJoin:y,miterLimit:k,dashArray:v,dashOffset:M,clip:b})},[x,$,T,_,w,S,C,O,A,L,P,E,I,X,R,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,k,v,M,b]}class Ul extends nt{constructor(t){super(),et(this,t,Kl,Vl,s,{x:17,y:18,geometry:19,shape:20,radius:21,fill:22,stroke:23,strokeWidth:24,strokeOpacity:25,fillOpacity:26,opacity:27,lineCap:28,lineJoin:29,miterLimit:30,dashArray:31,dashOffset:32,outputSettings:0,clip:33,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14},[-1,-1])}}function Zl(t,e,n){const o=t.slice();return o[49]=e[n],o[51]=n,o}function Ql(t,e,n){const o=t.slice();return o[49]=e[n],o}function th(t,e,n){const o=t.slice();return o[49]=e[n],o[51]=n,o}function eh(t,e,n){const o=t.slice();return o[49]=e[n],o}function nh(t){let e,n=t[4],o=[];for(let e=0;e<n.length;e+=1)o[e]=oh(eh(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=v()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);d(t,e,n)},p(t,i){if(18&i[0]){let r;for(n=t[4],r=0;r<n.length;r+=1){const s=eh(t,n,r);o[r]?o[r].p(s,i):(o[r]=oh(s),o[r].c(),o[r].m(e.parentNode,e))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(t){p(o,t),t&&f(e)}}}function oh(t){let n,o,i=[t[49],{"data-testid":o=Gu(`${t[1]}-mark`)}],r={};for(let t=0;t<i.length;t+=1)r=e(r,i[t]);return{c(){n=m("path"),x(n,r)},m(t,e){d(t,n,e)},p(t,e){x(n,r=K(i,[16&e[0]&&t[49],2&e[0]&&o!==(o=Gu(`${t[1]}-mark`))&&{"data-testid":o}]))},d(t){t&&f(n)}}}function ih(t){let e,n=[],o=new Map,i=t[4];const r=t=>t[0].keys[t[51]];for(let e=0;e<i.length;e+=1){let s=th(t,i,e),a=r(s);o.set(a,n[e]=rh(a,s))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=v()},m(t,o){for(let e=0;e<n.length;e+=1)n[e].m(t,o);d(t,e,o)},p(t,i){if(19&i[0]){const s=t[4];n=V(n,i,r,1,t,s,o,e.parentNode,q,rh,e,th)}},d(t){for(let e=0;e<n.length;e+=1)n[e].d(t);t&&f(e)}}}function rh(t,n){let o,i,r=[n[49],{"data-testid":i=Gu(`${n[1]}-mark`)}],s={};for(let t=0;t<r.length;t+=1)s=e(s,r[t]);return{key:t,first:null,c(){o=m("path"),x(o,s),this.first=o},m(t,e){d(t,o,e)},p(t,e){x(o,s=K(r,[16&e[0]&&t[49],2&e[0]&&i!==(i=Gu(`${t[1]}-mark`))&&{"data-testid":i}]))},d(t){t&&f(o)}}}function sh(t){let e,n=t[4],o=[];for(let e=0;e<n.length;e+=1)o[e]=ah(Ql(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=v()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);d(t,e,n)},p(t,i){if(18&i[0]){let r;for(n=t[4],r=0;r<n.length;r+=1){const s=Ql(t,n,r);o[r]?o[r].p(s,i):(o[r]=ah(s),o[r].c(),o[r].m(e.parentNode,e))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(t){p(o,t),t&&f(e)}}}function ah(t){let n,o,i,r=t[49].text+"",s=[t[49],{text:void 0},{"data-testid":i=Gu(`${t[1]}-mark`)}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=m("text"),o=y(r),x(n,a)},m(t,e){d(t,n,e),h(n,o)},p(t,e){16&e[0]&&r!==(r=t[49].text+"")&&b(o,r),x(n,a=K(s,[16&e[0]&&t[49],{text:void 0},2&e[0]&&i!==(i=Gu(`${t[1]}-mark`))&&{"data-testid":i}]))},d(t){t&&f(n)}}}function ch(t){let e,n=[],o=new Map,i=t[4];const r=t=>t[0].keys[t[51]];for(let e=0;e<i.length;e+=1){let s=Zl(t,i,e),a=r(s);o.set(a,n[e]=uh(a,s))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=v()},m(t,o){for(let e=0;e<n.length;e+=1)n[e].m(t,o);d(t,e,o)},p(t,i){if(19&i[0]){const s=t[4];n=V(n,i,r,1,t,s,o,e.parentNode,q,uh,e,Zl)}},d(t){for(let e=0;e<n.length;e+=1)n[e].d(t);t&&f(e)}}}function uh(t,n){let o,i,r,s=n[49].text+"",a=[n[49],{text:void 0},{"data-testid":r=Gu(`${n[1]}-mark`)}],c={};for(let t=0;t<a.length;t+=1)c=e(c,a[t]);return{key:t,first:null,c(){o=m("text"),i=y(s),x(o,c),this.first=o},m(t,e){d(t,o,e),h(o,i)},p(t,e){16&e[0]&&s!==(s=t[49].text+"")&&b(i,s),x(o,c=K(a,[16&e[0]&&t[49],{text:void 0},2&e[0]&&r!==(r=Gu(`${t[1]}-mark`))&&{"data-testid":r}]))},d(t){t&&f(o)}}}function lh(e){let n,o,i="svg"===e[5]&&function(t){let e,n,o,i,r,s,a="path"===t[2]&&void 0===t[0].keys&&nh(t),c="path"===t[2]&&void 0!==t[0].keys&&ih(t),u="text"===t[2]&&void 0===t[0].keys&&sh(t),l="text"===t[2]&&void 0!==t[0].keys&&ch(t);return{c(){e=m("g"),a&&a.c(),n=v(),c&&c.c(),o=v(),u&&u.c(),i=v(),l&&l.c(),M(e,"class",t[1]),M(e,"clip-path",r=Go(t[0],t[3])),M(e,"data-testid",s=Gu(t[1]))},m(t,r){d(t,e,r),a&&a.m(e,null),h(e,n),c&&c.m(e,null),h(e,o),u&&u.m(e,null),h(e,i),l&&l.m(e,null)},p(t,h){"path"===t[2]&&void 0===t[0].keys?a?a.p(t,h):(a=nh(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),"path"===t[2]&&void 0!==t[0].keys?c?c.p(t,h):(c=ih(t),c.c(),c.m(e,o)):c&&(c.d(1),c=null),"text"===t[2]&&void 0===t[0].keys?u?u.p(t,h):(u=sh(t),u.c(),u.m(e,i)):u&&(u.d(1),u=null),"text"===t[2]&&void 0!==t[0].keys?l?l.p(t,h):(l=ch(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),2&h[0]&&M(e,"class",t[1]),9&h[0]&&r!==(r=Go(t[0],t[3]))&&M(e,"clip-path",r),2&h[0]&&s!==(s=Gu(t[1]))&&M(e,"data-testid",s)},d(t){t&&f(e),a&&a.d(),c&&c.d(),u&&u.d(),l&&l.d()}}}(e),r="canvas"===e[5]&&function(e){let n;return{c(){n=y(e[9])},m(t,e){d(t,n,e)},p:t,d(t){t&&f(n)}}}(e);return{c(){i&&i.c(),n=k(),r&&r.c(),o=v()},m(t,e){i&&i.m(t,e),d(t,n,e),r&&r.m(t,e),d(t,o,e)},p(t,e){"svg"===t[5]&&i.p(t,e),"canvas"===t[5]&&r.p(t,e)},i:t,o:t,d(t){i&&i.d(t),t&&f(n),r&&r.d(t),t&&f(o)}}}let hh=0;function dh(t,e,n){let o,i,r,{positioning:s}=e,{aesthetics:c}=e,{createLayer:u}=e,{parseAesthetics:l}=e,{className:h}=e,{element:d="path"}=e,{outputSettings:f}=e,{blockReindexing:p}=e,{onClick:g}=e,{onMousedown:m}=e,{onMouseup:y}=e,{onMouseover:k}=e,{onMouseout:v}=e,{onMousedrag:M}=e,{onTouchdown:x}=e,{onTouchup:b}=e,{onTouchover:$}=e,{onTouchout:T}=e,{onTouchdrag:_}=e,{onSelect:C}=e,{onDeselect:A}=e;const{renderer:L,marksAndLayers:P,dirty:E,globalBlockReindexing:I}=O("graphic");a(t,I,(t=>n(39,r=t)));const X=O("section");a(t,X,(t=>n(3,o=t)));const R=O("interactionManager");a(t,R,(t=>n(33,i=t)));const N="l"+hh++,Y="path"===d?No.pathLayer:No.textLayer;let W;w((()=>{W=!0,"canvas"===L&&E.set(!0),Z()}));const H=()=>W;let D,B,F=z();function z(){let t=u(vu(s,c),o,f);return t.id=N,t}P[N]=F,"svg"===L&&(D=Y(),F.render(D),B=D.result());let j,G,J,q,V=!1,K=!1;function U(){H()&&n(30,V=!0)}function Z(){if(void 0===p){if(r)return}else if(!0===p)return;if(G||J){if(function(){if("mouse"===j){const t=i.mouse().marks();t.layerIsLoaded(F)&&(t.removeAllLayerInteractions(F),t.removeLayer(F))}if("touch"===j){const t=i.touch().marks();t.layerIsLoaded(F)&&(t.removeAllLayerInteractions(F),t.removeLayer(F))}}(),G){const t=i.mouse().marks();t.loadLayer(F),g&&t.addLayerInteraction("click",F,g),m&&t.addLayerInteraction("mousedown",F,m),y&&t.addLayerInteraction("mouseup",F,y),v&&t.addLayerInteraction("mouseout",F,v),k&&t.addLayerInteraction("mouseover",F,k),M&&t.addLayerInteraction("mousedrag",F,M)}if(J){const t=i.touch().marks();t.loadLayer(F),x&&t.addLayerInteraction("touchdown",F,x),b&&t.addLayerInteraction("touchup",F,b),$&&t.addLayerInteraction("touchover",F,$),T&&t.addLayerInteraction("touchout",F,T),_&&t.addLayerInteraction("touchdrag",F,_)}}if(function(){const t=i.select();t.layerIsLoaded(F)&&t.removeLayer(F)}(),q){i.select().loadLayer(F,{onSelect:C,onDeselect:A})}}return S((()=>{"canvas"===L&&(delete P[N],E.set(!0))})),t.$$set=t=>{"positioning"in t&&n(10,s=t.positioning),"aesthetics"in t&&n(0,c=t.aesthetics),"createLayer"in t&&n(11,u=t.createLayer),"parseAesthetics"in t&&n(12,l=t.parseAesthetics),"className"in t&&n(1,h=t.className),"element"in t&&n(2,d=t.element),"outputSettings"in t&&n(13,f=t.outputSettings),"blockReindexing"in t&&n(14,p=t.blockReindexing),"onClick"in t&&n(15,g=t.onClick),"onMousedown"in t&&n(16,m=t.onMousedown),"onMouseup"in t&&n(17,y=t.onMouseup),"onMouseover"in t&&n(18,k=t.onMouseover),"onMouseout"in t&&n(19,v=t.onMouseout),"onMousedrag"in t&&n(20,M=t.onMousedrag),"onTouchdown"in t&&n(21,x=t.onTouchdown),"onTouchup"in t&&n(22,b=t.onTouchup),"onTouchover"in t&&n(23,$=t.onTouchover),"onTouchout"in t&&n(24,T=t.onTouchout),"onTouchdrag"in t&&n(25,_=t.onTouchdrag),"onSelect"in t&&n(26,C=t.onSelect),"onDeselect"in t&&n(27,A=t.onDeselect)},t.$$.update=()=>{if(1024&t.$$.dirty[0]&&s&&U(),1&t.$$.dirty[0]&&c&&H()&&n(31,K=!0),8200&t.$$.dirty[0]&&(o||f)&&U(),1879052289&t.$$.dirty[0]|1&t.$$.dirty[1]){if(V&&(n(28,F=z()),"svg"===L&&(n(29,D=Y()),F.render(D),n(4,B=D.result())),"canvas"===L&&(P[N]=F,E.set(!0)),Z()),!V&&K){const t=l(c),e=F.props.strokeWidth!==t.strokeWidth,o=F.props.clip!==t.clip;F.updateAesthetics(t),(e||o)&&Z(),"svg"===L&&(n(29,D=Y()),F.render(D),n(4,B=D.result())),"canvas"===L&&E.set(!0)}n(30,V=!1),n(31,K=!1)}4&t.$$.dirty[1]&&n(32,j=i.getPrimaryInput()),2064384&t.$$.dirty[0]|2&t.$$.dirty[1]&&(G="mouse"===j&&ku(g,m,y,k,v,M)),65011712&t.$$.dirty[0]|2&t.$$.dirty[1]&&(J="touch"===j&&ku(x,b,$,T,_)),201326592&t.$$.dirty[0]&&(q=ku(C,A))},[c,h,d,o,B,L,I,X,R,N,s,u,l,f,p,g,m,y,k,v,M,x,b,$,T,_,C,A,F,D,V,K,j,i]}class fh extends nt{constructor(t){super(),et(this,t,dh,lh,s,{positioning:10,aesthetics:0,createLayer:11,parseAesthetics:12,className:1,element:2,outputSettings:13,blockReindexing:14,onClick:15,onMousedown:16,onMouseup:17,onMouseover:18,onMouseout:19,onMousedrag:20,onTouchdown:21,onTouchup:22,onTouchover:23,onTouchout:24,onTouchdrag:25,onSelect:26,onDeselect:27},[-1,-1])}}function ph(t){let e,n;return e=new fh({props:{positioning:t[15],aesthetics:t[16],createLayer:fc,parseAesthetics:js,className:"point-layer",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.positioning=t[15]),65536&n[0]&&(o.aesthetics=t[16]),1&n[0]&&(o.outputSettings=t[0]),2&n[0]&&(o.blockReindexing=t[1]),4&n[0]&&(o.onClick=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousedrag=t[7]),256&n[0]&&(o.onTouchdown=t[8]),512&n[0]&&(o.onTouchup=t[9]),1024&n[0]&&(o.onTouchover=t[10]),2048&n[0]&&(o.onTouchout=t[11]),4096&n[0]&&(o.onTouchdrag=t[12]),8192&n[0]&&(o.onSelect=t[13]),16384&n[0]&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function gh(t,e,n){let o,i,{x:r}=e,{y:s}=e,{geometry:a}=e,{radius:c}=e,{fill:u}=e,{stroke:l}=e,{strokeWidth:h}=e,{strokeOpacity:d}=e,{fillOpacity:f}=e,{opacity:p}=e,{lineCap:g}=e,{dashArray:m}=e,{dashOffset:y}=e,{outputSettings:k}=e,{clip:v}=e,{keys:M}=e,{asOnePath:x}=e,{blockReindexing:b}=e,{onClick:$}=e,{onMousedown:T}=e,{onMouseup:_}=e,{onMouseover:w}=e,{onMouseout:S}=e,{onMousedrag:C}=e,{onTouchdown:O}=e,{onTouchup:A}=e,{onTouchover:L}=e,{onTouchout:P}=e,{onTouchdrag:E}=e,{onSelect:I}=e,{onDeselect:X}=e;return t.$$set=t=>{"x"in t&&n(17,r=t.x),"y"in t&&n(18,s=t.y),"geometry"in t&&n(19,a=t.geometry),"radius"in t&&n(20,c=t.radius),"fill"in t&&n(21,u=t.fill),"stroke"in t&&n(22,l=t.stroke),"strokeWidth"in t&&n(23,h=t.strokeWidth),"strokeOpacity"in t&&n(24,d=t.strokeOpacity),"fillOpacity"in t&&n(25,f=t.fillOpacity),"opacity"in t&&n(26,p=t.opacity),"lineCap"in t&&n(27,g=t.lineCap),"dashArray"in t&&n(28,m=t.dashArray),"dashOffset"in t&&n(29,y=t.dashOffset),"outputSettings"in t&&n(0,k=t.outputSettings),"clip"in t&&n(30,v=t.clip),"keys"in t&&n(31,M=t.keys),"asOnePath"in t&&n(32,x=t.asOnePath),"blockReindexing"in t&&n(1,b=t.blockReindexing),"onClick"in t&&n(2,$=t.onClick),"onMousedown"in t&&n(3,T=t.onMousedown),"onMouseup"in t&&n(4,_=t.onMouseup),"onMouseover"in t&&n(5,w=t.onMouseover),"onMouseout"in t&&n(6,S=t.onMouseout),"onMousedrag"in t&&n(7,C=t.onMousedrag),"onTouchdown"in t&&n(8,O=t.onTouchdown),"onTouchup"in t&&n(9,A=t.onTouchup),"onTouchover"in t&&n(10,L=t.onTouchover),"onTouchout"in t&&n(11,P=t.onTouchout),"onTouchdrag"in t&&n(12,E=t.onTouchdrag),"onSelect"in t&&n(13,I=t.onSelect),"onDeselect"in t&&n(14,X=t.onDeselect)},t.$$.update=()=>{1966080&t.$$.dirty[0]&&n(15,o={x:r,y:s,geometry:a,radius:c}),2145386496&t.$$.dirty[0]|3&t.$$.dirty[1]&&n(16,i={fill:u,stroke:l,strokeWidth:h,strokeOpacity:d,fillOpacity:f,opacity:p,lineCap:g,dashArray:m,dashOffset:y,clip:v,keys:M,asOnePath:x})},[k,b,$,T,_,w,S,C,O,A,L,P,E,I,X,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,v,M,x]}class mh extends nt{constructor(t){super(),et(this,t,gh,ph,s,{x:17,y:18,geometry:19,radius:20,fill:21,stroke:22,strokeWidth:23,strokeOpacity:24,fillOpacity:25,opacity:26,lineCap:27,dashArray:28,dashOffset:29,outputSettings:0,clip:30,keys:31,asOnePath:32,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14},[-1,-1])}}function yh(t){let e,n;return e=new fh({props:{positioning:t[15],aesthetics:t[16],createLayer:Lc,parseAesthetics:xc,className:"rectangle-layer",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.positioning=t[15]),65536&n[0]&&(o.aesthetics=t[16]),1&n[0]&&(o.outputSettings=t[0]),2&n[0]&&(o.blockReindexing=t[1]),4&n[0]&&(o.onClick=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousedrag=t[7]),256&n[0]&&(o.onTouchdown=t[8]),512&n[0]&&(o.onTouchup=t[9]),1024&n[0]&&(o.onTouchover=t[10]),2048&n[0]&&(o.onTouchout=t[11]),4096&n[0]&&(o.onTouchdrag=t[12]),8192&n[0]&&(o.onSelect=t[13]),16384&n[0]&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function kh(t,e,n){let o,i,{x1:r}=e,{x2:s}=e,{y1:a}=e,{y2:c}=e,{fill:u}=e,{stroke:l}=e,{strokeWidth:h}=e,{strokeOpacity:d}=e,{fillOpacity:f}=e,{opacity:p}=e,{lineCap:g}=e,{lineJoin:m}=e,{miterLimit:y}=e,{dashArray:k}=e,{dashOffset:v}=e,{outputSettings:M}=e,{clip:x}=e,{keys:b}=e,{asOnePath:$}=e,{blockReindexing:T}=e,{onClick:_}=e,{onMousedown:w}=e,{onMouseup:S}=e,{onMouseover:C}=e,{onMouseout:O}=e,{onMousedrag:A}=e,{onTouchdown:L}=e,{onTouchup:P}=e,{onTouchover:E}=e,{onTouchout:I}=e,{onTouchdrag:X}=e,{onSelect:R}=e,{onDeselect:N}=e;return t.$$set=t=>{"x1"in t&&n(17,r=t.x1),"x2"in t&&n(18,s=t.x2),"y1"in t&&n(19,a=t.y1),"y2"in t&&n(20,c=t.y2),"fill"in t&&n(21,u=t.fill),"stroke"in t&&n(22,l=t.stroke),"strokeWidth"in t&&n(23,h=t.strokeWidth),"strokeOpacity"in t&&n(24,d=t.strokeOpacity),"fillOpacity"in t&&n(25,f=t.fillOpacity),"opacity"in t&&n(26,p=t.opacity),"lineCap"in t&&n(27,g=t.lineCap),"lineJoin"in t&&n(28,m=t.lineJoin),"miterLimit"in t&&n(29,y=t.miterLimit),"dashArray"in t&&n(30,k=t.dashArray),"dashOffset"in t&&n(31,v=t.dashOffset),"outputSettings"in t&&n(0,M=t.outputSettings),"clip"in t&&n(32,x=t.clip),"keys"in t&&n(33,b=t.keys),"asOnePath"in t&&n(34,$=t.asOnePath),"blockReindexing"in t&&n(1,T=t.blockReindexing),"onClick"in t&&n(2,_=t.onClick),"onMousedown"in t&&n(3,w=t.onMousedown),"onMouseup"in t&&n(4,S=t.onMouseup),"onMouseover"in t&&n(5,C=t.onMouseover),"onMouseout"in t&&n(6,O=t.onMouseout),"onMousedrag"in t&&n(7,A=t.onMousedrag),"onTouchdown"in t&&n(8,L=t.onTouchdown),"onTouchup"in t&&n(9,P=t.onTouchup),"onTouchover"in t&&n(10,E=t.onTouchover),"onTouchout"in t&&n(11,I=t.onTouchout),"onTouchdrag"in t&&n(12,X=t.onTouchdrag),"onSelect"in t&&n(13,R=t.onSelect),"onDeselect"in t&&n(14,N=t.onDeselect)},t.$$.update=()=>{1966080&t.$$.dirty[0]&&n(15,o={x1:r,x2:s,y1:a,y2:c}),2145386496&t.$$.dirty[0]|15&t.$$.dirty[1]&&n(16,i={fill:u,stroke:l,strokeWidth:h,strokeOpacity:d,fillOpacity:f,opacity:p,lineCap:g,lineJoin:m,miterLimit:y,dashArray:k,dashOffset:v,clip:x,keys:b,asOnePath:$})},[M,T,_,w,S,C,O,A,L,P,E,I,X,R,N,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,k,v,x,b,$]}class vh extends nt{constructor(t){super(),et(this,t,kh,yh,s,{x1:17,x2:18,y1:19,y2:20,fill:21,stroke:22,strokeWidth:23,strokeOpacity:24,fillOpacity:25,opacity:26,lineCap:27,lineJoin:28,miterLimit:29,dashArray:30,dashOffset:31,outputSettings:0,clip:32,keys:33,asOnePath:34,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14},[-1,-1])}}function Mh(t){let e,n;return e=new fh({props:{positioning:t[15],aesthetics:t[16],createLayer:mc,parseAesthetics:Vs,className:"polygon-layer",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.positioning=t[15]),65536&n[0]&&(o.aesthetics=t[16]),1&n[0]&&(o.outputSettings=t[0]),2&n[0]&&(o.blockReindexing=t[1]),4&n[0]&&(o.onClick=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousedrag=t[7]),256&n[0]&&(o.onTouchdown=t[8]),512&n[0]&&(o.onTouchup=t[9]),1024&n[0]&&(o.onTouchover=t[10]),2048&n[0]&&(o.onTouchout=t[11]),4096&n[0]&&(o.onTouchdrag=t[12]),8192&n[0]&&(o.onSelect=t[13]),16384&n[0]&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function xh(t,e,n){let o,i,{x:r}=e,{y:s}=e,{geometry:a}=e,{fill:c}=e,{stroke:u}=e,{strokeWidth:l}=e,{strokeOpacity:h}=e,{fillOpacity:d}=e,{opacity:f}=e,{lineCap:p}=e,{lineJoin:g}=e,{miterLimit:m}=e,{dashArray:y}=e,{dashOffset:k}=e,{outputSettings:v}=e,{clip:M}=e,{keys:x}=e,{asOnePath:b}=e,{blockReindexing:$}=e,{onClick:T}=e,{onMousedown:_}=e,{onMouseup:w}=e,{onMouseover:S}=e,{onMouseout:C}=e,{onMousedrag:O}=e,{onTouchdown:A}=e,{onTouchup:L}=e,{onTouchover:P}=e,{onTouchout:E}=e,{onTouchdrag:I}=e,{onSelect:X}=e,{onDeselect:R}=e;return t.$$set=t=>{"x"in t&&n(17,r=t.x),"y"in t&&n(18,s=t.y),"geometry"in t&&n(19,a=t.geometry),"fill"in t&&n(20,c=t.fill),"stroke"in t&&n(21,u=t.stroke),"strokeWidth"in t&&n(22,l=t.strokeWidth),"strokeOpacity"in t&&n(23,h=t.strokeOpacity),"fillOpacity"in t&&n(24,d=t.fillOpacity),"opacity"in t&&n(25,f=t.opacity),"lineCap"in t&&n(26,p=t.lineCap),"lineJoin"in t&&n(27,g=t.lineJoin),"miterLimit"in t&&n(28,m=t.miterLimit),"dashArray"in t&&n(29,y=t.dashArray),"dashOffset"in t&&n(30,k=t.dashOffset),"outputSettings"in t&&n(0,v=t.outputSettings),"clip"in t&&n(31,M=t.clip),"keys"in t&&n(32,x=t.keys),"asOnePath"in t&&n(33,b=t.asOnePath),"blockReindexing"in t&&n(1,$=t.blockReindexing),"onClick"in t&&n(2,T=t.onClick),"onMousedown"in t&&n(3,_=t.onMousedown),"onMouseup"in t&&n(4,w=t.onMouseup),"onMouseover"in t&&n(5,S=t.onMouseover),"onMouseout"in t&&n(6,C=t.onMouseout),"onMousedrag"in t&&n(7,O=t.onMousedrag),"onTouchdown"in t&&n(8,A=t.onTouchdown),"onTouchup"in t&&n(9,L=t.onTouchup),"onTouchover"in t&&n(10,P=t.onTouchover),"onTouchout"in t&&n(11,E=t.onTouchout),"onTouchdrag"in t&&n(12,I=t.onTouchdrag),"onSelect"in t&&n(13,X=t.onSelect),"onDeselect"in t&&n(14,R=t.onDeselect)},t.$$.update=()=>{917504&t.$$.dirty[0]&&n(15,o={x:r,y:s,geometry:a}),2146435072&t.$$.dirty[0]|7&t.$$.dirty[1]&&n(16,i={fill:c,stroke:u,strokeWidth:l,strokeOpacity:h,fillOpacity:d,opacity:f,lineCap:p,lineJoin:g,miterLimit:m,dashArray:y,dashOffset:k,clip:M,keys:x,asOnePath:b})},[v,$,T,_,w,S,C,O,A,L,P,E,I,X,R,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,k,M,x,b]}class bh extends nt{constructor(t){super(),et(this,t,xh,Mh,s,{x:17,y:18,geometry:19,fill:20,stroke:21,strokeWidth:22,strokeOpacity:23,fillOpacity:24,opacity:25,lineCap:26,lineJoin:27,miterLimit:28,dashArray:29,dashOffset:30,outputSettings:0,clip:31,keys:32,asOnePath:33,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14},[-1,-1])}}function $h(t){let e,n;return e=new fh({props:{positioning:t[15],aesthetics:t[16],createLayer:ac,parseAesthetics:Na,className:"line-layer",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.positioning=t[15]),65536&n[0]&&(o.aesthetics=t[16]),1&n[0]&&(o.outputSettings=t[0]),2&n[0]&&(o.blockReindexing=t[1]),4&n[0]&&(o.onClick=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousedrag=t[7]),256&n[0]&&(o.onTouchdown=t[8]),512&n[0]&&(o.onTouchup=t[9]),1024&n[0]&&(o.onTouchover=t[10]),2048&n[0]&&(o.onTouchout=t[11]),4096&n[0]&&(o.onTouchdrag=t[12]),8192&n[0]&&(o.onSelect=t[13]),16384&n[0]&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Th(t,e,n){let o,i,{x:r}=e,{y:s}=e,{geometry:a}=e,{curve:c}=e,{_resampleIntervals:u}=e,{stroke:l}=e,{strokeWidth:h}=e,{opacity:d}=e,{lineCap:f}=e,{lineJoin:p}=e,{miterLimit:g}=e,{dashArray:m}=e,{dashOffset:y}=e,{outputSettings:k}=e,{clip:v}=e,{keys:M}=e,{asOnePath:x}=e,{blockReindexing:b}=e,{onClick:$}=e,{onMousedown:T}=e,{onMouseup:_}=e,{onMouseover:w}=e,{onMouseout:S}=e,{onMousedrag:C}=e,{onTouchdown:O}=e,{onTouchup:A}=e,{onTouchover:L}=e,{onTouchout:P}=e,{onTouchdrag:E}=e,{onSelect:I}=e,{onDeselect:X}=e;return t.$$set=t=>{"x"in t&&n(17,r=t.x),"y"in t&&n(18,s=t.y),"geometry"in t&&n(19,a=t.geometry),"curve"in t&&n(20,c=t.curve),"_resampleIntervals"in t&&n(21,u=t._resampleIntervals),"stroke"in t&&n(22,l=t.stroke),"strokeWidth"in t&&n(23,h=t.strokeWidth),"opacity"in t&&n(24,d=t.opacity),"lineCap"in t&&n(25,f=t.lineCap),"lineJoin"in t&&n(26,p=t.lineJoin),"miterLimit"in t&&n(27,g=t.miterLimit),"dashArray"in t&&n(28,m=t.dashArray),"dashOffset"in t&&n(29,y=t.dashOffset),"outputSettings"in t&&n(0,k=t.outputSettings),"clip"in t&&n(30,v=t.clip),"keys"in t&&n(31,M=t.keys),"asOnePath"in t&&n(32,x=t.asOnePath),"blockReindexing"in t&&n(1,b=t.blockReindexing),"onClick"in t&&n(2,$=t.onClick),"onMousedown"in t&&n(3,T=t.onMousedown),"onMouseup"in t&&n(4,_=t.onMouseup),"onMouseover"in t&&n(5,w=t.onMouseover),"onMouseout"in t&&n(6,S=t.onMouseout),"onMousedrag"in t&&n(7,C=t.onMousedrag),"onTouchdown"in t&&n(8,O=t.onTouchdown),"onTouchup"in t&&n(9,A=t.onTouchup),"onTouchover"in t&&n(10,L=t.onTouchover),"onTouchout"in t&&n(11,P=t.onTouchout),"onTouchdrag"in t&&n(12,E=t.onTouchdrag),"onSelect"in t&&n(13,I=t.onSelect),"onDeselect"in t&&n(14,X=t.onDeselect)},t.$$.update=()=>{4063232&t.$$.dirty[0]&&n(15,o={x:r,y:s,geometry:a,curve:c,_resampleIntervals:u}),2143289344&t.$$.dirty[0]|3&t.$$.dirty[1]&&n(16,i={stroke:l,strokeWidth:h,opacity:d,lineCap:f,dashArray:m,lineJoin:p,miterLimit:g,dashOffset:y,clip:v,keys:M,asOnePath:x})},[k,b,$,T,_,w,S,C,O,A,L,P,E,I,X,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,v,M,x]}class _h extends nt{constructor(t){super(),et(this,t,Th,$h,s,{x:17,y:18,geometry:19,curve:20,_resampleIntervals:21,stroke:22,strokeWidth:23,opacity:24,lineCap:25,lineJoin:26,miterLimit:27,dashArray:28,dashOffset:29,outputSettings:0,clip:30,keys:31,asOnePath:32,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14},[-1,-1])}}function wh(t){let e,n;return e=new fh({props:{positioning:t[15],aesthetics:t[16],createLayer:sc,parseAesthetics:Qa,className:"label-layer",element:"text",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.positioning=t[15]),65536&n[0]&&(o.aesthetics=t[16]),1&n[0]&&(o.outputSettings=t[0]),2&n[0]&&(o.blockReindexing=t[1]),4&n[0]&&(o.onClick=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousedrag=t[7]),256&n[0]&&(o.onTouchdown=t[8]),512&n[0]&&(o.onTouchup=t[9]),1024&n[0]&&(o.onTouchover=t[10]),2048&n[0]&&(o.onTouchout=t[11]),4096&n[0]&&(o.onTouchdrag=t[12]),8192&n[0]&&(o.onSelect=t[13]),16384&n[0]&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Sh(t,e,n){let o,i,{x:r}=e,{y:s}=e,{geometry:a}=e,{rotate:c}=e,{anchorPoint:u}=e,{text:l}=e,{fontSize:h}=e,{fontFamily:d}=e,{fontWeight:f}=e,{fill:p}=e,{stroke:g}=e,{strokeWidth:m}=e,{strokeOpacity:y}=e,{fillOpacity:k}=e,{opacity:v}=e,{outputSettings:M}=e,{clip:x}=e,{keys:b}=e,{blockReindexing:$}=e,{onClick:T}=e,{onMousedown:_}=e,{onMouseup:w}=e,{onMouseover:S}=e,{onMouseout:C}=e,{onMousedrag:O}=e,{onTouchdown:A}=e,{onTouchup:L}=e,{onTouchover:P}=e,{onTouchout:E}=e,{onTouchdrag:I}=e,{onSelect:X}=e,{onDeselect:R}=e;return t.$$set=t=>{"x"in t&&n(17,r=t.x),"y"in t&&n(18,s=t.y),"geometry"in t&&n(19,a=t.geometry),"rotate"in t&&n(20,c=t.rotate),"anchorPoint"in t&&n(21,u=t.anchorPoint),"text"in t&&n(22,l=t.text),"fontSize"in t&&n(23,h=t.fontSize),"fontFamily"in t&&n(24,d=t.fontFamily),"fontWeight"in t&&n(25,f=t.fontWeight),"fill"in t&&n(26,p=t.fill),"stroke"in t&&n(27,g=t.stroke),"strokeWidth"in t&&n(28,m=t.strokeWidth),"strokeOpacity"in t&&n(29,y=t.strokeOpacity),"fillOpacity"in t&&n(30,k=t.fillOpacity),"opacity"in t&&n(31,v=t.opacity),"outputSettings"in t&&n(0,M=t.outputSettings),"clip"in t&&n(32,x=t.clip),"keys"in t&&n(33,b=t.keys),"blockReindexing"in t&&n(1,$=t.blockReindexing),"onClick"in t&&n(2,T=t.onClick),"onMousedown"in t&&n(3,_=t.onMousedown),"onMouseup"in t&&n(4,w=t.onMouseup),"onMouseover"in t&&n(5,S=t.onMouseover),"onMouseout"in t&&n(6,C=t.onMouseout),"onMousedrag"in t&&n(7,O=t.onMousedrag),"onTouchdown"in t&&n(8,A=t.onTouchdown),"onTouchup"in t&&n(9,L=t.onTouchup),"onTouchover"in t&&n(10,P=t.onTouchover),"onTouchout"in t&&n(11,E=t.onTouchout),"onTouchdrag"in t&&n(12,I=t.onTouchdrag),"onSelect"in t&&n(13,X=t.onSelect),"onDeselect"in t&&n(14,R=t.onDeselect)},t.$$.update=()=>{16646144&t.$$.dirty[0]&&n(15,o={x:r,y:s,geometry:a,rotate:c,anchorPoint:u,text:l,fontSize:h}),2145386496&t.$$.dirty[0]|7&t.$$.dirty[1]&&n(16,i={anchorPoint:u,text:l,fontSize:h,fontFamily:d,fontWeight:f,fill:p,stroke:g,strokeWidth:m,strokeOpacity:y,fillOpacity:k,opacity:v,clip:x,keys:b})},[M,$,T,_,w,S,C,O,A,L,P,E,I,X,R,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,k,v,x,b]}class Ch extends nt{constructor(t){super(),et(this,t,Sh,wh,s,{x:17,y:18,geometry:19,rotate:20,anchorPoint:21,text:22,fontSize:23,fontFamily:24,fontWeight:25,fill:26,stroke:27,strokeWidth:28,strokeOpacity:29,fillOpacity:30,opacity:31,outputSettings:0,clip:32,keys:33,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14},[-1,-1])}}function Oh(t){let e,n;return e=new fh({props:{positioning:t[15],aesthetics:t[16],createLayer:iu,parseAesthetics:Ic,className:"symbol-layer",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.positioning=t[15]),65536&n[0]&&(o.aesthetics=t[16]),1&n[0]&&(o.outputSettings=t[0]),2&n[0]&&(o.blockReindexing=t[1]),4&n[0]&&(o.onClick=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousedrag=t[7]),256&n[0]&&(o.onTouchdown=t[8]),512&n[0]&&(o.onTouchup=t[9]),1024&n[0]&&(o.onTouchover=t[10]),2048&n[0]&&(o.onTouchout=t[11]),4096&n[0]&&(o.onTouchdrag=t[12]),8192&n[0]&&(o.onSelect=t[13]),16384&n[0]&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Ah(t,e,n){let o,i,{x:r}=e,{y:s}=e,{geometry:a}=e,{shape:c}=e,{radius:u}=e,{fill:l}=e,{stroke:h}=e,{strokeWidth:d}=e,{strokeOpacity:f}=e,{fillOpacity:p}=e,{opacity:g}=e,{lineCap:m}=e,{lineJoin:y}=e,{miterLimit:k}=e,{dashArray:v}=e,{dashOffset:M}=e,{outputSettings:x}=e,{clip:b}=e,{keys:$}=e,{asOnePath:T}=e,{blockReindexing:_}=e,{onClick:w}=e,{onMousedown:S}=e,{onMouseup:C}=e,{onMouseover:O}=e,{onMouseout:A}=e,{onMousedrag:L}=e,{onTouchdown:P}=e,{onTouchup:E}=e,{onTouchover:I}=e,{onTouchout:X}=e,{onTouchdrag:R}=e,{onSelect:N}=e,{onDeselect:Y}=e;return t.$$set=t=>{"x"in t&&n(17,r=t.x),"y"in t&&n(18,s=t.y),"geometry"in t&&n(19,a=t.geometry),"shape"in t&&n(20,c=t.shape),"radius"in t&&n(21,u=t.radius),"fill"in t&&n(22,l=t.fill),"stroke"in t&&n(23,h=t.stroke),"strokeWidth"in t&&n(24,d=t.strokeWidth),"strokeOpacity"in t&&n(25,f=t.strokeOpacity),"fillOpacity"in t&&n(26,p=t.fillOpacity),"opacity"in t&&n(27,g=t.opacity),"lineCap"in t&&n(28,m=t.lineCap),"lineJoin"in t&&n(29,y=t.lineJoin),"miterLimit"in t&&n(30,k=t.miterLimit),"dashArray"in t&&n(31,v=t.dashArray),"dashOffset"in t&&n(32,M=t.dashOffset),"outputSettings"in t&&n(0,x=t.outputSettings),"clip"in t&&n(33,b=t.clip),"keys"in t&&n(34,$=t.keys),"asOnePath"in t&&n(35,T=t.asOnePath),"blockReindexing"in t&&n(1,_=t.blockReindexing),"onClick"in t&&n(2,w=t.onClick),"onMousedown"in t&&n(3,S=t.onMousedown),"onMouseup"in t&&n(4,C=t.onMouseup),"onMouseover"in t&&n(5,O=t.onMouseover),"onMouseout"in t&&n(6,A=t.onMouseout),"onMousedrag"in t&&n(7,L=t.onMousedrag),"onTouchdown"in t&&n(8,P=t.onTouchdown),"onTouchup"in t&&n(9,E=t.onTouchup),"onTouchover"in t&&n(10,I=t.onTouchover),"onTouchout"in t&&n(11,X=t.onTouchout),"onTouchdrag"in t&&n(12,R=t.onTouchdrag),"onSelect"in t&&n(13,N=t.onSelect),"onDeselect"in t&&n(14,Y=t.onDeselect)},t.$$.update=()=>{4063232&t.$$.dirty[0]&&n(15,o={x:r,y:s,geometry:a,shape:c,radius:u}),2143289344&t.$$.dirty[0]|31&t.$$.dirty[1]&&n(16,i={fill:l,stroke:h,strokeWidth:d,strokeOpacity:f,fillOpacity:p,opacity:g,lineCap:m,lineJoin:y,miterLimit:k,dashArray:v,dashOffset:M,clip:b,keys:$,asOnePath:T})},[x,_,w,S,C,O,A,L,P,E,I,X,R,N,Y,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,k,v,M,b,$,T]}class Lh extends nt{constructor(t){super(),et(this,t,Ah,Oh,s,{x:17,y:18,geometry:19,shape:20,radius:21,fill:22,stroke:23,strokeWidth:24,strokeOpacity:25,fillOpacity:26,opacity:27,lineCap:28,lineJoin:29,miterLimit:30,dashArray:31,dashOffset:32,outputSettings:0,clip:33,keys:34,asOnePath:35,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14},[-1,-1])}}function Ph(t){let e,n;return e=new fh({props:{positioning:t[15],aesthetics:t[16],createLayer:xa,parseAesthetics:ea,className:"area-layer",outputSettings:t[0],blockReindexing:t[1],onClick:t[2],onMousedown:t[3],onMouseup:t[4],onMouseover:t[5],onMouseout:t[6],onMousedrag:t[7],onTouchdown:t[8],onTouchup:t[9],onTouchover:t[10],onTouchout:t[11],onTouchdrag:t[12],onSelect:t[13],onDeselect:t[14]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};32768&n[0]&&(o.positioning=t[15]),65536&n[0]&&(o.aesthetics=t[16]),1&n[0]&&(o.outputSettings=t[0]),2&n[0]&&(o.blockReindexing=t[1]),4&n[0]&&(o.onClick=t[2]),8&n[0]&&(o.onMousedown=t[3]),16&n[0]&&(o.onMouseup=t[4]),32&n[0]&&(o.onMouseover=t[5]),64&n[0]&&(o.onMouseout=t[6]),128&n[0]&&(o.onMousedrag=t[7]),256&n[0]&&(o.onTouchdown=t[8]),512&n[0]&&(o.onTouchup=t[9]),1024&n[0]&&(o.onTouchover=t[10]),2048&n[0]&&(o.onTouchout=t[11]),4096&n[0]&&(o.onTouchdrag=t[12]),8192&n[0]&&(o.onSelect=t[13]),16384&n[0]&&(o.onDeselect=t[14]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Eh(t,e,n){let o,i,{x:r}=e,{y:s}=e,{x1:a}=e,{x2:c}=e,{y1:u}=e,{y2:l}=e,{curve:h}=e,{fill:d}=e,{stroke:f}=e,{strokeWidth:p}=e,{strokeOpacity:g}=e,{fillOpacity:m}=e,{opacity:y}=e,{lineCap:k}=e,{lineJoin:v}=e,{miterLimit:M}=e,{dashArray:x}=e,{dashOffset:b}=e,{outputSettings:$}=e,{clip:T}=e,{keys:_}=e,{asOnePath:w}=e,{blockReindexing:S}=e,{onClick:C}=e,{onMousedown:O}=e,{onMouseup:A}=e,{onMouseover:L}=e,{onMouseout:P}=e,{onMousedrag:E}=e,{onTouchdown:I}=e,{onTouchup:X}=e,{onTouchover:R}=e,{onTouchout:N}=e,{onTouchdrag:Y}=e,{onSelect:W}=e,{onDeselect:H}=e;return t.$$set=t=>{"x"in t&&n(17,r=t.x),"y"in t&&n(18,s=t.y),"x1"in t&&n(19,a=t.x1),"x2"in t&&n(20,c=t.x2),"y1"in t&&n(21,u=t.y1),"y2"in t&&n(22,l=t.y2),"curve"in t&&n(23,h=t.curve),"fill"in t&&n(24,d=t.fill),"stroke"in t&&n(25,f=t.stroke),"strokeWidth"in t&&n(26,p=t.strokeWidth),"strokeOpacity"in t&&n(27,g=t.strokeOpacity),"fillOpacity"in t&&n(28,m=t.fillOpacity),"opacity"in t&&n(29,y=t.opacity),"lineCap"in t&&n(30,k=t.lineCap),"lineJoin"in t&&n(31,v=t.lineJoin),"miterLimit"in t&&n(32,M=t.miterLimit),"dashArray"in t&&n(33,x=t.dashArray),"dashOffset"in t&&n(34,b=t.dashOffset),"outputSettings"in t&&n(0,$=t.outputSettings),"clip"in t&&n(35,T=t.clip),"keys"in t&&n(36,_=t.keys),"asOnePath"in t&&n(37,w=t.asOnePath),"blockReindexing"in t&&n(1,S=t.blockReindexing),"onClick"in t&&n(2,C=t.onClick),"onMousedown"in t&&n(3,O=t.onMousedown),"onMouseup"in t&&n(4,A=t.onMouseup),"onMouseover"in t&&n(5,L=t.onMouseover),"onMouseout"in t&&n(6,P=t.onMouseout),"onMousedrag"in t&&n(7,E=t.onMousedrag),"onTouchdown"in t&&n(8,I=t.onTouchdown),"onTouchup"in t&&n(9,X=t.onTouchup),"onTouchover"in t&&n(10,R=t.onTouchover),"onTouchout"in t&&n(11,N=t.onTouchout),"onTouchdrag"in t&&n(12,Y=t.onTouchdrag),"onSelect"in t&&n(13,W=t.onSelect),"onDeselect"in t&&n(14,H=t.onDeselect)},t.$$.update=()=>{16646144&t.$$.dirty[0]&&n(15,o={x:r,y:s,x1:a,x2:c,y1:u,y2:l,curve:h}),2130706432&t.$$.dirty[0]|127&t.$$.dirty[1]&&n(16,i={fill:d,stroke:f,strokeWidth:p,strokeOpacity:g,fillOpacity:m,opacity:y,lineCap:k,lineJoin:v,miterLimit:M,dashArray:x,dashOffset:b,clip:T,keys:_,asOnePath:w})},[$,S,C,O,A,L,P,E,I,X,R,N,Y,W,H,o,i,r,s,a,c,u,l,h,d,f,p,g,m,y,k,v,M,x,b,T,_,w]}class Ih extends nt{constructor(t){super(),et(this,t,Eh,Ph,s,{x:17,y:18,x1:19,x2:20,y1:21,y2:22,curve:23,fill:24,stroke:25,strokeWidth:26,strokeOpacity:27,fillOpacity:28,opacity:29,lineCap:30,lineJoin:31,miterLimit:32,dashArray:33,dashOffset:34,outputSettings:0,clip:35,keys:36,asOnePath:37,blockReindexing:1,onClick:2,onMousedown:3,onMouseup:4,onMouseover:5,onMouseout:6,onMousedrag:7,onTouchdown:8,onTouchup:9,onTouchover:10,onTouchout:11,onTouchdrag:12,onSelect:13,onDeselect:14},[-1,-1])}}function Xh(t,e,n){const{minX:o,maxX:i}=n;return"left"===t?o-e:"right"===t?i+e:["center","centre"].includes(t)?(i-o)/2+o+e:t.constructor===Number?(i-o)*t+o:void 0}function Rh(t,e,n){const{minY:o,maxY:i}=n;return"top"===t?o-e:"bottom"===t?i+e:["center","centre"].includes(t)?(i-o)/2+o+e:t.constructor===Number?(i-o)*t+o:void 0}function Nh(t,e,n,o,i){let r;if(Array.isArray(t)&&t.length>0)r=t;else if(function(t){return"ticks"in t}(e))r=function(t,e,n){if(n){const o=function(t,{k:e,t:n}){const o=t.range().map((t=>(t-n)/e));return o.map(t.invert)}(t,n);return t.copy().domain(o).ticks(e)}return t.ticks(e)}(e,n,i);else{if(!("domain"in e))throw new Error("Couldn't construct axis. Please provide 'tickValues' or a scale with\n      either a 'ticks' or a 'domain' method.");r=e.domain()}return o&&"domain"in e&&r[0]!==e.domain()[0]&&r.unshift(e.domain()[0]),r}function Yh(t,e,n){return t||("tickFormat"in e?e.tickFormat(n):t=>t)}function Wh(t,e,n){let o;if("undefined"==typeof document){return.8*t.length*e}{o=Wh.canvas||(Wh.canvas=document.createElement("canvas"));const i=o.getContext("2d");i.font=e+" "+n;return i.measureText(t).width}}function Hh(t,e,n,o,i,r,s,a,c){const u=function(t,e,n,o){if("axis"===t)return e?-(n+1)-o:n+1;if(t.constructor!==Number)throw new Error("yOffset must be a Number or 'axis'");return t}(o,r,s,a),l=Xh(t,e,i.paddedBbox),h="axis"===n?c+u:Rh(n,o,i.paddedBbox)+u;return{x:({pxAt:t})=>t(l),y:({pyAt:t})=>t(h)}}function Dh(t,e,n,o,i,r,s,a,c){const u=function(t,e,n,o){if("axis"===t)return e?n+5:-n-5;if(t.constructor!==Number)throw new Error("xOffset must be a Number or 'axis'");return t}(e,r,s),l="axis"===t?c+u:Xh(t,e,i.paddedBbox),h=Rh(n,o,i.paddedBbox);return{x:({pxAt:t})=>t(l),y:({pyAt:t})=>t(h)}}function Bh(t){let n,o;const i=[t[24],{strokeWidth:t[3]},{opacity:t[2]},{stroke:t[1]},{clip:t[22]}];let r={};for(let t=0;t<i.length;t+=1)r=e(r,i[t]);return n=new Bl({props:r}),{c(){Z(n.$$.fragment)},m(t,e){Q(n,t,e),o=!0},p(t,e){const o=20971534&e[0]?K(i,[16777216&e[0]&&U(t[24]),8&e[0]&&{strokeWidth:t[3]},4&e[0]&&{opacity:t[2]},2&e[0]&&{stroke:t[1]},4194304&e[0]&&{clip:t[22]}]):{};n.$set(o)},i(t){o||(G(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){tt(n,t)}}}function Fh(t){let n,o,i,r;const s=[t[23],{strokeWidth:t[5]},{opacity:t[7]},{stroke:t[6]},{clip:t[22]}];let a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);n=new _h({props:a});const c=[t[26],{text:t[25]},{anchorPoint:t[27]},{rotate:t[8]},{fontFamily:t[9]},{fontSize:t[10]},{fontWeight:t[11]},{opacity:t[12]},{fill:t[13]},{clip:t[22]}];let u={};for(let t=0;t<c.length;t+=1)u=e(u,c[t]);return i=new Ch({props:u}),{c(){Z(n.$$.fragment),o=k(),Z(i.$$.fragment)},m(t,e){Q(n,t,e),d(t,o,e),Q(i,t,e),r=!0},p(t,e){const o=12583136&e[0]?K(s,[8388608&e[0]&&U(t[23]),32&e[0]&&{strokeWidth:t[5]},128&e[0]&&{opacity:t[7]},64&e[0]&&{stroke:t[6]},4194304&e[0]&&{clip:t[22]}]):{};n.$set(o);const r=239091456&e[0]?K(c,[67108864&e[0]&&U(t[26]),33554432&e[0]&&{text:t[25]},134217728&e[0]&&{anchorPoint:t[27]},256&e[0]&&{rotate:t[8]},512&e[0]&&{fontFamily:t[9]},1024&e[0]&&{fontSize:t[10]},2048&e[0]&&{fontWeight:t[11]},4096&e[0]&&{opacity:t[12]},8192&e[0]&&{fill:t[13]},4194304&e[0]&&{clip:t[22]}]):{};i.$set(r)},i(t){r||(G(n.$$.fragment,t),G(i.$$.fragment,t),r=!0)},o(t){J(n.$$.fragment,t),J(i.$$.fragment,t),r=!1},d(t){tt(n,t),t&&f(o),tt(i,t)}}}function zh(t){let n,o;const i=[t[28],{text:t[14]},{anchorPoint:t[21]},{rotate:t[20]},{fontFamily:t[16]},{fontSize:t[17]},{fontWeight:t[18]},{opacity:t[19]},{fill:t[15]},{clip:t[22]}];let r={};for(let t=0;t<i.length;t+=1)r=e(r,i[t]);return n=new Wl({props:r}),{c(){Z(n.$$.fragment)},m(t,e){Q(n,t,e),o=!0},p(t,e){const o=276807680&e[0]?K(i,[268435456&e[0]&&U(t[28]),16384&e[0]&&{text:t[14]},2097152&e[0]&&{anchorPoint:t[21]},1048576&e[0]&&{rotate:t[20]},65536&e[0]&&{fontFamily:t[16]},131072&e[0]&&{fontSize:t[17]},262144&e[0]&&{fontWeight:t[18]},524288&e[0]&&{opacity:t[19]},32768&e[0]&&{fill:t[15]},4194304&e[0]&&{clip:t[22]}]):{};n.$set(o)},i(t){o||(G(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){tt(n,t)}}}function jh(t){let e,n,o,i,r=t[0]&&Bh(t),s=t[4]&&Fh(t),a=t[14].length>0&&zh(t);return{c(){r&&r.c(),e=k(),s&&s.c(),n=k(),a&&a.c(),o=v()},m(t,c){r&&r.m(t,c),d(t,e,c),s&&s.m(t,c),d(t,n,c),a&&a.m(t,c),d(t,o,c),i=!0},p(t,i){t[0]?r?(r.p(t,i),1&i[0]&&G(r,1)):(r=Bh(t),r.c(),G(r,1),r.m(e.parentNode,e)):r&&(z(),J(r,1,1,(()=>{r=null})),j()),t[4]?s?(s.p(t,i),16&i[0]&&G(s,1)):(s=Fh(t),s.c(),G(s,1),s.m(n.parentNode,n)):s&&(z(),J(s,1,1,(()=>{s=null})),j()),t[14].length>0?a?(a.p(t,i),16384&i[0]&&G(a,1)):(a=zh(t),a.c(),G(a,1),a.m(o.parentNode,o)):a&&(z(),J(a,1,1,(()=>{a=null})),j())},i(t){i||(G(r),G(s),G(a),i=!0)},o(t){J(r),J(s),J(a),i=!1},d(t){r&&r.d(t),t&&f(e),s&&s.d(t),t&&f(n),a&&a.d(t),t&&f(o)}}}function Gh(t,e,n){let o,{flip:i=!1}=e,{baseLine:r=!0}=e,{baseLineColor:s="black"}=e,{baseLineOpacity:c=1}=e,{baseLineWidth:u=1}=e,{vjust:l="bottom"}=e,{yOffset:h=0}=e,{ticks:d=!0}=e,{tickCount:f=10}=e,{tickExtra:p=!1}=e,{tickValues:g}=e,{tickSize:m=5}=e,{tickWidth:y=.5}=e,{tickColor:k="black"}=e,{tickOpacity:v=1}=e,{labelFormat:M}=e,{labelOffset:x=6}=e,{labelRotate:b=0}=e,{labelFont:$="Helvetica"}=e,{labelFontSize:T=10}=e,{labelFontWeight:_="normal"}=e,{labelOpacity:w=1}=e,{labelColor:S="black"}=e,{titleHjust:C="center"}=e,{titleXOffset:A=0}=e,{titleVjust:L="axis"}=e,{titleYOffset:P="axis"}=e,{title:E=""}=e,{titleColor:I="black"}=e,{titleFont:X="Helvetica"}=e,{titleFontSize:R=12}=e,{titleFontWeight:N="normal"}=e,{titleOpacity:Y=1}=e,{titleRotate:W=0}=e,{titleAnchorPoint:H="t"}=e,{clip:D="outer"}=e;const B=O("section");let F,z,j,G,J,q,V,K,U,Z;return a(t,B,(t=>n(43,o=t))),t.$$set=t=>{"flip"in t&&n(30,i=t.flip),"baseLine"in t&&n(0,r=t.baseLine),"baseLineColor"in t&&n(1,s=t.baseLineColor),"baseLineOpacity"in t&&n(2,c=t.baseLineOpacity),"baseLineWidth"in t&&n(3,u=t.baseLineWidth),"vjust"in t&&n(31,l=t.vjust),"yOffset"in t&&n(32,h=t.yOffset),"ticks"in t&&n(4,d=t.ticks),"tickCount"in t&&n(33,f=t.tickCount),"tickExtra"in t&&n(34,p=t.tickExtra),"tickValues"in t&&n(35,g=t.tickValues),"tickSize"in t&&n(36,m=t.tickSize),"tickWidth"in t&&n(5,y=t.tickWidth),"tickColor"in t&&n(6,k=t.tickColor),"tickOpacity"in t&&n(7,v=t.tickOpacity),"labelFormat"in t&&n(37,M=t.labelFormat),"labelOffset"in t&&n(38,x=t.labelOffset),"labelRotate"in t&&n(8,b=t.labelRotate),"labelFont"in t&&n(9,$=t.labelFont),"labelFontSize"in t&&n(10,T=t.labelFontSize),"labelFontWeight"in t&&n(11,_=t.labelFontWeight),"labelOpacity"in t&&n(12,w=t.labelOpacity),"labelColor"in t&&n(13,S=t.labelColor),"titleHjust"in t&&n(39,C=t.titleHjust),"titleXOffset"in t&&n(40,A=t.titleXOffset),"titleVjust"in t&&n(41,L=t.titleVjust),"titleYOffset"in t&&n(42,P=t.titleYOffset),"title"in t&&n(14,E=t.title),"titleColor"in t&&n(15,I=t.titleColor),"titleFont"in t&&n(16,X=t.titleFont),"titleFontSize"in t&&n(17,R=t.titleFontSize),"titleFontWeight"in t&&n(18,N=t.titleFontWeight),"titleOpacity"in t&&n(19,Y=t.titleOpacity),"titleRotate"in t&&n(20,W=t.titleRotate),"titleAnchorPoint"in t&&n(21,H=t.titleAnchorPoint),"clip"in t&&n(22,D=t.clip)},t.$$.update=()=>{if(4096&t.$$.dirty[1]&&o.coordinateSystem)throw new Error("Cannot use axes with alternative coordinate systems (for now)");4099&t.$$.dirty[1]&&n(44,F=Rh(l,h,o.paddedBbox)),12288&t.$$.dirty[1]&&n(24,z=function(t,{paddedBbox:e}){const{minX:n,maxX:o}=e;return{x:({pxAt:t})=>[n,o].map(t),y:({pyAt:e})=>[t,t].map(e)}}(F,o)),4124&t.$$.dirty[1]&&n(45,j=Nh(g,o.directScales.x,f,p,o.zoomIdentity?{t:o.zoomIdentity.x,k:o.zoomIdentity.kx}:void 0)),1073741824&t.$$.dirty[0]|24608&t.$$.dirty[1]&&n(23,G=function(t,e,n,o){const i=o?-n:n;return{x:({scaleX:e,bwx:n})=>{const o=n?n()/2:0;return t.map((t=>e(t)+o)).map((t=>[t,t]))},y:({py:n,pyAt:o})=>{const r=o(e);return t.map((t=>[r,r+n(i)]))}}}(j,F,m,i)),16&t.$$.dirty[0]|4160&t.$$.dirty[1]&&n(46,J=Yh(M,o.scaleX,d.length)),49152&t.$$.dirty[1]&&n(25,q=j.map(J)),1082130432&t.$$.dirty[0]|128&t.$$.dirty[1]&&n(26,V=function(t,e,n){const o=n?-e:e;return{x:e=>t.x(e).map((t=>t[0])),y:e=>t.y(e).map((t=>t[1]+e.py(o)))}}(G,x,i)),1073741824&t.$$.dirty[0]&&n(27,K=i?"b":"t"),1032&t.$$.dirty[0]|160&t.$$.dirty[1]&&n(47,U=u+m+x+T),1073872896&t.$$.dirty[0]|81664&t.$$.dirty[1]&&n(28,Z=Hh(C,A,L,P,o,i,U,R,F))},[r,s,c,u,d,y,k,v,b,$,T,_,w,S,E,I,X,R,N,Y,W,H,D,G,z,q,V,K,Z,B,i,l,h,f,p,g,m,M,x,C,A,L,P,o,F,j,J,U]}class Jh extends nt{constructor(t){super(),et(this,t,Gh,jh,s,{flip:30,baseLine:0,baseLineColor:1,baseLineOpacity:2,baseLineWidth:3,vjust:31,yOffset:32,ticks:4,tickCount:33,tickExtra:34,tickValues:35,tickSize:36,tickWidth:5,tickColor:6,tickOpacity:7,labelFormat:37,labelOffset:38,labelRotate:8,labelFont:9,labelFontSize:10,labelFontWeight:11,labelOpacity:12,labelColor:13,titleHjust:39,titleXOffset:40,titleVjust:41,titleYOffset:42,title:14,titleColor:15,titleFont:16,titleFontSize:17,titleFontWeight:18,titleOpacity:19,titleRotate:20,titleAnchorPoint:21,clip:22},[-1,-1])}}function qh(t){let n,o;const i=[t[25],{strokeWidth:t[3]},{opacity:t[2]},{stroke:t[1]},{clip:t[22]}];let r={};for(let t=0;t<i.length;t+=1)r=e(r,i[t]);return n=new Bl({props:r}),{c(){Z(n.$$.fragment)},m(t,e){Q(n,t,e),o=!0},p(t,e){const o=37748750&e[0]?K(i,[33554432&e[0]&&U(t[25]),8&e[0]&&{strokeWidth:t[3]},4&e[0]&&{opacity:t[2]},2&e[0]&&{stroke:t[1]},4194304&e[0]&&{clip:t[22]}]):{};n.$set(o)},i(t){o||(G(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){tt(n,t)}}}function Vh(t){let n,o,i,r;const s=[t[23],{strokeWidth:t[5]},{opacity:t[7]},{stroke:t[6]},{clip:t[22]}];let a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);n=new _h({props:a});const c=[t[26],{text:t[24]},{anchorPoint:t[27]},{rotate:t[8]},{fontFamily:t[9]},{fontSize:t[10]},{fontWeight:t[11]},{opacity:t[12]},{fill:t[13]},{clip:t[22]}];let u={};for(let t=0;t<c.length;t+=1)u=e(u,c[t]);return i=new Ch({props:u}),{c(){Z(n.$$.fragment),o=k(),Z(i.$$.fragment)},m(t,e){Q(n,t,e),d(t,o,e),Q(i,t,e),r=!0},p(t,e){const o=12583136&e[0]?K(s,[8388608&e[0]&&U(t[23]),32&e[0]&&{strokeWidth:t[5]},128&e[0]&&{opacity:t[7]},64&e[0]&&{stroke:t[6]},4194304&e[0]&&{clip:t[22]}]):{};n.$set(o);const r=222314240&e[0]?K(c,[67108864&e[0]&&U(t[26]),16777216&e[0]&&{text:t[24]},134217728&e[0]&&{anchorPoint:t[27]},256&e[0]&&{rotate:t[8]},512&e[0]&&{fontFamily:t[9]},1024&e[0]&&{fontSize:t[10]},2048&e[0]&&{fontWeight:t[11]},4096&e[0]&&{opacity:t[12]},8192&e[0]&&{fill:t[13]},4194304&e[0]&&{clip:t[22]}]):{};i.$set(r)},i(t){r||(G(n.$$.fragment,t),G(i.$$.fragment,t),r=!0)},o(t){J(n.$$.fragment,t),J(i.$$.fragment,t),r=!1},d(t){tt(n,t),t&&f(o),tt(i,t)}}}function Kh(t){let n,o;const i=[t[28],{text:t[14]},{anchorPoint:t[21]},{rotate:t[20]},{fontFamily:t[16]},{fontSize:t[17]},{fontWeight:t[18]},{opacity:t[19]},{fill:t[15]},{clip:t[22]}];let r={};for(let t=0;t<i.length;t+=1)r=e(r,i[t]);return n=new Wl({props:r}),{c(){Z(n.$$.fragment)},m(t,e){Q(n,t,e),o=!0},p(t,e){const o=276807680&e[0]?K(i,[268435456&e[0]&&U(t[28]),16384&e[0]&&{text:t[14]},2097152&e[0]&&{anchorPoint:t[21]},1048576&e[0]&&{rotate:t[20]},65536&e[0]&&{fontFamily:t[16]},131072&e[0]&&{fontSize:t[17]},262144&e[0]&&{fontWeight:t[18]},524288&e[0]&&{opacity:t[19]},32768&e[0]&&{fill:t[15]},4194304&e[0]&&{clip:t[22]}]):{};n.$set(o)},i(t){o||(G(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){tt(n,t)}}}function Uh(t){let e,n,o,i,r=t[0]&&qh(t),s=t[4]&&Vh(t),a=t[14].length>0&&Kh(t);return{c(){r&&r.c(),e=k(),s&&s.c(),n=k(),a&&a.c(),o=v()},m(t,c){r&&r.m(t,c),d(t,e,c),s&&s.m(t,c),d(t,n,c),a&&a.m(t,c),d(t,o,c),i=!0},p(t,i){t[0]?r?(r.p(t,i),1&i[0]&&G(r,1)):(r=qh(t),r.c(),G(r,1),r.m(e.parentNode,e)):r&&(z(),J(r,1,1,(()=>{r=null})),j()),t[4]?s?(s.p(t,i),16&i[0]&&G(s,1)):(s=Vh(t),s.c(),G(s,1),s.m(n.parentNode,n)):s&&(z(),J(s,1,1,(()=>{s=null})),j()),t[14].length>0?a?(a.p(t,i),16384&i[0]&&G(a,1)):(a=Kh(t),a.c(),G(a,1),a.m(o.parentNode,o)):a&&(z(),J(a,1,1,(()=>{a=null})),j())},i(t){i||(G(r),G(s),G(a),i=!0)},o(t){J(r),J(s),J(a),i=!1},d(t){r&&r.d(t),t&&f(e),s&&s.d(t),t&&f(n),a&&a.d(t),t&&f(o)}}}function Zh(t,e,n){let o,{flip:i=!1}=e,{baseLine:r=!0}=e,{baseLineColor:s="black"}=e,{baseLineOpacity:c=1}=e,{baseLineWidth:u=1}=e,{hjust:l="left"}=e,{xOffset:h=0}=e,{ticks:d=!0}=e,{tickCount:f=10}=e,{tickExtra:p=!1}=e,{tickValues:g}=e,{tickSize:m=5}=e,{tickWidth:y=.5}=e,{tickColor:k="black"}=e,{tickOpacity:v=1}=e,{labelFormat:M}=e,{labelOffset:x=4}=e,{labelRotate:b=0}=e,{labelFont:$="Helvetica"}=e,{labelFontSize:T=10}=e,{labelFontWeight:_="normal"}=e,{labelOpacity:w=1}=e,{labelColor:S="black"}=e,{titleHjust:C="axis"}=e,{titleXOffset:A="axis"}=e,{titleVjust:L="center"}=e,{titleYOffset:P=0}=e,{title:E=""}=e,{titleColor:I="black"}=e,{titleFont:X="Helvetica"}=e,{titleFontSize:R=12}=e,{titleFontWeight:N="normal"}=e,{titleOpacity:Y=1}=e,{titleRotate:W=-Math.PI/2}=e,{titleAnchorPoint:H="center"}=e,{clip:D="outer"}=e;const B=O("section");let F,z,j,G,J,q,V,K,U,Z,Q;return a(t,B,(t=>n(43,o=t))),t.$$set=t=>{"flip"in t&&n(30,i=t.flip),"baseLine"in t&&n(0,r=t.baseLine),"baseLineColor"in t&&n(1,s=t.baseLineColor),"baseLineOpacity"in t&&n(2,c=t.baseLineOpacity),"baseLineWidth"in t&&n(3,u=t.baseLineWidth),"hjust"in t&&n(31,l=t.hjust),"xOffset"in t&&n(32,h=t.xOffset),"ticks"in t&&n(4,d=t.ticks),"tickCount"in t&&n(33,f=t.tickCount),"tickExtra"in t&&n(34,p=t.tickExtra),"tickValues"in t&&n(35,g=t.tickValues),"tickSize"in t&&n(36,m=t.tickSize),"tickWidth"in t&&n(5,y=t.tickWidth),"tickColor"in t&&n(6,k=t.tickColor),"tickOpacity"in t&&n(7,v=t.tickOpacity),"labelFormat"in t&&n(37,M=t.labelFormat),"labelOffset"in t&&n(38,x=t.labelOffset),"labelRotate"in t&&n(8,b=t.labelRotate),"labelFont"in t&&n(9,$=t.labelFont),"labelFontSize"in t&&n(10,T=t.labelFontSize),"labelFontWeight"in t&&n(11,_=t.labelFontWeight),"labelOpacity"in t&&n(12,w=t.labelOpacity),"labelColor"in t&&n(13,S=t.labelColor),"titleHjust"in t&&n(39,C=t.titleHjust),"titleXOffset"in t&&n(40,A=t.titleXOffset),"titleVjust"in t&&n(41,L=t.titleVjust),"titleYOffset"in t&&n(42,P=t.titleYOffset),"title"in t&&n(14,E=t.title),"titleColor"in t&&n(15,I=t.titleColor),"titleFont"in t&&n(16,X=t.titleFont),"titleFontSize"in t&&n(17,R=t.titleFontSize),"titleFontWeight"in t&&n(18,N=t.titleFontWeight),"titleOpacity"in t&&n(19,Y=t.titleOpacity),"titleRotate"in t&&n(20,W=t.titleRotate),"titleAnchorPoint"in t&&n(21,H=t.titleAnchorPoint),"clip"in t&&n(22,D=t.clip)},t.$$.update=()=>{if(4096&t.$$.dirty[1]&&"polar"===o.transformation)throw new Error("Axes do'nt work with polar coordinates (for now)");4099&t.$$.dirty[1]&&n(44,F=Xh(l,h,o.paddedBbox)),12288&t.$$.dirty[1]&&n(25,z=function(t,{paddedBbox:e}){const{minY:n,maxY:o}=e;return{x:({pxAt:e})=>[t,t].map(e),y:({pyAt:t})=>[n,o].map(t)}}(F,o)),4124&t.$$.dirty[1]&&n(45,j=Nh(g,o.directScales.y,f,p,o.zoomIdentity?{t:o.zoomIdentity.y,k:o.zoomIdentity.ky}:void 0)),1073741824&t.$$.dirty[0]|24608&t.$$.dirty[1]&&n(23,G=function(t,e,n,o){const i=o?n:-n;return{x:({px:n,pxAt:o})=>{const r=o(e);return t.map((t=>[r,r+n(i)]))},y:({scaleY:e,bwy:n})=>{const o=n?n()/2:0;return t.map((t=>e(t)+o)).map((t=>[t,t]))}}}(j,F,m,i)),16&t.$$.dirty[0]|4160&t.$$.dirty[1]&&n(46,J=Yh(M,o.scaleY,d.length)),49152&t.$$.dirty[1]&&n(24,q=j.map(J)),1082130432&t.$$.dirty[0]|128&t.$$.dirty[1]&&n(26,V=function(t,e,n){const o=n?e:-e;return{x:e=>t.x(e).map((t=>t[1]+e.px(o))),y:e=>t.y(e).map((t=>t[0]))}}(G,x,i)),1073741824&t.$$.dirty[0]&&n(27,K=i?"l":"r"),16778752&t.$$.dirty[0]&&n(47,U=Wh(q[q.length-1],T,$)),8&t.$$.dirty[0]|65696&t.$$.dirty[1]&&n(48,Z=u+m+x+U),1073872896&t.$$.dirty[0]|147200&t.$$.dirty[1]&&n(28,Q=Dh(C,A,L,P,o,i,Z,0,F))},[r,s,c,u,d,y,k,v,b,$,T,_,w,S,E,I,X,R,N,Y,W,H,D,G,q,z,V,K,Q,B,i,l,h,f,p,g,m,M,x,C,A,L,P,o,F,j,J,U,Z]}class Qh extends nt{constructor(t){super(),et(this,t,Zh,Uh,s,{flip:30,baseLine:0,baseLineColor:1,baseLineOpacity:2,baseLineWidth:3,hjust:31,xOffset:32,ticks:4,tickCount:33,tickExtra:34,tickValues:35,tickSize:36,tickWidth:5,tickColor:6,tickOpacity:7,labelFormat:37,labelOffset:38,labelRotate:8,labelFont:9,labelFontSize:10,labelFontWeight:11,labelOpacity:12,labelColor:13,titleHjust:39,titleXOffset:40,titleVjust:41,titleYOffset:42,title:14,titleColor:15,titleFont:16,titleFontSize:17,titleFontWeight:18,titleOpacity:19,titleRotate:20,titleAnchorPoint:21,clip:22},[-1,-1])}}function td(t){let n,o;const i=[t[3],{strokeWidth:t[0]},{opacity:t[2]},{stroke:t[1]}];let r={};for(let t=0;t<i.length;t+=1)r=e(r,i[t]);return n=new _h({props:r}),{c(){Z(n.$$.fragment)},m(t,e){Q(n,t,e),o=!0},p(t,[e]){const o=15&e?K(i,[8&e&&U(t[3]),1&e&&{strokeWidth:t[0]},4&e&&{opacity:t[2]},2&e&&{stroke:t[1]}]):{};n.$set(o)},i(t){o||(G(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){tt(n,t)}}}function ed(t,e,n){let o,{count:i=10}=e,{extra:r=!1}=e,{values:s}=e,{width:c=.25}=e,{color:u="black"}=e,{opacity:l=1}=e;const h=O("section");let d,f;return a(t,h,(t=>n(8,o=t))),t.$$set=t=>{"count"in t&&n(5,i=t.count),"extra"in t&&n(6,r=t.extra),"values"in t&&n(7,s=t.values),"width"in t&&n(0,c=t.width),"color"in t&&n(1,u=t.color),"opacity"in t&&n(2,l=t.opacity)},t.$$.update=()=>{if(256&t.$$.dirty&&o.coordinateSystem)throw new Error("Cannot use grid lines with alternative coordinate systems (for now)");480&t.$$.dirty&&n(9,d=Nh(s,o.directScales.x,i,r,o.zoomIdentity?{t:o.zoomIdentity.x,k:o.zoomIdentity.kx}:void 0)),512&t.$$.dirty&&n(3,f=function(t){return{x:({scaleX:e,bwx:n})=>{const o=n?n()/2:0;return t.map((t=>e(t)+o)).map((t=>[t,t]))},y:({pyAt:e,paddedBbox:n})=>{const o=e(n.minY),i=e(n.maxY);return Array(t.length).fill([o,i])}}}(d))},[c,u,l,f,h,i,r,s,o,d]}class nd extends nt{constructor(t){super(),et(this,t,ed,td,s,{count:5,extra:6,values:7,width:0,color:1,opacity:2})}}function od(t){let n,o;const i=[t[3],{strokeWidth:t[0]},{opacity:t[2]},{stroke:t[1]}];let r={};for(let t=0;t<i.length;t+=1)r=e(r,i[t]);return n=new _h({props:r}),{c(){Z(n.$$.fragment)},m(t,e){Q(n,t,e),o=!0},p(t,[e]){const o=15&e?K(i,[8&e&&U(t[3]),1&e&&{strokeWidth:t[0]},4&e&&{opacity:t[2]},2&e&&{stroke:t[1]}]):{};n.$set(o)},i(t){o||(G(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){tt(n,t)}}}function id(t,e,n){let o,{count:i=10}=e,{extra:r=!1}=e,{values:s}=e,{width:c=.25}=e,{color:u="black"}=e,{opacity:l=1}=e;const h=O("section");let d,f;return a(t,h,(t=>n(8,o=t))),t.$$set=t=>{"count"in t&&n(5,i=t.count),"extra"in t&&n(6,r=t.extra),"values"in t&&n(7,s=t.values),"width"in t&&n(0,c=t.width),"color"in t&&n(1,u=t.color),"opacity"in t&&n(2,l=t.opacity)},t.$$.update=()=>{if(256&t.$$.dirty&&o.coordinateSystem)throw new Error("Cannot use grid lines with alternative coordinate systems (for now)");480&t.$$.dirty&&n(9,d=Nh(s,o.directScales.y,i,r,o.zoomIdentity?{t:o.zoomIdentity.y,k:o.zoomIdentity.ky}:void 0)),512&t.$$.dirty&&n(3,f=function(t){return{x:({pxAt:e,paddedBbox:n})=>{const o=e(n.minX),i=e(n.maxX);return Array(t.length).fill([o,i])},y:({scaleY:e,bwy:n})=>{const o=n?n()/2:0;return t.map((t=>e(t)+o)).map((t=>[t,t]))}}}(d))},[c,u,l,f,h,i,r,s,o,d]}class rd extends nt{constructor(t){super(),et(this,t,id,od,s,{count:5,extra:6,values:7,width:0,color:1,opacity:2})}}function sd(t,e){if(t.constructor===Array){if(t.length!==e)throw new Error("Aesthetics and labels must all be of same length");return t}return Array(e).fill(t)}function ad(t,e,n){const o=t.slice();return o[25]=e[n],o[27]=n,o}function cd(t,e,n){const o=t.slice();return o[18]=e[n],o[27]=n,o}function ud(t){let e,n,o;return e=new el({props:{fill:t[18],fillOpacity:t[20][t[27]],stroke:t[9],strokeWidth:t[10],clip:t[16]}}),{c(){Z(e.$$.fragment),n=k()},m(t,i){Q(e,t,i),d(t,n,i),o=!0},p(t,n){const o={};524288&n&&(o.fill=t[18]),1048576&n&&(o.fillOpacity=t[20][t[27]]),512&n&&(o.stroke=t[9]),1024&n&&(o.strokeWidth=t[10]),65536&n&&(o.clip=t[16]),e.$set(o)},i(t){o||(G(e.$$.fragment,t),o=!0)},o(t){J(e.$$.fragment,t),o=!1},d(t){tt(e,t),t&&f(n)}}}function ld(t){let n,o;const i=[t[24][t[27]],{padding:t[7]}];let r={$$slots:{default:[ud]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)r=e(r,i[t]);return n=new hl({props:r}),{c(){Z(n.$$.fragment)},m(t,e){Q(n,t,e),o=!0},p(t,e){const o=16777344&e?K(i,[16777216&e&&U(t[24][t[27]]),128&e&&{padding:t[7]}]):{};10028544&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(G(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){tt(n,t)}}}function hd(t){let e,n,o=t[19],i=[];for(let e=0;e<o.length;e+=1)i[e]=ld(cd(t,o,e));const r=t=>J(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=v()},m(t,o){for(let e=0;e<i.length;e+=1)i[e].m(t,o);d(t,e,o),n=!0},p(t,n){if(18417280&n){let s;for(o=t[19],s=0;s<o.length;s+=1){const r=cd(t,o,s);i[s]?(i[s].p(r,n),G(i[s],1)):(i[s]=ld(r),i[s].c(),G(i[s],1),i[s].m(e.parentNode,e))}for(z(),s=o.length;s<i.length;s+=1)r(s);j()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)G(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)J(i[t]);n=!1},d(t){p(i,t),t&&f(e)}}}function dd(t){let e,n,o;return e=new Wl({props:{x:0,y:.5,text:t[25],anchorPoint:"l",fontFamily:t[11],fontSize:t[12],fontWeight:t[13],opacity:t[14],fill:t[15],clip:t[16]}}),{c(){Z(e.$$.fragment),n=k()},m(t,i){Q(e,t,i),d(t,n,i),o=!0},p(t,n){const o={};256&n&&(o.text=t[25]),2048&n&&(o.fontFamily=t[11]),4096&n&&(o.fontSize=t[12]),8192&n&&(o.fontWeight=t[13]),16384&n&&(o.opacity=t[14]),32768&n&&(o.fill=t[15]),65536&n&&(o.clip=t[16]),e.$set(o)},i(t){o||(G(e.$$.fragment,t),o=!0)},o(t){J(e.$$.fragment,t),o=!1},d(t){tt(e,t),t&&f(n)}}}function fd(t){let n,o;const i=[t[24][t[27]],{padding:t[7]}];let r={$$slots:{default:[dd]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)r=e(r,i[t]);return n=new hl({props:r}),{c(){Z(n.$$.fragment)},m(t,e){Q(n,t,e),o=!0},p(t,e){const o=16777344&e?K(i,[16777216&e&&U(t[24][t[27]]),128&e&&{padding:t[7]}]):{};8517888&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(G(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){tt(n,t)}}}function pd(t){let e,n,o=t[8],i=[];for(let e=0;e<o.length;e+=1)i[e]=fd(ad(t,o,e));const r=t=>J(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=v()},m(t,o){for(let e=0;e<i.length;e+=1)i[e].m(t,o);d(t,e,o),n=!0},p(t,n){if(16906624&n){let s;for(o=t[8],s=0;s<o.length;s+=1){const r=ad(t,o,s);i[s]?(i[s].p(r,n),G(i[s],1)):(i[s]=fd(r),i[s].c(),G(i[s],1),i[s].m(e.parentNode,e))}for(z(),s=o.length;s<i.length;s+=1)r(s);j()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)G(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)J(i[t]);n=!1},d(t){p(i,t),t&&f(e)}}}function gd(t){let e,n,o,i,r;const s=t[22].default,a=c(s,t,t[23],null);return n=new _l({props:{x2:t[4],y1:t[5],numberOfCells:t[19].length,columns:1,padding:t[6],$$slots:{default:[hd,({cells:t})=>({24:t}),({cells:t})=>t?16777216:0]},$$scope:{ctx:t}}}),i=new _l({props:{x1:t[4],y1:t[5],numberOfCells:t[8].length,columns:1,padding:t[6],$$slots:{default:[pd,({cells:t})=>({24:t}),({cells:t})=>t?16777216:0]},$$scope:{ctx:t}}}),{c(){a&&a.c(),e=k(),Z(n.$$.fragment),o=k(),Z(i.$$.fragment)},m(t,s){a&&a.m(t,s),d(t,e,s),Q(n,t,s),d(t,o,s),Q(i,t,s),r=!0},p(t,e){a&&a.p&&8388608&e&&l(a,s,t,t[23],e,null,null);const o={};16&e&&(o.x2=t[4]),32&e&&(o.y1=t[5]),524288&e&&(o.numberOfCells=t[19].length),64&e&&(o.padding=t[6]),26805888&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o);const r={};16&e&&(r.x1=t[4]),32&e&&(r.y1=t[5]),256&e&&(r.numberOfCells=t[8].length),64&e&&(r.padding=t[6]),25295232&e&&(r.$$scope={dirty:e,ctx:t}),i.$set(r)},i(t){r||(G(a,t),G(n.$$.fragment,t),G(i.$$.fragment,t),r=!0)},o(t){J(a,t),J(n.$$.fragment,t),J(i.$$.fragment,t),r=!1},d(t){a&&a.d(t),t&&f(e),tt(n,t),t&&f(o),tt(i,t)}}}function md(t){let e,n;return e=new hl({props:{x1:t[0],x2:t[1],y1:t[2],y2:t[3],backgroundColor:t[17],$$slots:{default:[gd]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,[n]){const o={};1&n&&(o.x1=t[0]),2&n&&(o.x2=t[1]),4&n&&(o.y1=t[2]),8&n&&(o.y2=t[3]),131072&n&&(o.backgroundColor=t[17]),10092528&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function yd(t,e,n){let o,i,{$$slots:r={},$$scope:s}=e,{x1:a}=e,{x2:c}=e,{y1:u}=e,{y2:l}=e,{xDivider:h=.3}=e,{yDivider:d=.2}=e,{padding:f=1}=e,{cellPadding:p=2}=e,{labels:g}=e,{fill:m}=e,{opacity:y=1}=e,{stroke:k="none"}=e,{strokeWidth:v=2}=e,{labelFont:M="Helvetica"}=e,{labelFontSize:x=10}=e,{labelFontWeight:b="normal"}=e,{labelOpacity:$=1}=e,{labelColor:T="black"}=e,{clip:_="outer"}=e,{backgroundColor:w}=e;return t.$$set=t=>{"x1"in t&&n(0,a=t.x1),"x2"in t&&n(1,c=t.x2),"y1"in t&&n(2,u=t.y1),"y2"in t&&n(3,l=t.y2),"xDivider"in t&&n(4,h=t.xDivider),"yDivider"in t&&n(5,d=t.yDivider),"padding"in t&&n(6,f=t.padding),"cellPadding"in t&&n(7,p=t.cellPadding),"labels"in t&&n(8,g=t.labels),"fill"in t&&n(18,m=t.fill),"opacity"in t&&n(21,y=t.opacity),"stroke"in t&&n(9,k=t.stroke),"strokeWidth"in t&&n(10,v=t.strokeWidth),"labelFont"in t&&n(11,M=t.labelFont),"labelFontSize"in t&&n(12,x=t.labelFontSize),"labelFontWeight"in t&&n(13,b=t.labelFontWeight),"labelOpacity"in t&&n(14,$=t.labelOpacity),"labelColor"in t&&n(15,T=t.labelColor),"clip"in t&&n(16,_=t.clip),"backgroundColor"in t&&n(17,w=t.backgroundColor),"$$scope"in t&&n(23,s=t.$$scope)},t.$$.update=()=>{if(262400&t.$$.dirty&&n(19,o=sd(m,g.length)),2097408&t.$$.dirty&&n(20,i=sd(y,g.length)),1572864&t.$$.dirty&&o.length!==i.length)throw new Error("Aesthetics and labels must all be of same length")},[a,c,u,l,h,d,f,p,g,k,v,M,x,b,$,T,_,w,m,o,i,y,r,s]}class kd extends nt{constructor(t){super(),et(this,t,yd,md,s,{x1:0,x2:1,y1:2,y2:3,xDivider:4,yDivider:5,padding:6,cellPadding:7,labels:8,fill:18,opacity:21,stroke:9,strokeWidth:10,labelFont:11,labelFontSize:12,labelFontWeight:13,labelOpacity:14,labelColor:15,clip:16,backgroundColor:17})}}function vd(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Md(t){let e,n,o;return{c(){e=m("stop"),M(e,"offset",n=t[3][t[6]]),M(e,"style",o=`\n            stop-color: ${t[1][t[6]]};\n            stop-opacity: ${t[2][t[6]]}\n          `)},m(t,n){d(t,e,n)},p(t,i){8&i&&n!==(n=t[3][t[6]])&&M(e,"offset",n),6&i&&o!==(o=`\n            stop-color: ${t[1][t[6]]};\n            stop-opacity: ${t[2][t[6]]}\n          `)&&M(e,"style",o)},d(t){t&&f(e)}}}function xd(e){let n,o,i=e[1],r=[];for(let t=0;t<i.length;t+=1)r[t]=Md(vd(e,i,t));return{c(){n=m("defs"),o=m("linearGradient");for(let t=0;t<r.length;t+=1)r[t].c();M(o,"id",e[0]),M(o,"gradientTransform","rotate(90)")},m(t,e){d(t,n,e),h(n,o);for(let t=0;t<r.length;t+=1)r[t].m(o,null)},p(t,[e]){if(14&e){let n;for(i=t[1],n=0;n<i.length;n+=1){const s=vd(t,i,n);r[n]?r[n].p(s,e):(r[n]=Md(s),r[n].c(),r[n].m(o,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=i.length}1&e&&M(o,"id",t[0])},i:t,o:t,d(t){t&&f(n),p(r,t)}}}function bd(t,e,n){let o,{gradientId:i}=e,{fills:r}=e,{opacities:s}=e;return t.$$set=t=>{"gradientId"in t&&n(0,i=t.gradientId),"fills"in t&&n(1,r=t.fills),"opacities"in t&&n(2,s=t.opacities)},t.$$.update=()=>{2&t.$$.dirty&&n(3,o=function(t){if(t<2)throw new Error("At least 2 colors needed for gradient");const e=100/(t-1),n=[];for(let o=0;o<t;o++)n.push(`${Math.floor(o*e)}%`);return n}(r.length))},[i,r,s,o]}class $d extends nt{constructor(t){super(),et(this,t,bd,xd,s,{gradientId:0,fills:1,opacities:2})}}function Td(t,e,n){const o=t.slice();return o[27]=e[n],o[29]=n,o}function _d(t){let e,n;return e=new el({props:{fill:`url(#${t[20]})`,stroke:t[8],strokeWidth:t[9],clip:t[15]}}),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};256&n&&(o.stroke=t[8]),512&n&&(o.strokeWidth=t[9]),32768&n&&(o.clip=t[15]),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function wd(t){let e,n,o;return e=new Wl({props:{x:0,y:.5,text:t[27],anchorPoint:"l",fontFamily:t[10],fontSize:t[11],fontWeight:t[12],opacity:t[13],fill:t[14],clip:t[15]}}),{c(){Z(e.$$.fragment),n=k()},m(t,i){Q(e,t,i),d(t,n,i),o=!0},p(t,n){const o={};128&n&&(o.text=t[27]),1024&n&&(o.fontFamily=t[10]),2048&n&&(o.fontSize=t[11]),4096&n&&(o.fontWeight=t[12]),8192&n&&(o.opacity=t[13]),16384&n&&(o.fill=t[14]),32768&n&&(o.clip=t[15]),e.$set(o)},i(t){o||(G(e.$$.fragment,t),o=!0)},o(t){J(e.$$.fragment,t),o=!1},d(t){tt(e,t),t&&f(n)}}}function Sd(t){let n,o;const i=[t[26][t[29]]];let r={$$slots:{default:[wd]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)r=e(r,i[t]);return n=new hl({props:r}),{c(){Z(n.$$.fragment)},m(t,e){Q(n,t,e),o=!0},p(t,e){const o=67108864&e?K(i,[U(t[26][t[29]])]):{};16841856&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(G(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){tt(n,t)}}}function Cd(t){let e,n,o=t[7],i=[];for(let e=0;e<o.length;e+=1)i[e]=Sd(Td(t,o,e));const r=t=>J(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=v()},m(t,o){for(let e=0;e<i.length;e+=1)i[e].m(t,o);d(t,e,o),n=!0},p(t,n){if(67173504&n){let s;for(o=t[7],s=0;s<o.length;s+=1){const r=Td(t,o,s);i[s]?(i[s].p(r,n),G(i[s],1)):(i[s]=Sd(r),i[s].c(),G(i[s],1),i[s].m(e.parentNode,e))}for(z(),s=o.length;s<i.length;s+=1)r(s);j()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)G(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)J(i[t]);n=!1},d(t){p(i,t),t&&f(e)}}}function Od(t){let n,o,i,r,s;const a=t[23].default,u=c(a,t,t[24],null),h=[t[19],{padding:t[6]}];let p={$$slots:{default:[_d]},$$scope:{ctx:t}};for(let t=0;t<h.length;t+=1)p=e(p,h[t]);return o=new hl({props:p}),r=new _l({props:{x1:t[4],y1:t[5],padding:t[6],numberOfCells:t[7].length,columns:1,$$slots:{default:[Cd,({cells:t})=>({26:t}),({cells:t})=>t?67108864:0]},$$scope:{ctx:t}}}),{c(){u&&u.c(),n=k(),Z(o.$$.fragment),i=k(),Z(r.$$.fragment)},m(t,e){u&&u.m(t,e),d(t,n,e),Q(o,t,e),d(t,i,e),Q(r,t,e),s=!0},p(t,e){u&&u.p&&16777216&e&&l(u,a,t,t[24],e,null,null);const n=524352&e?K(h,[524288&e&&U(t[19]),64&e&&{padding:t[6]}]):{};16810752&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);const i={};16&e&&(i.x1=t[4]),32&e&&(i.y1=t[5]),64&e&&(i.padding=t[6]),128&e&&(i.numberOfCells=t[7].length),83950720&e&&(i.$$scope={dirty:e,ctx:t}),r.$set(i)},i(t){s||(G(u,t),G(o.$$.fragment,t),G(r.$$.fragment,t),s=!0)},o(t){J(u,t),J(o.$$.fragment,t),J(r.$$.fragment,t),s=!1},d(t){u&&u.d(t),t&&f(n),tt(o,t),t&&f(i),tt(r,t)}}}function Ad(t){let e,n,o,i;return e=new $d({props:{gradientId:t[20],fills:t[17],opacities:t[18]}}),o=new hl({props:{x1:t[0],x2:t[1],y1:t[2],y2:t[3],backgroundColor:t[16],$$slots:{default:[Od]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=k(),Z(o.$$.fragment)},m(t,r){Q(e,t,r),d(t,n,r),Q(o,t,r),i=!0},p(t,[n]){const i={};131072&n&&(i.fills=t[17]),262144&n&&(i.opacities=t[18]),e.$set(i);const r={};1&n&&(r.x1=t[0]),2&n&&(r.x2=t[1]),4&n&&(r.y1=t[2]),8&n&&(r.y2=t[3]),65536&n&&(r.backgroundColor=t[16]),17367024&n&&(r.$$scope={dirty:n,ctx:t}),o.$set(r)},i(t){i||(G(e.$$.fragment,t),G(o.$$.fragment,t),i=!0)},o(t){J(e.$$.fragment,t),J(o.$$.fragment,t),i=!1},d(t){tt(e,t),t&&f(n),tt(o,t)}}}let Ld=0;function Pd(t,e,n){let{$$slots:o={},$$scope:i}=e,{x1:r}=e,{x2:s}=e,{y1:a}=e,{y2:c}=e,{xDivider:u=.3}=e,{yDivider:l=.2}=e,{padding:h=1}=e,{labels:d}=e,{fill:f}=e,{opacity:p=1}=e,{stroke:g="none"}=e,{strokeWidth:m=2}=e,{labelFont:y="Helvetica"}=e,{labelFontSize:k=10}=e,{labelFontWeight:v="normal"}=e,{labelOpacity:M=1}=e,{labelColor:x="black"}=e,{clip:b="outer"}=e,{backgroundColor:$}=e;const{renderer:T}=O("graphic");if("svg"!==T)throw new Error("GradientLegend only works with svg (for now)");const _="gradient"+Ld++;let w,S,C;return t.$$set=t=>{"x1"in t&&n(0,r=t.x1),"x2"in t&&n(1,s=t.x2),"y1"in t&&n(2,a=t.y1),"y2"in t&&n(3,c=t.y2),"xDivider"in t&&n(4,u=t.xDivider),"yDivider"in t&&n(5,l=t.yDivider),"padding"in t&&n(6,h=t.padding),"labels"in t&&n(7,d=t.labels),"fill"in t&&n(21,f=t.fill),"opacity"in t&&n(22,p=t.opacity),"stroke"in t&&n(8,g=t.stroke),"strokeWidth"in t&&n(9,m=t.strokeWidth),"labelFont"in t&&n(10,y=t.labelFont),"labelFontSize"in t&&n(11,k=t.labelFontSize),"labelFontWeight"in t&&n(12,v=t.labelFontWeight),"labelOpacity"in t&&n(13,M=t.labelOpacity),"labelColor"in t&&n(14,x=t.labelColor),"clip"in t&&n(15,b=t.clip),"backgroundColor"in t&&n(16,$=t.backgroundColor),"$$scope"in t&&n(24,i=t.$$scope)},t.$$.update=()=>{if(176&t.$$.dirty&&n(19,w=function(t,e,n){const o=(1-e)/(2*n);return{x1:0,x2:t,y1:e+o,y2:1-o}}(u,l,d.length)),2097280&t.$$.dirty&&n(17,S=sd(f,d.length)),4194432&t.$$.dirty&&n(18,C=sd(p,d.length)),393216&t.$$.dirty&&S.length!==C.length)throw new Error("Aesthetics and labels must all be of same length")},[r,s,a,c,u,l,h,d,g,m,y,k,v,M,x,b,$,S,C,w,_,f,p,o,i]}class Ed extends nt{constructor(t){super(),et(this,t,Pd,Ad,s,{x1:0,x2:1,y1:2,y2:3,xDivider:4,yDivider:5,padding:6,labels:7,fill:21,opacity:22,stroke:8,strokeWidth:9,labelFont:10,labelFontSize:11,labelFontWeight:12,labelOpacity:13,labelColor:14,clip:15,backgroundColor:16})}}function Id(t,e){const n=e.dimension||"both",o=e.setZoomIdentity,i=e.setBlockReindexing||Xd;let r,s=!1;return{handlers:{onMousedown:function(t){i(!0),s=!0,r=t.screenCoordinates},onMousemove:function(i){if(!s)return;const a=i.screenCoordinates,c=function(t,e){return{x:t.x-e.x,y:t.y-e.y}}(r,a);r=a;const u=e.extentX||[-1/0,1/0],l=e.extentY||[-1/0,1/0],h=t.x-c.x,d=t.y-c.y;h<=u[1]&&h>=u[0]&&(t.x-=c.x),d<=l[1]&&d>=l[0]&&(t.y-=c.y),"x"===n&&(t.y=0),"y"===n&&(t.x=0),o(t)},onMouseup:function(t){i(!1),s=!1}},reset:function(){t.x=0,t.y=0,o(t)}}}const Xd=()=>{};function Rd(t,{setZoomIdentity:e,minZoom:n=.5,maxZoom:o=3,step:i=1,dimension:r="both"}){const s=function(s){const a=function(t){if("wheel"===t.type)return t.screenCoordinates;if("pinch"===t.type)return t.screenCenter}(s),c=s.delta*i,u=t.kx,l=t.ky,h=u-c,d=l-c,f=Math.max(h,d);if(g=o,n<=(p=f)&&p<=g){if("both"===r||"x"===r){t.kx=h;const e=Nd(u,h,a.x,t.x);t.x=e}if("both"===r||"y"===r){t.ky=d;const e=Nd(l,d,a.y,t.y);t.y=e}e(t)}var p,g};return{handlers:{onWheel:s,onPinch:s},reset:function(){t.x=0,t.y=0,t.kx=1,t.ky=1,e(t)}}}function Nd(t,e,n,o,i){return o+-((n-o)/t)*(e-t)}function Yd(t,e=(t=>t)){const n=t.domain(),o=[`< ${e(n[0])}`];for(let t=0;t<n.length-1;t++)o.push(`${e(n[t])} - ${e(n[t+1])}`);return o.push(`≥ ${e(n[n.length-1])}`),o}function Wd(t,e){}export{El as Area,Ih as AreaLayer,kd as DiscreteLegend,Rl as FuncLine,Al as Glyph,Ed as GradientLegend,vl as Graphic,_l as Grid,Wl as Label,Ch as LabelLayer,Bl as Line,_h as LineLayer,jl as Point,mh as PointLayer,ql as Polygon,bh as PolygonLayer,el as Rectangle,vh as RectangleLayer,hl as Section,Lh as SymbolLayer,Ul as Symbol_,Jh as XAxis,nd as XGridLines,Qh as YAxis,rd as YGridLines,Yc as cartesian,Id as createPanHandler,Rd as createZoomHandler,zo as fitScales,Yd as getClassLabels,Wd as interpolateLabels,cu as polar,Ho as x2,Bo as x2s,Do as y2,Fo as y2s};
